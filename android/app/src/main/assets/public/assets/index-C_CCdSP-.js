function YL(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var qZ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ck(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ek={exports:{}},Hg={},Nk={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vf=Symbol.for("react.element"),KL=Symbol.for("react.portal"),XL=Symbol.for("react.fragment"),ZL=Symbol.for("react.strict_mode"),JL=Symbol.for("react.profiler"),QL=Symbol.for("react.provider"),e6=Symbol.for("react.context"),t6=Symbol.for("react.forward_ref"),n6=Symbol.for("react.suspense"),r6=Symbol.for("react.memo"),i6=Symbol.for("react.lazy"),Kx=Symbol.iterator;function s6(e){return e===null||typeof e!="object"?null:(e=Kx&&e[Kx]||e["@@iterator"],typeof e=="function"?e:null)}var Tk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Pk=Object.assign,Rk={};function Hu(e,t,n){this.props=e,this.context=t,this.refs=Rk,this.updater=n||Tk}Hu.prototype.isReactComponent={};Hu.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hu.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Lk(){}Lk.prototype=Hu.prototype;function Zw(e,t,n){this.props=e,this.context=t,this.refs=Rk,this.updater=n||Tk}var Jw=Zw.prototype=new Lk;Jw.constructor=Zw;Pk(Jw,Hu.prototype);Jw.isPureReactComponent=!0;var Xx=Array.isArray,Ik=Object.prototype.hasOwnProperty,Qw={current:null},Mk={key:!0,ref:!0,__self:!0,__source:!0};function Ok(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)Ik.call(t,r)&&!Mk.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:vf,type:e,key:s,ref:a,props:i,_owner:Qw.current}}function a6(e,t){return{$$typeof:vf,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function eb(e){return typeof e=="object"&&e!==null&&e.$$typeof===vf}function o6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zx=/\/+/g;function xv(e,t){return typeof e=="object"&&e!==null&&e.key!=null?o6(""+e.key):t.toString(36)}function pm(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case vf:case KL:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+xv(a,0):r,Xx(i)?(n="",e!=null&&(n=e.replace(Zx,"$&/")+"/"),pm(i,t,n,"",function(c){return c})):i!=null&&(eb(i)&&(i=a6(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Zx,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",Xx(e))for(var o=0;o<e.length;o++){s=e[o];var l=r+xv(s,o);a+=pm(s,t,n,l,i)}else if(l=s6(e),typeof l=="function")for(e=l.call(e),o=0;!(s=e.next()).done;)s=s.value,l=r+xv(s,o++),a+=pm(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function kp(e,t,n){if(e==null)return e;var r=[],i=0;return pm(e,r,"","",function(s){return t.call(n,s,i++)}),r}function l6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jr={current:null},mm={transition:null},c6={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:mm,ReactCurrentOwner:Qw};function jk(){throw Error("act(...) is not supported in production builds of React.")}Vt.Children={map:kp,forEach:function(e,t,n){kp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return kp(e,function(){t++}),t},toArray:function(e){return kp(e,function(t){return t})||[]},only:function(e){if(!eb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Vt.Component=Hu;Vt.Fragment=XL;Vt.Profiler=JL;Vt.PureComponent=Zw;Vt.StrictMode=ZL;Vt.Suspense=n6;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c6;Vt.act=jk;Vt.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Pk({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=Qw.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Ik.call(t,l)&&!Mk.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:vf,type:e.type,key:i,ref:s,props:r,_owner:a}};Vt.createContext=function(e){return e={$$typeof:e6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:QL,_context:e},e.Consumer=e};Vt.createElement=Ok;Vt.createFactory=function(e){var t=Ok.bind(null,e);return t.type=e,t};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(e){return{$$typeof:t6,render:e}};Vt.isValidElement=eb;Vt.lazy=function(e){return{$$typeof:i6,_payload:{_status:-1,_result:e},_init:l6}};Vt.memo=function(e,t){return{$$typeof:r6,type:e,compare:t===void 0?null:t}};Vt.startTransition=function(e){var t=mm.transition;mm.transition={};try{e()}finally{mm.transition=t}};Vt.unstable_act=jk;Vt.useCallback=function(e,t){return Jr.current.useCallback(e,t)};Vt.useContext=function(e){return Jr.current.useContext(e)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(e){return Jr.current.useDeferredValue(e)};Vt.useEffect=function(e,t){return Jr.current.useEffect(e,t)};Vt.useId=function(){return Jr.current.useId()};Vt.useImperativeHandle=function(e,t,n){return Jr.current.useImperativeHandle(e,t,n)};Vt.useInsertionEffect=function(e,t){return Jr.current.useInsertionEffect(e,t)};Vt.useLayoutEffect=function(e,t){return Jr.current.useLayoutEffect(e,t)};Vt.useMemo=function(e,t){return Jr.current.useMemo(e,t)};Vt.useReducer=function(e,t,n){return Jr.current.useReducer(e,t,n)};Vt.useRef=function(e){return Jr.current.useRef(e)};Vt.useState=function(e){return Jr.current.useState(e)};Vt.useSyncExternalStore=function(e,t,n){return Jr.current.useSyncExternalStore(e,t,n)};Vt.useTransition=function(){return Jr.current.useTransition()};Vt.version="18.3.1";Nk.exports=Vt;var R=Nk.exports;const Ge=Ck(R),tb=YL({__proto__:null,default:Ge},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u6=R,d6=Symbol.for("react.element"),h6=Symbol.for("react.fragment"),f6=Object.prototype.hasOwnProperty,p6=u6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,m6={key:!0,ref:!0,__self:!0,__source:!0};function Dk(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)f6.call(t,r)&&!m6.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:d6,type:e,key:s,ref:a,props:i,_owner:p6.current}}Hg.Fragment=h6;Hg.jsx=Dk;Hg.jsxs=Dk;Ek.exports=Hg;var x=Ek.exports,Fk={exports:{}},Mi={},Bk={exports:{}},Uk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,se){var oe=W.length;W.push(se);e:for(;0<oe;){var K=oe-1>>>1,B=W[K];if(0<i(B,se))W[K]=se,W[oe]=B,oe=K;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var se=W[0],oe=W.pop();if(oe!==se){W[0]=oe;e:for(var K=0,B=W.length,X=B>>>1;K<X;){var ne=2*(K+1)-1,Z=W[ne],te=ne+1,E=W[te];if(0>i(Z,oe))te<B&&0>i(E,Z)?(W[K]=E,W[te]=oe,K=te):(W[K]=Z,W[ne]=oe,K=ne);else if(te<B&&0>i(E,oe))W[K]=E,W[te]=oe,K=te;else break e}}return se}function i(W,se){var oe=W.sortIndex-se.sortIndex;return oe!==0?oe:W.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,g=3,d=!1,m=!1,v=!1,h=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(W){for(var se=n(c);se!==null;){if(se.callback===null)r(c);else if(se.startTime<=W)r(c),se.sortIndex=se.expirationTime,t(l,se);else break;se=n(c)}}function k(W){if(v=!1,b(W),!m)if(n(l)!==null)m=!0,ie(L);else{var se=n(c);se!==null&&fe(k,se.startTime-W)}}function L(W,se){m=!1,v&&(v=!1,p(q),q=-1),d=!0;var oe=g;try{for(b(se),f=n(l);f!==null&&(!(f.expirationTime>se)||W&&!$());){var K=f.callback;if(typeof K=="function"){f.callback=null,g=f.priorityLevel;var B=K(f.expirationTime<=se);se=e.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),b(se)}else r(l);f=n(l)}if(f!==null)var X=!0;else{var ne=n(c);ne!==null&&fe(k,ne.startTime-se),X=!1}return X}finally{f=null,g=oe,d=!1}}var j=!1,D=null,q=-1,z=5,ee=-1;function $(){return!(e.unstable_now()-ee<z)}function H(){if(D!==null){var W=e.unstable_now();ee=W;var se=!0;try{se=D(!0,W)}finally{se?ae():(j=!1,D=null)}}else j=!1}var ae;if(typeof y=="function")ae=function(){y(H)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,Q=Y.port2;Y.port1.onmessage=H,ae=function(){Q.postMessage(null)}}else ae=function(){h(H,0)};function ie(W){D=W,j||(j=!0,ae())}function fe(W,se){q=h(function(){W(e.unstable_now())},se)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,ie(L))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(W){switch(g){case 1:case 2:case 3:var se=3;break;default:se=g}var oe=g;g=se;try{return W()}finally{g=oe}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var oe=g;g=W;try{return se()}finally{g=oe}},e.unstable_scheduleCallback=function(W,se,oe){var K=e.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?K+oe:K):oe=K,W){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=oe+B,W={id:u++,callback:se,priorityLevel:W,startTime:oe,expirationTime:B,sortIndex:-1},oe>K?(W.sortIndex=oe,t(c,W),n(l)===null&&W===n(c)&&(v?(p(q),q=-1):v=!0,fe(k,oe-K))):(W.sortIndex=B,t(l,W),m||d||(m=!0,ie(L))),W},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(W){var se=g;return function(){var oe=g;g=se;try{return W.apply(this,arguments)}finally{g=oe}}}})(Uk);Bk.exports=Uk;var g6=Bk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v6=R,Ri=g6;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $k=new Set,xh={};function sc(e,t){Su(e,t),Su(e+"Capture",t)}function Su(e,t){for(xh[e]=t,e=0;e<t.length;e++)$k.add(t[e])}var Da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Q1=Object.prototype.hasOwnProperty,y6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jx={},Qx={};function w6(e){return Q1.call(Qx,e)?!0:Q1.call(Jx,e)?!1:y6.test(e)?Qx[e]=!0:(Jx[e]=!0,!1)}function b6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function x6(e,t,n,r){if(t===null||typeof t>"u"||b6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qr(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Rr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Rr[e]=new Qr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Rr[t]=new Qr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Rr[e]=new Qr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Rr[e]=new Qr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Rr[e]=new Qr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Rr[e]=new Qr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Rr[e]=new Qr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Rr[e]=new Qr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Rr[e]=new Qr(e,5,!1,e.toLowerCase(),null,!1,!1)});var nb=/[\-:]([a-z])/g;function rb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nb,rb);Rr[t]=new Qr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nb,rb);Rr[t]=new Qr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nb,rb);Rr[t]=new Qr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Rr[e]=new Qr(e,1,!1,e.toLowerCase(),null,!1,!1)});Rr.xlinkHref=new Qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Rr[e]=new Qr(e,1,!1,e.toLowerCase(),null,!0,!0)});function ib(e,t,n,r){var i=Rr.hasOwnProperty(t)?Rr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(x6(t,n,i,r)&&(n=null),r||i===null?w6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ha=v6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Cp=Symbol.for("react.element"),Yc=Symbol.for("react.portal"),Kc=Symbol.for("react.fragment"),sb=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),zk=Symbol.for("react.provider"),qk=Symbol.for("react.context"),ab=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ny=Symbol.for("react.suspense_list"),ob=Symbol.for("react.memo"),go=Symbol.for("react.lazy"),Hk=Symbol.for("react.offscreen"),e5=Symbol.iterator;function Ld(e){return e===null||typeof e!="object"?null:(e=e5&&e[e5]||e["@@iterator"],typeof e=="function"?e:null)}var jn=Object.assign,_v;function Kd(e){if(_v===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);_v=t&&t[1]||""}return`
`+_v+e}var Sv=!1;function Av(e,t){if(!e||Sv)return"";Sv=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Sv=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Kd(e):""}function _6(e){switch(e.tag){case 5:return Kd(e.type);case 16:return Kd("Lazy");case 13:return Kd("Suspense");case 19:return Kd("SuspenseList");case 0:case 2:case 15:return e=Av(e.type,!1),e;case 11:return e=Av(e.type.render,!1),e;case 1:return e=Av(e.type,!0),e;default:return""}}function ry(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kc:return"Fragment";case Yc:return"Portal";case ey:return"Profiler";case sb:return"StrictMode";case ty:return"Suspense";case ny:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case qk:return(e.displayName||"Context")+".Consumer";case zk:return(e._context.displayName||"Context")+".Provider";case ab:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ob:return t=e.displayName||null,t!==null?t:ry(e.type)||"Memo";case go:t=e._payload,e=e._init;try{return ry(e(t))}catch{}}return null}function S6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ry(t);case 8:return t===sb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function zo(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Wk(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function A6(e){var t=Wk(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ep(e){e._valueTracker||(e._valueTracker=A6(e))}function Vk(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Wk(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Um(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function iy(e,t){var n=t.checked;return jn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function t5(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=zo(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Gk(e,t){t=t.checked,t!=null&&ib(e,"checked",t,!1)}function sy(e,t){Gk(e,t);var n=zo(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ay(e,t.type,n):t.hasOwnProperty("defaultValue")&&ay(e,t.type,zo(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function n5(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ay(e,t,n){(t!=="number"||Um(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Xd=Array.isArray;function lu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+zo(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function oy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return jn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function r5(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(He(92));if(Xd(n)){if(1<n.length)throw Error(He(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:zo(n)}}function Yk(e,t){var n=zo(t.value),r=zo(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function i5(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kk(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ly(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kk(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Np,Xk=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Np=Np||document.createElement("div"),Np.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Np.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _h(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var sh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k6=["Webkit","ms","Moz","O"];Object.keys(sh).forEach(function(e){k6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),sh[t]=sh[e]})});function Zk(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||sh.hasOwnProperty(e)&&sh[e]?(""+t).trim():t+"px"}function Jk(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zk(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var C6=jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cy(e,t){if(t){if(C6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function uy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dy=null;function lb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hy=null,cu=null,uu=null;function s5(e){if(e=bf(e)){if(typeof hy!="function")throw Error(He(280));var t=e.stateNode;t&&(t=Kg(t),hy(e.stateNode,e.type,t))}}function Qk(e){cu?uu?uu.push(e):uu=[e]:cu=e}function eC(){if(cu){var e=cu,t=uu;if(uu=cu=null,s5(e),t)for(e=0;e<t.length;e++)s5(t[e])}}function tC(e,t){return e(t)}function nC(){}var kv=!1;function rC(e,t,n){if(kv)return e(t,n);kv=!0;try{return tC(e,t,n)}finally{kv=!1,(cu!==null||uu!==null)&&(nC(),eC())}}function Sh(e,t){var n=e.stateNode;if(n===null)return null;var r=Kg(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(He(231,t,typeof n));return n}var fy=!1;if(Da)try{var Id={};Object.defineProperty(Id,"passive",{get:function(){fy=!0}}),window.addEventListener("test",Id,Id),window.removeEventListener("test",Id,Id)}catch{fy=!1}function E6(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var ah=!1,$m=null,zm=!1,py=null,N6={onError:function(e){ah=!0,$m=e}};function T6(e,t,n,r,i,s,a,o,l){ah=!1,$m=null,E6.apply(N6,arguments)}function P6(e,t,n,r,i,s,a,o,l){if(T6.apply(this,arguments),ah){if(ah){var c=$m;ah=!1,$m=null}else throw Error(He(198));zm||(zm=!0,py=c)}}function ac(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function iC(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function a5(e){if(ac(e)!==e)throw Error(He(188))}function R6(e){var t=e.alternate;if(!t){if(t=ac(e),t===null)throw Error(He(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return a5(i),e;if(s===r)return a5(i),t;s=s.sibling}throw Error(He(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(He(189))}}if(n.alternate!==r)throw Error(He(190))}if(n.tag!==3)throw Error(He(188));return n.stateNode.current===n?e:t}function sC(e){return e=R6(e),e!==null?aC(e):null}function aC(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=aC(e);if(t!==null)return t;e=e.sibling}return null}var oC=Ri.unstable_scheduleCallback,o5=Ri.unstable_cancelCallback,L6=Ri.unstable_shouldYield,I6=Ri.unstable_requestPaint,Gn=Ri.unstable_now,M6=Ri.unstable_getCurrentPriorityLevel,cb=Ri.unstable_ImmediatePriority,lC=Ri.unstable_UserBlockingPriority,qm=Ri.unstable_NormalPriority,O6=Ri.unstable_LowPriority,cC=Ri.unstable_IdlePriority,Wg=null,Qs=null;function j6(e){if(Qs&&typeof Qs.onCommitFiberRoot=="function")try{Qs.onCommitFiberRoot(Wg,e,void 0,(e.current.flags&128)===128)}catch{}}var bs=Math.clz32?Math.clz32:B6,D6=Math.log,F6=Math.LN2;function B6(e){return e>>>=0,e===0?32:31-(D6(e)/F6|0)|0}var Tp=64,Pp=4194304;function Zd(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Zd(o):(s&=a,s!==0&&(r=Zd(s)))}else a=n&~i,a!==0?r=Zd(a):s!==0&&(r=Zd(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-bs(t),i=1<<n,r|=e[n],t&=~i;return r}function U6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-bs(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=U6(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}function my(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uC(){var e=Tp;return Tp<<=1,!(Tp&4194240)&&(Tp=64),e}function Cv(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yf(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-bs(t),e[t]=n}function z6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-bs(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function ub(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-bs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var fn=0;function dC(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var hC,db,fC,pC,mC,gy=!1,Rp=[],Po=null,Ro=null,Lo=null,Ah=new Map,kh=new Map,bo=[],q6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l5(e,t){switch(e){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":Ro=null;break;case"mouseover":case"mouseout":Lo=null;break;case"pointerover":case"pointerout":Ah.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kh.delete(t.pointerId)}}function Md(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=bf(t),t!==null&&db(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function H6(e,t,n,r,i){switch(t){case"focusin":return Po=Md(Po,e,t,n,r,i),!0;case"dragenter":return Ro=Md(Ro,e,t,n,r,i),!0;case"mouseover":return Lo=Md(Lo,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Ah.set(s,Md(Ah.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,kh.set(s,Md(kh.get(s)||null,e,t,n,r,i)),!0}return!1}function gC(e){var t=Il(e.target);if(t!==null){var n=ac(t);if(n!==null){if(t=n.tag,t===13){if(t=iC(n),t!==null){e.blockedOn=t,mC(e.priority,function(){fC(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gm(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=vy(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);dy=r,n.target.dispatchEvent(r),dy=null}else return t=bf(n),t!==null&&db(t),e.blockedOn=n,!1;t.shift()}return!0}function c5(e,t,n){gm(e)&&n.delete(t)}function W6(){gy=!1,Po!==null&&gm(Po)&&(Po=null),Ro!==null&&gm(Ro)&&(Ro=null),Lo!==null&&gm(Lo)&&(Lo=null),Ah.forEach(c5),kh.forEach(c5)}function Od(e,t){e.blockedOn===t&&(e.blockedOn=null,gy||(gy=!0,Ri.unstable_scheduleCallback(Ri.unstable_NormalPriority,W6)))}function Ch(e){function t(i){return Od(i,e)}if(0<Rp.length){Od(Rp[0],e);for(var n=1;n<Rp.length;n++){var r=Rp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Po!==null&&Od(Po,e),Ro!==null&&Od(Ro,e),Lo!==null&&Od(Lo,e),Ah.forEach(t),kh.forEach(t),n=0;n<bo.length;n++)r=bo[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bo.length&&(n=bo[0],n.blockedOn===null);)gC(n),n.blockedOn===null&&bo.shift()}var du=Ha.ReactCurrentBatchConfig,Wm=!0;function V6(e,t,n,r){var i=fn,s=du.transition;du.transition=null;try{fn=1,hb(e,t,n,r)}finally{fn=i,du.transition=s}}function G6(e,t,n,r){var i=fn,s=du.transition;du.transition=null;try{fn=4,hb(e,t,n,r)}finally{fn=i,du.transition=s}}function hb(e,t,n,r){if(Wm){var i=vy(e,t,n,r);if(i===null)jv(e,t,r,Vm,n),l5(e,r);else if(H6(i,e,t,n,r))r.stopPropagation();else if(l5(e,r),t&4&&-1<q6.indexOf(e)){for(;i!==null;){var s=bf(i);if(s!==null&&hC(s),s=vy(e,t,n,r),s===null&&jv(e,t,r,Vm,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else jv(e,t,r,null,n)}}var Vm=null;function vy(e,t,n,r){if(Vm=null,e=lb(r),e=Il(e),e!==null)if(t=ac(e),t===null)e=null;else if(n=t.tag,n===13){if(e=iC(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vm=e,null}function vC(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(M6()){case cb:return 1;case lC:return 4;case qm:case O6:return 16;case cC:return 536870912;default:return 16}default:return 16}}var Ao=null,fb=null,vm=null;function yC(){if(vm)return vm;var e,t=fb,n=t.length,r,i="value"in Ao?Ao.value:Ao.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return vm=i.slice(e,1<r?1-r:void 0)}function ym(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Lp(){return!0}function u5(){return!1}function Oi(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Lp:u5,this.isPropagationStopped=u5,this}return jn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Lp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Lp)},persist:function(){},isPersistent:Lp}),t}var Wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pb=Oi(Wu),wf=jn({},Wu,{view:0,detail:0}),Y6=Oi(wf),Ev,Nv,jd,Vg=jn({},wf,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mb,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jd&&(jd&&e.type==="mousemove"?(Ev=e.screenX-jd.screenX,Nv=e.screenY-jd.screenY):Nv=Ev=0,jd=e),Ev)},movementY:function(e){return"movementY"in e?e.movementY:Nv}}),d5=Oi(Vg),K6=jn({},Vg,{dataTransfer:0}),X6=Oi(K6),Z6=jn({},wf,{relatedTarget:0}),Tv=Oi(Z6),J6=jn({},Wu,{animationName:0,elapsedTime:0,pseudoElement:0}),Q6=Oi(J6),eI=jn({},Wu,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tI=Oi(eI),nI=jn({},Wu,{data:0}),h5=Oi(nI),rI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aI(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sI[e])?!!t[e]:!1}function mb(){return aI}var oI=jn({},wf,{key:function(e){if(e.key){var t=rI[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ym(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?iI[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mb,charCode:function(e){return e.type==="keypress"?ym(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ym(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),lI=Oi(oI),cI=jn({},Vg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f5=Oi(cI),uI=jn({},wf,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mb}),dI=Oi(uI),hI=jn({},Wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),fI=Oi(hI),pI=jn({},Vg,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),mI=Oi(pI),gI=[9,13,27,32],gb=Da&&"CompositionEvent"in window,oh=null;Da&&"documentMode"in document&&(oh=document.documentMode);var vI=Da&&"TextEvent"in window&&!oh,wC=Da&&(!gb||oh&&8<oh&&11>=oh),p5=" ",m5=!1;function bC(e,t){switch(e){case"keyup":return gI.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xC(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xc=!1;function yI(e,t){switch(e){case"compositionend":return xC(t);case"keypress":return t.which!==32?null:(m5=!0,p5);case"textInput":return e=t.data,e===p5&&m5?null:e;default:return null}}function wI(e,t){if(Xc)return e==="compositionend"||!gb&&bC(e,t)?(e=yC(),vm=fb=Ao=null,Xc=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wC&&t.locale!=="ko"?null:t.data;default:return null}}var bI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g5(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bI[e.type]:t==="textarea"}function _C(e,t,n,r){Qk(r),t=Gm(t,"onChange"),0<t.length&&(n=new pb("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var lh=null,Eh=null;function xI(e){IC(e,0)}function Gg(e){var t=Qc(e);if(Vk(t))return e}function _I(e,t){if(e==="change")return t}var SC=!1;if(Da){var Pv;if(Da){var Rv="oninput"in document;if(!Rv){var v5=document.createElement("div");v5.setAttribute("oninput","return;"),Rv=typeof v5.oninput=="function"}Pv=Rv}else Pv=!1;SC=Pv&&(!document.documentMode||9<document.documentMode)}function y5(){lh&&(lh.detachEvent("onpropertychange",AC),Eh=lh=null)}function AC(e){if(e.propertyName==="value"&&Gg(Eh)){var t=[];_C(t,Eh,e,lb(e)),rC(xI,t)}}function SI(e,t,n){e==="focusin"?(y5(),lh=t,Eh=n,lh.attachEvent("onpropertychange",AC)):e==="focusout"&&y5()}function AI(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Gg(Eh)}function kI(e,t){if(e==="click")return Gg(t)}function CI(e,t){if(e==="input"||e==="change")return Gg(t)}function EI(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _s=typeof Object.is=="function"?Object.is:EI;function Nh(e,t){if(_s(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q1.call(t,i)||!_s(e[i],t[i]))return!1}return!0}function w5(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function b5(e,t){var n=w5(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w5(n)}}function kC(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kC(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function CC(){for(var e=window,t=Um();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Um(e.document)}return t}function vb(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function NI(e){var t=CC(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&kC(n.ownerDocument.documentElement,n)){if(r!==null&&vb(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=b5(n,s);var a=b5(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TI=Da&&"documentMode"in document&&11>=document.documentMode,Zc=null,yy=null,ch=null,wy=!1;function x5(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wy||Zc==null||Zc!==Um(r)||(r=Zc,"selectionStart"in r&&vb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ch&&Nh(ch,r)||(ch=r,r=Gm(yy,"onSelect"),0<r.length&&(t=new pb("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zc)))}function Ip(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jc={animationend:Ip("Animation","AnimationEnd"),animationiteration:Ip("Animation","AnimationIteration"),animationstart:Ip("Animation","AnimationStart"),transitionend:Ip("Transition","TransitionEnd")},Lv={},EC={};Da&&(EC=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function Yg(e){if(Lv[e])return Lv[e];if(!Jc[e])return e;var t=Jc[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in EC)return Lv[e]=t[n];return e}var NC=Yg("animationend"),TC=Yg("animationiteration"),PC=Yg("animationstart"),RC=Yg("transitionend"),LC=new Map,_5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xo(e,t){LC.set(e,t),sc(t,[e])}for(var Iv=0;Iv<_5.length;Iv++){var Mv=_5[Iv],PI=Mv.toLowerCase(),RI=Mv[0].toUpperCase()+Mv.slice(1);Xo(PI,"on"+RI)}Xo(NC,"onAnimationEnd");Xo(TC,"onAnimationIteration");Xo(PC,"onAnimationStart");Xo("dblclick","onDoubleClick");Xo("focusin","onFocus");Xo("focusout","onBlur");Xo(RC,"onTransitionEnd");Su("onMouseEnter",["mouseout","mouseover"]);Su("onMouseLeave",["mouseout","mouseover"]);Su("onPointerEnter",["pointerout","pointerover"]);Su("onPointerLeave",["pointerout","pointerover"]);sc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sc("onBeforeInput",["compositionend","keypress","textInput","paste"]);sc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Jd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Jd));function S5(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,P6(r,t,void 0,e),e.currentTarget=null}function IC(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;S5(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;S5(i,o,c),s=l}}}if(zm)throw e=py,zm=!1,py=null,e}function En(e,t){var n=t[Ay];n===void 0&&(n=t[Ay]=new Set);var r=e+"__bubble";n.has(r)||(MC(t,e,2,!1),n.add(r))}function Ov(e,t,n){var r=0;t&&(r|=4),MC(n,e,r,t)}var Mp="_reactListening"+Math.random().toString(36).slice(2);function Th(e){if(!e[Mp]){e[Mp]=!0,$k.forEach(function(n){n!=="selectionchange"&&(LI.has(n)||Ov(n,!1,e),Ov(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Mp]||(t[Mp]=!0,Ov("selectionchange",!1,t))}}function MC(e,t,n,r){switch(vC(t)){case 1:var i=V6;break;case 4:i=G6;break;default:i=hb}n=i.bind(null,t,n,e),i=void 0,!fy||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function jv(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Il(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}rC(function(){var c=s,u=lb(n),f=[];e:{var g=LC.get(e);if(g!==void 0){var d=pb,m=e;switch(e){case"keypress":if(ym(n)===0)break e;case"keydown":case"keyup":d=lI;break;case"focusin":m="focus",d=Tv;break;case"focusout":m="blur",d=Tv;break;case"beforeblur":case"afterblur":d=Tv;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=d5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=X6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=dI;break;case NC:case TC:case PC:d=Q6;break;case RC:d=fI;break;case"scroll":d=Y6;break;case"wheel":d=mI;break;case"copy":case"cut":case"paste":d=tI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=f5}var v=(t&4)!==0,h=!v&&e==="scroll",p=v?g!==null?g+"Capture":null:g;v=[];for(var y=c,b;y!==null;){b=y;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,p!==null&&(k=Sh(y,p),k!=null&&v.push(Ph(y,k,b)))),h)break;y=y.return}0<v.length&&(g=new d(g,m,null,n,u),f.push({event:g,listeners:v}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",g&&n!==dy&&(m=n.relatedTarget||n.fromElement)&&(Il(m)||m[Fa]))break e;if((d||g)&&(g=u.window===u?u:(g=u.ownerDocument)?g.defaultView||g.parentWindow:window,d?(m=n.relatedTarget||n.toElement,d=c,m=m?Il(m):null,m!==null&&(h=ac(m),m!==h||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=c),d!==m)){if(v=d5,k="onMouseLeave",p="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(v=f5,k="onPointerLeave",p="onPointerEnter",y="pointer"),h=d==null?g:Qc(d),b=m==null?g:Qc(m),g=new v(k,y+"leave",d,n,u),g.target=h,g.relatedTarget=b,k=null,Il(u)===c&&(v=new v(p,y+"enter",m,n,u),v.target=b,v.relatedTarget=h,k=v),h=k,d&&m)t:{for(v=d,p=m,y=0,b=v;b;b=Ec(b))y++;for(b=0,k=p;k;k=Ec(k))b++;for(;0<y-b;)v=Ec(v),y--;for(;0<b-y;)p=Ec(p),b--;for(;y--;){if(v===p||p!==null&&v===p.alternate)break t;v=Ec(v),p=Ec(p)}v=null}else v=null;d!==null&&A5(f,g,d,v,!1),m!==null&&h!==null&&A5(f,h,m,v,!0)}}e:{if(g=c?Qc(c):window,d=g.nodeName&&g.nodeName.toLowerCase(),d==="select"||d==="input"&&g.type==="file")var L=_I;else if(g5(g))if(SC)L=CI;else{L=AI;var j=SI}else(d=g.nodeName)&&d.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(L=kI);if(L&&(L=L(e,c))){_C(f,L,n,u);break e}j&&j(e,g,c),e==="focusout"&&(j=g._wrapperState)&&j.controlled&&g.type==="number"&&ay(g,"number",g.value)}switch(j=c?Qc(c):window,e){case"focusin":(g5(j)||j.contentEditable==="true")&&(Zc=j,yy=c,ch=null);break;case"focusout":ch=yy=Zc=null;break;case"mousedown":wy=!0;break;case"contextmenu":case"mouseup":case"dragend":wy=!1,x5(f,n,u);break;case"selectionchange":if(TI)break;case"keydown":case"keyup":x5(f,n,u)}var D;if(gb)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else Xc?bC(e,n)&&(q="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(q="onCompositionStart");q&&(wC&&n.locale!=="ko"&&(Xc||q!=="onCompositionStart"?q==="onCompositionEnd"&&Xc&&(D=yC()):(Ao=u,fb="value"in Ao?Ao.value:Ao.textContent,Xc=!0)),j=Gm(c,q),0<j.length&&(q=new h5(q,e,null,n,u),f.push({event:q,listeners:j}),D?q.data=D:(D=xC(n),D!==null&&(q.data=D)))),(D=vI?yI(e,n):wI(e,n))&&(c=Gm(c,"onBeforeInput"),0<c.length&&(u=new h5("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=D))}IC(f,t)})}function Ph(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gm(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Sh(e,n),s!=null&&r.unshift(Ph(e,s,i)),s=Sh(e,t),s!=null&&r.push(Ph(e,s,i))),e=e.return}return r}function Ec(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function A5(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Sh(n,s),l!=null&&a.unshift(Ph(n,l,o))):i||(l=Sh(n,s),l!=null&&a.push(Ph(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var II=/\r\n?/g,MI=/\u0000|\uFFFD/g;function k5(e){return(typeof e=="string"?e:""+e).replace(II,`
`).replace(MI,"")}function Op(e,t,n){if(t=k5(t),k5(e)!==t&&n)throw Error(He(425))}function Ym(){}var by=null,xy=null;function _y(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sy=typeof setTimeout=="function"?setTimeout:void 0,OI=typeof clearTimeout=="function"?clearTimeout:void 0,C5=typeof Promise=="function"?Promise:void 0,jI=typeof queueMicrotask=="function"?queueMicrotask:typeof C5<"u"?function(e){return C5.resolve(null).then(e).catch(DI)}:Sy;function DI(e){setTimeout(function(){throw e})}function Dv(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ch(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ch(t)}function Io(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function E5(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Vu=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Vu,Rh="__reactProps$"+Vu,Fa="__reactContainer$"+Vu,Ay="__reactEvents$"+Vu,FI="__reactListeners$"+Vu,BI="__reactHandles$"+Vu;function Il(e){var t=e[Vs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Fa]||n[Vs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=E5(e);e!==null;){if(n=e[Vs])return n;e=E5(e)}return t}e=n,n=e.parentNode}return null}function bf(e){return e=e[Vs]||e[Fa],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Qc(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function Kg(e){return e[Rh]||null}var ky=[],eu=-1;function Zo(e){return{current:e}}function Tn(e){0>eu||(e.current=ky[eu],ky[eu]=null,eu--)}function xn(e,t){eu++,ky[eu]=e.current,e.current=t}var qo={},Ur=Zo(qo),oi=Zo(!1),Wl=qo;function Au(e,t){var n=e.type.contextTypes;if(!n)return qo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function li(e){return e=e.childContextTypes,e!=null}function Km(){Tn(oi),Tn(Ur)}function N5(e,t,n){if(Ur.current!==qo)throw Error(He(168));xn(Ur,t),xn(oi,n)}function OC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(He(108,S6(e)||"Unknown",i));return jn({},n,r)}function Xm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||qo,Wl=Ur.current,xn(Ur,e),xn(oi,oi.current),!0}function T5(e,t,n){var r=e.stateNode;if(!r)throw Error(He(169));n?(e=OC(e,t,Wl),r.__reactInternalMemoizedMergedChildContext=e,Tn(oi),Tn(Ur),xn(Ur,e)):Tn(oi),xn(oi,n)}var Ra=null,Xg=!1,Fv=!1;function jC(e){Ra===null?Ra=[e]:Ra.push(e)}function UI(e){Xg=!0,jC(e)}function Jo(){if(!Fv&&Ra!==null){Fv=!0;var e=0,t=fn;try{var n=Ra;for(fn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ra=null,Xg=!1}catch(i){throw Ra!==null&&(Ra=Ra.slice(e+1)),oC(cb,Jo),i}finally{fn=t,Fv=!1}}return null}var tu=[],nu=0,Zm=null,Jm=0,Hi=[],Wi=0,Vl=null,Ma=1,Oa="";function kl(e,t){tu[nu++]=Jm,tu[nu++]=Zm,Zm=e,Jm=t}function DC(e,t,n){Hi[Wi++]=Ma,Hi[Wi++]=Oa,Hi[Wi++]=Vl,Vl=e;var r=Ma;e=Oa;var i=32-bs(r)-1;r&=~(1<<i),n+=1;var s=32-bs(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ma=1<<32-bs(t)+i|n<<i|r,Oa=s+e}else Ma=1<<s|n<<i|r,Oa=e}function yb(e){e.return!==null&&(kl(e,1),DC(e,1,0))}function wb(e){for(;e===Zm;)Zm=tu[--nu],tu[nu]=null,Jm=tu[--nu],tu[nu]=null;for(;e===Vl;)Vl=Hi[--Wi],Hi[Wi]=null,Oa=Hi[--Wi],Hi[Wi]=null,Ma=Hi[--Wi],Hi[Wi]=null}var Ni=null,ki=null,Ln=!1,ys=null;function FC(e,t){var n=Gi(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function P5(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ni=e,ki=Io(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ni=e,ki=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Vl!==null?{id:Ma,overflow:Oa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Gi(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ni=e,ki=null,!0):!1;default:return!1}}function Cy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ey(e){if(Ln){var t=ki;if(t){var n=t;if(!P5(e,t)){if(Cy(e))throw Error(He(418));t=Io(n.nextSibling);var r=Ni;t&&P5(e,t)?FC(r,n):(e.flags=e.flags&-4097|2,Ln=!1,Ni=e)}}else{if(Cy(e))throw Error(He(418));e.flags=e.flags&-4097|2,Ln=!1,Ni=e}}}function R5(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ni=e}function jp(e){if(e!==Ni)return!1;if(!Ln)return R5(e),Ln=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_y(e.type,e.memoizedProps)),t&&(t=ki)){if(Cy(e))throw BC(),Error(He(418));for(;t;)FC(e,t),t=Io(t.nextSibling)}if(R5(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ki=Io(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ki=null}}else ki=Ni?Io(e.stateNode.nextSibling):null;return!0}function BC(){for(var e=ki;e;)e=Io(e.nextSibling)}function ku(){ki=Ni=null,Ln=!1}function bb(e){ys===null?ys=[e]:ys.push(e)}var $I=Ha.ReactCurrentBatchConfig;function Dd(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(He(309));var r=n.stateNode}if(!r)throw Error(He(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(He(284));if(!n._owner)throw Error(He(290,e))}return e}function Dp(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function L5(e){var t=e._init;return t(e._payload)}function UC(e){function t(p,y){if(e){var b=p.deletions;b===null?(p.deletions=[y],p.flags|=16):b.push(y)}}function n(p,y){if(!e)return null;for(;y!==null;)t(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=Do(p,y),p.index=0,p.sibling=null,p}function s(p,y,b){return p.index=b,e?(b=p.alternate,b!==null?(b=b.index,b<y?(p.flags|=2,y):b):(p.flags|=2,y)):(p.flags|=1048576,y)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,y,b,k){return y===null||y.tag!==6?(y=Wv(b,p.mode,k),y.return=p,y):(y=i(y,b),y.return=p,y)}function l(p,y,b,k){var L=b.type;return L===Kc?u(p,y,b.props.children,k,b.key):y!==null&&(y.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===go&&L5(L)===y.type)?(k=i(y,b.props),k.ref=Dd(p,y,b),k.return=p,k):(k=km(b.type,b.key,b.props,null,p.mode,k),k.ref=Dd(p,y,b),k.return=p,k)}function c(p,y,b,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=Vv(b,p.mode,k),y.return=p,y):(y=i(y,b.children||[]),y.return=p,y)}function u(p,y,b,k,L){return y===null||y.tag!==7?(y=$l(b,p.mode,k,L),y.return=p,y):(y=i(y,b),y.return=p,y)}function f(p,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Wv(""+y,p.mode,b),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Cp:return b=km(y.type,y.key,y.props,null,p.mode,b),b.ref=Dd(p,null,y),b.return=p,b;case Yc:return y=Vv(y,p.mode,b),y.return=p,y;case go:var k=y._init;return f(p,k(y._payload),b)}if(Xd(y)||Ld(y))return y=$l(y,p.mode,b,null),y.return=p,y;Dp(p,y)}return null}function g(p,y,b,k){var L=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return L!==null?null:o(p,y,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Cp:return b.key===L?l(p,y,b,k):null;case Yc:return b.key===L?c(p,y,b,k):null;case go:return L=b._init,g(p,y,L(b._payload),k)}if(Xd(b)||Ld(b))return L!==null?null:u(p,y,b,k,null);Dp(p,b)}return null}function d(p,y,b,k,L){if(typeof k=="string"&&k!==""||typeof k=="number")return p=p.get(b)||null,o(y,p,""+k,L);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Cp:return p=p.get(k.key===null?b:k.key)||null,l(y,p,k,L);case Yc:return p=p.get(k.key===null?b:k.key)||null,c(y,p,k,L);case go:var j=k._init;return d(p,y,b,j(k._payload),L)}if(Xd(k)||Ld(k))return p=p.get(b)||null,u(y,p,k,L,null);Dp(y,k)}return null}function m(p,y,b,k){for(var L=null,j=null,D=y,q=y=0,z=null;D!==null&&q<b.length;q++){D.index>q?(z=D,D=null):z=D.sibling;var ee=g(p,D,b[q],k);if(ee===null){D===null&&(D=z);break}e&&D&&ee.alternate===null&&t(p,D),y=s(ee,y,q),j===null?L=ee:j.sibling=ee,j=ee,D=z}if(q===b.length)return n(p,D),Ln&&kl(p,q),L;if(D===null){for(;q<b.length;q++)D=f(p,b[q],k),D!==null&&(y=s(D,y,q),j===null?L=D:j.sibling=D,j=D);return Ln&&kl(p,q),L}for(D=r(p,D);q<b.length;q++)z=d(D,p,q,b[q],k),z!==null&&(e&&z.alternate!==null&&D.delete(z.key===null?q:z.key),y=s(z,y,q),j===null?L=z:j.sibling=z,j=z);return e&&D.forEach(function($){return t(p,$)}),Ln&&kl(p,q),L}function v(p,y,b,k){var L=Ld(b);if(typeof L!="function")throw Error(He(150));if(b=L.call(b),b==null)throw Error(He(151));for(var j=L=null,D=y,q=y=0,z=null,ee=b.next();D!==null&&!ee.done;q++,ee=b.next()){D.index>q?(z=D,D=null):z=D.sibling;var $=g(p,D,ee.value,k);if($===null){D===null&&(D=z);break}e&&D&&$.alternate===null&&t(p,D),y=s($,y,q),j===null?L=$:j.sibling=$,j=$,D=z}if(ee.done)return n(p,D),Ln&&kl(p,q),L;if(D===null){for(;!ee.done;q++,ee=b.next())ee=f(p,ee.value,k),ee!==null&&(y=s(ee,y,q),j===null?L=ee:j.sibling=ee,j=ee);return Ln&&kl(p,q),L}for(D=r(p,D);!ee.done;q++,ee=b.next())ee=d(D,p,q,ee.value,k),ee!==null&&(e&&ee.alternate!==null&&D.delete(ee.key===null?q:ee.key),y=s(ee,y,q),j===null?L=ee:j.sibling=ee,j=ee);return e&&D.forEach(function(H){return t(p,H)}),Ln&&kl(p,q),L}function h(p,y,b,k){if(typeof b=="object"&&b!==null&&b.type===Kc&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Cp:e:{for(var L=b.key,j=y;j!==null;){if(j.key===L){if(L=b.type,L===Kc){if(j.tag===7){n(p,j.sibling),y=i(j,b.props.children),y.return=p,p=y;break e}}else if(j.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===go&&L5(L)===j.type){n(p,j.sibling),y=i(j,b.props),y.ref=Dd(p,j,b),y.return=p,p=y;break e}n(p,j);break}else t(p,j);j=j.sibling}b.type===Kc?(y=$l(b.props.children,p.mode,k,b.key),y.return=p,p=y):(k=km(b.type,b.key,b.props,null,p.mode,k),k.ref=Dd(p,y,b),k.return=p,p=k)}return a(p);case Yc:e:{for(j=b.key;y!==null;){if(y.key===j)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(p,y.sibling),y=i(y,b.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else t(p,y);y=y.sibling}y=Vv(b,p.mode,k),y.return=p,p=y}return a(p);case go:return j=b._init,h(p,y,j(b._payload),k)}if(Xd(b))return m(p,y,b,k);if(Ld(b))return v(p,y,b,k);Dp(p,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(p,y.sibling),y=i(y,b),y.return=p,p=y):(n(p,y),y=Wv(b,p.mode,k),y.return=p,p=y),a(p)):n(p,y)}return h}var Cu=UC(!0),$C=UC(!1),Qm=Zo(null),eg=null,ru=null,xb=null;function _b(){xb=ru=eg=null}function Sb(e){var t=Qm.current;Tn(Qm),e._currentValue=t}function Ny(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function hu(e,t){eg=e,xb=ru=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ii=!0),e.firstContext=null)}function Xi(e){var t=e._currentValue;if(xb!==e)if(e={context:e,memoizedValue:t,next:null},ru===null){if(eg===null)throw Error(He(308));ru=e,eg.dependencies={lanes:0,firstContext:e}}else ru=ru.next=e;return t}var Ml=null;function Ab(e){Ml===null?Ml=[e]:Ml.push(e)}function zC(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ab(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ba(e,r)}function Ba(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var vo=!1;function kb(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ja(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,en&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ba(e,n)}return i=r.interleaved,i===null?(t.next=t,Ab(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ba(e,n)}function wm(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ub(e,n)}}function I5(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function tg(e,t,n,r){var i=e.updateQueue;vo=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,u=c=l=null,o=s;do{var g=o.lane,d=o.eventTime;if((r&g)===g){u!==null&&(u=u.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,v=o;switch(g=t,d=n,v.tag){case 1:if(m=v.payload,typeof m=="function"){f=m.call(d,f,g);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,g=typeof m=="function"?m.call(d,f,g):m,g==null)break e;f=jn({},f,g);break e;case 2:vo=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else d={eventTime:d,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=d,l=f):u=u.next=d,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Yl|=a,e.lanes=a,e.memoizedState=f}}function M5(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(He(191,i));i.call(r)}}}var xf={},ea=Zo(xf),Lh=Zo(xf),Ih=Zo(xf);function Ol(e){if(e===xf)throw Error(He(174));return e}function Cb(e,t){switch(xn(Ih,t),xn(Lh,e),xn(ea,xf),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ly(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ly(t,e)}Tn(ea),xn(ea,t)}function Eu(){Tn(ea),Tn(Lh),Tn(Ih)}function HC(e){Ol(Ih.current);var t=Ol(ea.current),n=ly(t,e.type);t!==n&&(xn(Lh,e),xn(ea,n))}function Eb(e){Lh.current===e&&(Tn(ea),Tn(Lh))}var Mn=Zo(0);function ng(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bv=[];function Nb(){for(var e=0;e<Bv.length;e++)Bv[e]._workInProgressVersionPrimary=null;Bv.length=0}var bm=Ha.ReactCurrentDispatcher,Uv=Ha.ReactCurrentBatchConfig,Gl=0,On=null,ur=null,gr=null,rg=!1,uh=!1,Mh=0,zI=0;function Ir(){throw Error(He(321))}function Tb(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_s(e[n],t[n]))return!1;return!0}function Pb(e,t,n,r,i,s){if(Gl=s,On=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,bm.current=e===null||e.memoizedState===null?VI:GI,e=n(r,i),uh){s=0;do{if(uh=!1,Mh=0,25<=s)throw Error(He(301));s+=1,gr=ur=null,t.updateQueue=null,bm.current=YI,e=n(r,i)}while(uh)}if(bm.current=ig,t=ur!==null&&ur.next!==null,Gl=0,gr=ur=On=null,rg=!1,t)throw Error(He(300));return e}function Rb(){var e=Mh!==0;return Mh=0,e}function Hs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gr===null?On.memoizedState=gr=e:gr=gr.next=e,gr}function Zi(){if(ur===null){var e=On.alternate;e=e!==null?e.memoizedState:null}else e=ur.next;var t=gr===null?On.memoizedState:gr.next;if(t!==null)gr=t,ur=e;else{if(e===null)throw Error(He(310));ur=e,e={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},gr===null?On.memoizedState=gr=e:gr=gr.next=e}return gr}function Oh(e,t){return typeof t=="function"?t(e):t}function $v(e){var t=Zi(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=ur,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Gl&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,On.lanes|=u,Yl|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,_s(r,t.memoizedState)||(ii=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,On.lanes|=s,Yl|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zv(e){var t=Zi(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);_s(s,t.memoizedState)||(ii=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function WC(){}function VC(e,t){var n=On,r=Zi(),i=t(),s=!_s(r.memoizedState,i);if(s&&(r.memoizedState=i,ii=!0),r=r.queue,Lb(KC.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||gr!==null&&gr.memoizedState.tag&1){if(n.flags|=2048,jh(9,YC.bind(null,n,r,i,t),void 0,null),yr===null)throw Error(He(349));Gl&30||GC(n,t,i)}return i}function GC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=On.updateQueue,t===null?(t={lastEffect:null,stores:null},On.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function YC(e,t,n,r){t.value=n,t.getSnapshot=r,XC(t)&&ZC(e)}function KC(e,t,n){return n(function(){XC(t)&&ZC(e)})}function XC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_s(e,n)}catch{return!0}}function ZC(e){var t=Ba(e,1);t!==null&&xs(t,e,1,-1)}function O5(e){var t=Hs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oh,lastRenderedState:e},t.queue=e,e=e.dispatch=WI.bind(null,On,e),[t.memoizedState,e]}function jh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=On.updateQueue,t===null?(t={lastEffect:null,stores:null},On.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function JC(){return Zi().memoizedState}function xm(e,t,n,r){var i=Hs();On.flags|=e,i.memoizedState=jh(1|t,n,void 0,r===void 0?null:r)}function Zg(e,t,n,r){var i=Zi();r=r===void 0?null:r;var s=void 0;if(ur!==null){var a=ur.memoizedState;if(s=a.destroy,r!==null&&Tb(r,a.deps)){i.memoizedState=jh(t,n,s,r);return}}On.flags|=e,i.memoizedState=jh(1|t,n,s,r)}function j5(e,t){return xm(8390656,8,e,t)}function Lb(e,t){return Zg(2048,8,e,t)}function QC(e,t){return Zg(4,2,e,t)}function eE(e,t){return Zg(4,4,e,t)}function tE(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nE(e,t,n){return n=n!=null?n.concat([e]):null,Zg(4,4,tE.bind(null,t,e),n)}function Ib(){}function rE(e,t){var n=Zi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tb(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function iE(e,t){var n=Zi();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Tb(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function sE(e,t,n){return Gl&21?(_s(n,t)||(n=uC(),On.lanes|=n,Yl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ii=!0),e.memoizedState=n)}function qI(e,t){var n=fn;fn=n!==0&&4>n?n:4,e(!0);var r=Uv.transition;Uv.transition={};try{e(!1),t()}finally{fn=n,Uv.transition=r}}function aE(){return Zi().memoizedState}function HI(e,t,n){var r=jo(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},oE(e))lE(t,n);else if(n=zC(e,t,n,r),n!==null){var i=Xr();xs(n,e,r,i),cE(n,t,r)}}function WI(e,t,n){var r=jo(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(oE(e))lE(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,_s(o,a)){var l=t.interleaved;l===null?(i.next=i,Ab(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=zC(e,t,i,r),n!==null&&(i=Xr(),xs(n,e,r,i),cE(n,t,r))}}function oE(e){var t=e.alternate;return e===On||t!==null&&t===On}function lE(e,t){uh=rg=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function cE(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ub(e,n)}}var ig={readContext:Xi,useCallback:Ir,useContext:Ir,useEffect:Ir,useImperativeHandle:Ir,useInsertionEffect:Ir,useLayoutEffect:Ir,useMemo:Ir,useReducer:Ir,useRef:Ir,useState:Ir,useDebugValue:Ir,useDeferredValue:Ir,useTransition:Ir,useMutableSource:Ir,useSyncExternalStore:Ir,useId:Ir,unstable_isNewReconciler:!1},VI={readContext:Xi,useCallback:function(e,t){return Hs().memoizedState=[e,t===void 0?null:t],e},useContext:Xi,useEffect:j5,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xm(4194308,4,tE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xm(4194308,4,e,t)},useInsertionEffect:function(e,t){return xm(4,2,e,t)},useMemo:function(e,t){var n=Hs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hs();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=HI.bind(null,On,e),[r.memoizedState,e]},useRef:function(e){var t=Hs();return e={current:e},t.memoizedState=e},useState:O5,useDebugValue:Ib,useDeferredValue:function(e){return Hs().memoizedState=e},useTransition:function(){var e=O5(!1),t=e[0];return e=qI.bind(null,e[1]),Hs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=On,i=Hs();if(Ln){if(n===void 0)throw Error(He(407));n=n()}else{if(n=t(),yr===null)throw Error(He(349));Gl&30||GC(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,j5(KC.bind(null,r,s,e),[e]),r.flags|=2048,jh(9,YC.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Hs(),t=yr.identifierPrefix;if(Ln){var n=Oa,r=Ma;n=(r&~(1<<32-bs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zI++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},GI={readContext:Xi,useCallback:rE,useContext:Xi,useEffect:Lb,useImperativeHandle:nE,useInsertionEffect:QC,useLayoutEffect:eE,useMemo:iE,useReducer:$v,useRef:JC,useState:function(){return $v(Oh)},useDebugValue:Ib,useDeferredValue:function(e){var t=Zi();return sE(t,ur.memoizedState,e)},useTransition:function(){var e=$v(Oh)[0],t=Zi().memoizedState;return[e,t]},useMutableSource:WC,useSyncExternalStore:VC,useId:aE,unstable_isNewReconciler:!1},YI={readContext:Xi,useCallback:rE,useContext:Xi,useEffect:Lb,useImperativeHandle:nE,useInsertionEffect:QC,useLayoutEffect:eE,useMemo:iE,useReducer:zv,useRef:JC,useState:function(){return zv(Oh)},useDebugValue:Ib,useDeferredValue:function(e){var t=Zi();return ur===null?t.memoizedState=e:sE(t,ur.memoizedState,e)},useTransition:function(){var e=zv(Oh)[0],t=Zi().memoizedState;return[e,t]},useMutableSource:WC,useSyncExternalStore:VC,useId:aE,unstable_isNewReconciler:!1};function ps(e,t){if(e&&e.defaultProps){t=jn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ty(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:jn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jg={isMounted:function(e){return(e=e._reactInternals)?ac(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Xr(),i=jo(e),s=ja(r,i);s.payload=t,n!=null&&(s.callback=n),t=Mo(e,s,i),t!==null&&(xs(t,e,i,r),wm(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Xr(),i=jo(e),s=ja(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Mo(e,s,i),t!==null&&(xs(t,e,i,r),wm(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Xr(),r=jo(e),i=ja(n,r);i.tag=2,t!=null&&(i.callback=t),t=Mo(e,i,r),t!==null&&(xs(t,e,r,n),wm(t,e,r))}};function D5(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Nh(n,r)||!Nh(i,s):!0}function uE(e,t,n){var r=!1,i=qo,s=t.contextType;return typeof s=="object"&&s!==null?s=Xi(s):(i=li(t)?Wl:Ur.current,r=t.contextTypes,s=(r=r!=null)?Au(e,i):qo),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Jg,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function F5(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Jg.enqueueReplaceState(t,t.state,null)}function Py(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},kb(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Xi(s):(s=li(t)?Wl:Ur.current,i.context=Au(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Ty(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Jg.enqueueReplaceState(i,i.state,null),tg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Nu(e,t){try{var n="",r=t;do n+=_6(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function qv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ry(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var KI=typeof WeakMap=="function"?WeakMap:Map;function dE(e,t,n){n=ja(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ag||(ag=!0,$y=r),Ry(e,t)},n}function hE(e,t,n){n=ja(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Ry(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Ry(e,t),typeof r!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function B5(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new KI;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=cM.bind(null,e,t,n),t.then(e,e))}function U5(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function $5(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ja(-1,1),t.tag=2,Mo(n,t,1))),n.lanes|=1),e)}var XI=Ha.ReactCurrentOwner,ii=!1;function Vr(e,t,n,r){t.child=e===null?$C(t,null,n,r):Cu(t,e.child,n,r)}function z5(e,t,n,r,i){n=n.render;var s=t.ref;return hu(t,i),r=Pb(e,t,n,r,s,i),n=Rb(),e!==null&&!ii?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i)):(Ln&&n&&yb(t),t.flags|=1,Vr(e,t,r,i),t.child)}function q5(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!$b(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,fE(e,t,s,r,i)):(e=km(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Nh,n(a,r)&&e.ref===t.ref)return Ua(e,t,i)}return t.flags|=1,e=Do(s,r),e.ref=t.ref,e.return=t,t.child=e}function fE(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Nh(s,r)&&e.ref===t.ref)if(ii=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(ii=!0);else return t.lanes=e.lanes,Ua(e,t,i)}return Ly(e,t,n,r,i)}function pE(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xn(su,Si),Si|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xn(su,Si),Si|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xn(su,Si),Si|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,xn(su,Si),Si|=r;return Vr(e,t,i,n),t.child}function mE(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ly(e,t,n,r,i){var s=li(n)?Wl:Ur.current;return s=Au(t,s),hu(t,i),n=Pb(e,t,n,r,s,i),r=Rb(),e!==null&&!ii?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i)):(Ln&&r&&yb(t),t.flags|=1,Vr(e,t,n,i),t.child)}function H5(e,t,n,r,i){if(li(n)){var s=!0;Xm(t)}else s=!1;if(hu(t,i),t.stateNode===null)_m(e,t),uE(t,n,r),Py(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Xi(c):(c=li(n)?Wl:Ur.current,c=Au(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&F5(t,a,r,c),vo=!1;var g=t.memoizedState;a.state=g,tg(t,r,a,i),l=t.memoizedState,o!==r||g!==l||oi.current||vo?(typeof u=="function"&&(Ty(t,n,u,r),l=t.memoizedState),(o=vo||D5(t,n,o,r,g,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,qC(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:ps(t.type,o),a.props=c,f=t.pendingProps,g=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xi(l):(l=li(n)?Wl:Ur.current,l=Au(t,l));var d=n.getDerivedStateFromProps;(u=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||g!==l)&&F5(t,a,r,l),vo=!1,g=t.memoizedState,a.state=g,tg(t,r,a,i);var m=t.memoizedState;o!==f||g!==m||oi.current||vo?(typeof d=="function"&&(Ty(t,n,d,r),m=t.memoizedState),(c=vo||D5(t,n,c,r,g,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return Iy(e,t,n,r,s,i)}function Iy(e,t,n,r,i,s){mE(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&T5(t,n,!1),Ua(e,t,s);r=t.stateNode,XI.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Cu(t,e.child,null,s),t.child=Cu(t,null,o,s)):Vr(e,t,o,s),t.memoizedState=r.state,i&&T5(t,n,!0),t.child}function gE(e){var t=e.stateNode;t.pendingContext?N5(e,t.pendingContext,t.pendingContext!==t.context):t.context&&N5(e,t.context,!1),Cb(e,t.containerInfo)}function W5(e,t,n,r,i){return ku(),bb(i),t.flags|=256,Vr(e,t,n,r),t.child}var My={dehydrated:null,treeContext:null,retryLane:0};function Oy(e){return{baseLanes:e,cachePool:null,transitions:null}}function vE(e,t,n){var r=t.pendingProps,i=Mn.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),xn(Mn,i&1),e===null)return Ey(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=t0(a,r,0,null),e=$l(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Oy(n),t.memoizedState=My,e):Mb(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ZI(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Do(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Do(o,s):(s=$l(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?Oy(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=My,r}return s=e.child,e=s.sibling,r=Do(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Mb(e,t){return t=t0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Fp(e,t,n,r){return r!==null&&bb(r),Cu(t,e.child,null,n),e=Mb(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ZI(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=qv(Error(He(422))),Fp(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=t0({mode:"visible",children:r.children},i,0,null),s=$l(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Cu(t,e.child,null,a),t.child.memoizedState=Oy(a),t.memoizedState=My,s);if(!(t.mode&1))return Fp(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(He(419)),r=qv(s,r,void 0),Fp(e,t,a,r)}if(o=(a&e.childLanes)!==0,ii||o){if(r=yr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ba(e,i),xs(r,e,i,-1))}return Ub(),r=qv(Error(He(421))),Fp(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=uM.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ki=Io(i.nextSibling),Ni=t,Ln=!0,ys=null,e!==null&&(Hi[Wi++]=Ma,Hi[Wi++]=Oa,Hi[Wi++]=Vl,Ma=e.id,Oa=e.overflow,Vl=t),t=Mb(t,r.children),t.flags|=4096,t)}function V5(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ny(e.return,t,n)}function Hv(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function yE(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Vr(e,t,r.children,n),r=Mn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&V5(e,n,t);else if(e.tag===19)V5(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xn(Mn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ng(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hv(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ng(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hv(t,!0,n,null,s);break;case"together":Hv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _m(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Yl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,n=Do(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Do(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function JI(e,t,n){switch(t.tag){case 3:gE(t),ku();break;case 5:HC(t);break;case 1:li(t.type)&&Xm(t);break;case 4:Cb(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xn(Qm,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(xn(Mn,Mn.current&1),t.flags|=128,null):n&t.child.childLanes?vE(e,t,n):(xn(Mn,Mn.current&1),e=Ua(e,t,n),e!==null?e.sibling:null);xn(Mn,Mn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return yE(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xn(Mn,Mn.current),r)break;return null;case 22:case 23:return t.lanes=0,pE(e,t,n)}return Ua(e,t,n)}var wE,jy,bE,xE;wE=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jy=function(){};bE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ol(ea.current);var s=null;switch(n){case"input":i=iy(e,i),r=iy(e,r),s=[];break;case"select":i=jn({},i,{value:void 0}),r=jn({},r,{value:void 0}),s=[];break;case"textarea":i=oy(e,i),r=oy(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ym)}cy(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xh.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i?.[c],r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&En("scroll",e),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};xE=function(e,t,n,r){n!==r&&(t.flags|=4)};function Fd(e,t){if(!Ln)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Mr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function QI(e,t,n){var r=t.pendingProps;switch(wb(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Mr(t),null;case 1:return li(t.type)&&Km(),Mr(t),null;case 3:return r=t.stateNode,Eu(),Tn(oi),Tn(Ur),Nb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ys!==null&&(Hy(ys),ys=null))),jy(e,t),Mr(t),null;case 5:Eb(t);var i=Ol(Ih.current);if(n=t.type,e!==null&&t.stateNode!=null)bE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(He(166));return Mr(t),null}if(e=Ol(ea.current),jp(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Vs]=t,r[Rh]=s,e=(t.mode&1)!==0,n){case"dialog":En("cancel",r),En("close",r);break;case"iframe":case"object":case"embed":En("load",r);break;case"video":case"audio":for(i=0;i<Jd.length;i++)En(Jd[i],r);break;case"source":En("error",r);break;case"img":case"image":case"link":En("error",r),En("load",r);break;case"details":En("toggle",r);break;case"input":t5(r,s),En("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},En("invalid",r);break;case"textarea":r5(r,s),En("invalid",r)}cy(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Op(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Op(r.textContent,o,e),i=["children",""+o]):xh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&En("scroll",r)}switch(n){case"input":Ep(r),n5(r,s,!0);break;case"textarea":Ep(r),i5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ym)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kk(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Vs]=t,e[Rh]=r,wE(e,t,!1,!1),t.stateNode=e;e:{switch(a=uy(n,r),n){case"dialog":En("cancel",e),En("close",e),i=r;break;case"iframe":case"object":case"embed":En("load",e),i=r;break;case"video":case"audio":for(i=0;i<Jd.length;i++)En(Jd[i],e);i=r;break;case"source":En("error",e),i=r;break;case"img":case"image":case"link":En("error",e),En("load",e),i=r;break;case"details":En("toggle",e),i=r;break;case"input":t5(e,r),i=iy(e,r),En("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=jn({},r,{value:void 0}),En("invalid",e);break;case"textarea":r5(e,r),i=oy(e,r),En("invalid",e);break;default:i=r}cy(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?Jk(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Xk(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_h(e,l):typeof l=="number"&&_h(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&En("scroll",e):l!=null&&ib(e,s,l,a))}switch(n){case"input":Ep(e),n5(e,r,!1);break;case"textarea":Ep(e),i5(e);break;case"option":r.value!=null&&e.setAttribute("value",""+zo(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?lu(e,!!r.multiple,s,!1):r.defaultValue!=null&&lu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ym)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Mr(t),null;case 6:if(e&&t.stateNode!=null)xE(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(He(166));if(n=Ol(Ih.current),Ol(ea.current),jp(t)){if(r=t.stateNode,n=t.memoizedProps,r[Vs]=t,(s=r.nodeValue!==n)&&(e=Ni,e!==null))switch(e.tag){case 3:Op(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Op(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vs]=t,t.stateNode=r}return Mr(t),null;case 13:if(Tn(Mn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ln&&ki!==null&&t.mode&1&&!(t.flags&128))BC(),ku(),t.flags|=98560,s=!1;else if(s=jp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(He(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[Vs]=t}else ku(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Mr(t),s=!1}else ys!==null&&(Hy(ys),ys=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Mn.current&1?hr===0&&(hr=3):Ub())),t.updateQueue!==null&&(t.flags|=4),Mr(t),null);case 4:return Eu(),jy(e,t),e===null&&Th(t.stateNode.containerInfo),Mr(t),null;case 10:return Sb(t.type._context),Mr(t),null;case 17:return li(t.type)&&Km(),Mr(t),null;case 19:if(Tn(Mn),s=t.memoizedState,s===null)return Mr(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)Fd(s,!1);else{if(hr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ng(e),a!==null){for(t.flags|=128,Fd(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xn(Mn,Mn.current&1|2),t.child}e=e.sibling}s.tail!==null&&Gn()>Tu&&(t.flags|=128,r=!0,Fd(s,!1),t.lanes=4194304)}else{if(!r)if(e=ng(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ln)return Mr(t),null}else 2*Gn()-s.renderingStartTime>Tu&&n!==1073741824&&(t.flags|=128,r=!0,Fd(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Gn(),t.sibling=null,n=Mn.current,xn(Mn,r?n&1|2:n&1),t):(Mr(t),null);case 22:case 23:return Bb(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Si&1073741824&&(Mr(t),t.subtreeFlags&6&&(t.flags|=8192)):Mr(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function eM(e,t){switch(wb(t),t.tag){case 1:return li(t.type)&&Km(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Eu(),Tn(oi),Tn(Ur),Nb(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eb(t),null;case 13:if(Tn(Mn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));ku()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Tn(Mn),null;case 4:return Eu(),null;case 10:return Sb(t.type._context),null;case 22:case 23:return Bb(),null;case 24:return null;default:return null}}var Bp=!1,Br=!1,tM=typeof WeakSet=="function"?WeakSet:Set,it=null;function iu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){zn(e,t,r)}else n.current=null}function Dy(e,t,n){try{n()}catch(r){zn(e,t,r)}}var G5=!1;function nM(e,t){if(by=Wm,e=CC(),vb(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,f=e,g=null;t:for(;;){for(var d;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(d=f.firstChild)!==null;)g=f,f=d;for(;;){if(f===e)break t;if(g===n&&++c===i&&(o=a),g===s&&++u===r&&(l=a),(d=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=d}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xy={focusedElem:e,selectionRange:n},Wm=!1,it=t;it!==null;)if(t=it,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,it=e;else for(;it!==null;){t=it;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,h=m.memoizedState,p=t.stateNode,y=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:ps(t.type,v),h);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(k){zn(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,it=e;break}it=t.return}return m=G5,G5=!1,m}function dh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Dy(t,n,s)}i=i.next}while(i!==r)}}function Qg(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fy(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function _E(e){var t=e.alternate;t!==null&&(e.alternate=null,_E(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Vs],delete t[Rh],delete t[Ay],delete t[FI],delete t[BI])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function SE(e){return e.tag===5||e.tag===3||e.tag===4}function Y5(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||SE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function By(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ym));else if(r!==4&&(e=e.child,e!==null))for(By(e,t,n),e=e.sibling;e!==null;)By(e,t,n),e=e.sibling}function Uy(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Uy(e,t,n),e=e.sibling;e!==null;)Uy(e,t,n),e=e.sibling}var Nr=null,gs=!1;function lo(e,t,n){for(n=n.child;n!==null;)AE(e,t,n),n=n.sibling}function AE(e,t,n){if(Qs&&typeof Qs.onCommitFiberUnmount=="function")try{Qs.onCommitFiberUnmount(Wg,n)}catch{}switch(n.tag){case 5:Br||iu(n,t);case 6:var r=Nr,i=gs;Nr=null,lo(e,t,n),Nr=r,gs=i,Nr!==null&&(gs?(e=Nr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Nr.removeChild(n.stateNode));break;case 18:Nr!==null&&(gs?(e=Nr,n=n.stateNode,e.nodeType===8?Dv(e.parentNode,n):e.nodeType===1&&Dv(e,n),Ch(e)):Dv(Nr,n.stateNode));break;case 4:r=Nr,i=gs,Nr=n.stateNode.containerInfo,gs=!0,lo(e,t,n),Nr=r,gs=i;break;case 0:case 11:case 14:case 15:if(!Br&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Dy(n,t,a),i=i.next}while(i!==r)}lo(e,t,n);break;case 1:if(!Br&&(iu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){zn(n,t,o)}lo(e,t,n);break;case 21:lo(e,t,n);break;case 22:n.mode&1?(Br=(r=Br)||n.memoizedState!==null,lo(e,t,n),Br=r):lo(e,t,n);break;default:lo(e,t,n)}}function K5(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new tM),t.forEach(function(r){var i=dM.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function cs(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Nr=o.stateNode,gs=!1;break e;case 3:Nr=o.stateNode.containerInfo,gs=!0;break e;case 4:Nr=o.stateNode.containerInfo,gs=!0;break e}o=o.return}if(Nr===null)throw Error(He(160));AE(s,a,i),Nr=null,gs=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){zn(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)kE(t,e),t=t.sibling}function kE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(cs(t,e),$s(e),r&4){try{dh(3,e,e.return),Qg(3,e)}catch(v){zn(e,e.return,v)}try{dh(5,e,e.return)}catch(v){zn(e,e.return,v)}}break;case 1:cs(t,e),$s(e),r&512&&n!==null&&iu(n,n.return);break;case 5:if(cs(t,e),$s(e),r&512&&n!==null&&iu(n,n.return),e.flags&32){var i=e.stateNode;try{_h(i,"")}catch(v){zn(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Gk(i,s),uy(o,a);var c=uy(o,s);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?Jk(i,f):u==="dangerouslySetInnerHTML"?Xk(i,f):u==="children"?_h(i,f):ib(i,u,f,c)}switch(o){case"input":sy(i,s);break;case"textarea":Yk(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?lu(i,!!s.multiple,d,!1):g!==!!s.multiple&&(s.defaultValue!=null?lu(i,!!s.multiple,s.defaultValue,!0):lu(i,!!s.multiple,s.multiple?[]:"",!1))}i[Rh]=s}catch(v){zn(e,e.return,v)}}break;case 6:if(cs(t,e),$s(e),r&4){if(e.stateNode===null)throw Error(He(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(v){zn(e,e.return,v)}}break;case 3:if(cs(t,e),$s(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ch(t.containerInfo)}catch(v){zn(e,e.return,v)}break;case 4:cs(t,e),$s(e);break;case 13:cs(t,e),$s(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Db=Gn())),r&4&&K5(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Br=(c=Br)||u,cs(t,e),Br=c):cs(t,e),$s(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(it=e,u=e.child;u!==null;){for(f=it=u;it!==null;){switch(g=it,d=g.child,g.tag){case 0:case 11:case 14:case 15:dh(4,g,g.return);break;case 1:iu(g,g.return);var m=g.stateNode;if(typeof m.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){zn(r,n,v)}}break;case 5:iu(g,g.return);break;case 22:if(g.memoizedState!==null){Z5(f);continue}}d!==null?(d.return=g,it=d):Z5(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=Zk("display",a))}catch(v){zn(e,e.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){zn(e,e.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:cs(t,e),$s(e),r&4&&K5(e);break;case 21:break;default:cs(t,e),$s(e)}}function $s(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(SE(n)){var r=n;break e}n=n.return}throw Error(He(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_h(i,""),r.flags&=-33);var s=Y5(e);Uy(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Y5(e);By(e,o,a);break;default:throw Error(He(161))}}catch(l){zn(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function rM(e,t,n){it=e,CE(e)}function CE(e,t,n){for(var r=(e.mode&1)!==0;it!==null;){var i=it,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Bp;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Br;o=Bp;var c=Br;if(Bp=a,(Br=l)&&!c)for(it=i;it!==null;)a=it,l=a.child,a.tag===22&&a.memoizedState!==null?J5(i):l!==null?(l.return=a,it=l):J5(i);for(;s!==null;)it=s,CE(s),s=s.sibling;it=i,Bp=o,Br=c}X5(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,it=s):X5(e)}}function X5(e){for(;it!==null;){var t=it;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Br||Qg(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Br)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ps(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&M5(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}M5(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Ch(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Br||t.flags&512&&Fy(t)}catch(g){zn(t,t.return,g)}}if(t===e){it=null;break}if(n=t.sibling,n!==null){n.return=t.return,it=n;break}it=t.return}}function Z5(e){for(;it!==null;){var t=it;if(t===e){it=null;break}var n=t.sibling;if(n!==null){n.return=t.return,it=n;break}it=t.return}}function J5(e){for(;it!==null;){var t=it;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Qg(4,t)}catch(l){zn(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){zn(t,i,l)}}var s=t.return;try{Fy(t)}catch(l){zn(t,s,l)}break;case 5:var a=t.return;try{Fy(t)}catch(l){zn(t,a,l)}}}catch(l){zn(t,t.return,l)}if(t===e){it=null;break}var o=t.sibling;if(o!==null){o.return=t.return,it=o;break}it=t.return}}var iM=Math.ceil,sg=Ha.ReactCurrentDispatcher,Ob=Ha.ReactCurrentOwner,Yi=Ha.ReactCurrentBatchConfig,en=0,yr=null,tr=null,Pr=0,Si=0,su=Zo(0),hr=0,Dh=null,Yl=0,e0=0,jb=0,hh=null,ri=null,Db=0,Tu=1/0,Ta=null,ag=!1,$y=null,Oo=null,Up=!1,ko=null,og=0,fh=0,zy=null,Sm=-1,Am=0;function Xr(){return en&6?Gn():Sm!==-1?Sm:Sm=Gn()}function jo(e){return e.mode&1?en&2&&Pr!==0?Pr&-Pr:$I.transition!==null?(Am===0&&(Am=uC()),Am):(e=fn,e!==0||(e=window.event,e=e===void 0?16:vC(e.type)),e):1}function xs(e,t,n,r){if(50<fh)throw fh=0,zy=null,Error(He(185));yf(e,n,r),(!(en&2)||e!==yr)&&(e===yr&&(!(en&2)&&(e0|=n),hr===4&&xo(e,Pr)),ci(e,r),n===1&&en===0&&!(t.mode&1)&&(Tu=Gn()+500,Xg&&Jo()))}function ci(e,t){var n=e.callbackNode;$6(e,t);var r=Hm(e,e===yr?Pr:0);if(r===0)n!==null&&o5(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&o5(n),t===1)e.tag===0?UI(Q5.bind(null,e)):jC(Q5.bind(null,e)),jI(function(){!(en&6)&&Jo()}),n=null;else{switch(dC(r)){case 1:n=cb;break;case 4:n=lC;break;case 16:n=qm;break;case 536870912:n=cC;break;default:n=qm}n=ME(n,EE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function EE(e,t){if(Sm=-1,Am=0,en&6)throw Error(He(327));var n=e.callbackNode;if(fu()&&e.callbackNode!==n)return null;var r=Hm(e,e===yr?Pr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=lg(e,r);else{t=r;var i=en;en|=2;var s=TE();(yr!==e||Pr!==t)&&(Ta=null,Tu=Gn()+500,Ul(e,t));do try{oM();break}catch(o){NE(e,o)}while(!0);_b(),sg.current=s,en=i,tr!==null?t=0:(yr=null,Pr=0,t=hr)}if(t!==0){if(t===2&&(i=my(e),i!==0&&(r=i,t=qy(e,i))),t===1)throw n=Dh,Ul(e,0),xo(e,r),ci(e,Gn()),n;if(t===6)xo(e,r);else{if(i=e.current.alternate,!(r&30)&&!sM(i)&&(t=lg(e,r),t===2&&(s=my(e),s!==0&&(r=s,t=qy(e,s))),t===1))throw n=Dh,Ul(e,0),xo(e,r),ci(e,Gn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(He(345));case 2:Cl(e,ri,Ta);break;case 3:if(xo(e,r),(r&130023424)===r&&(t=Db+500-Gn(),10<t)){if(Hm(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Xr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Sy(Cl.bind(null,e,ri,Ta),t);break}Cl(e,ri,Ta);break;case 4:if(xo(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-bs(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=Gn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*iM(r/1960))-r,10<r){e.timeoutHandle=Sy(Cl.bind(null,e,ri,Ta),r);break}Cl(e,ri,Ta);break;case 5:Cl(e,ri,Ta);break;default:throw Error(He(329))}}}return ci(e,Gn()),e.callbackNode===n?EE.bind(null,e):null}function qy(e,t){var n=hh;return e.current.memoizedState.isDehydrated&&(Ul(e,t).flags|=256),e=lg(e,t),e!==2&&(t=ri,ri=n,t!==null&&Hy(t)),e}function Hy(e){ri===null?ri=e:ri.push.apply(ri,e)}function sM(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_s(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xo(e,t){for(t&=~jb,t&=~e0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-bs(t),r=1<<n;e[n]=-1,t&=~r}}function Q5(e){if(en&6)throw Error(He(327));fu();var t=Hm(e,0);if(!(t&1))return ci(e,Gn()),null;var n=lg(e,t);if(e.tag!==0&&n===2){var r=my(e);r!==0&&(t=r,n=qy(e,r))}if(n===1)throw n=Dh,Ul(e,0),xo(e,t),ci(e,Gn()),n;if(n===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e,ri,Ta),ci(e,Gn()),null}function Fb(e,t){var n=en;en|=1;try{return e(t)}finally{en=n,en===0&&(Tu=Gn()+500,Xg&&Jo())}}function Kl(e){ko!==null&&ko.tag===0&&!(en&6)&&fu();var t=en;en|=1;var n=Yi.transition,r=fn;try{if(Yi.transition=null,fn=1,e)return e()}finally{fn=r,Yi.transition=n,en=t,!(en&6)&&Jo()}}function Bb(){Si=su.current,Tn(su)}function Ul(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,OI(n)),tr!==null)for(n=tr.return;n!==null;){var r=n;switch(wb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Km();break;case 3:Eu(),Tn(oi),Tn(Ur),Nb();break;case 5:Eb(r);break;case 4:Eu();break;case 13:Tn(Mn);break;case 19:Tn(Mn);break;case 10:Sb(r.type._context);break;case 22:case 23:Bb()}n=n.return}if(yr=e,tr=e=Do(e.current,null),Pr=Si=t,hr=0,Dh=null,jb=e0=Yl=0,ri=hh=null,Ml!==null){for(t=0;t<Ml.length;t++)if(n=Ml[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Ml=null}return e}function NE(e,t){do{var n=tr;try{if(_b(),bm.current=ig,rg){for(var r=On.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}rg=!1}if(Gl=0,gr=ur=On=null,uh=!1,Mh=0,Ob.current=null,n===null||n.return===null){hr=1,Dh=t,tr=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=Pr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var g=u.alternate;g?(u.updateQueue=g.updateQueue,u.memoizedState=g.memoizedState,u.lanes=g.lanes):(u.updateQueue=null,u.memoizedState=null)}var d=U5(a);if(d!==null){d.flags&=-257,$5(d,a,o,s,t),d.mode&1&&B5(s,c,t),t=d,l=c;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){B5(s,c,t),Ub();break e}l=Error(He(426))}}else if(Ln&&o.mode&1){var h=U5(a);if(h!==null){!(h.flags&65536)&&(h.flags|=256),$5(h,a,o,s,t),bb(Nu(l,o));break e}}s=l=Nu(l,o),hr!==4&&(hr=2),hh===null?hh=[s]:hh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var p=dE(s,l,t);I5(s,p);break e;case 1:o=l;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Oo===null||!Oo.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=hE(s,o,t);I5(s,k);break e}}s=s.return}while(s!==null)}RE(n)}catch(L){t=L,tr===n&&n!==null&&(tr=n=n.return);continue}break}while(!0)}function TE(){var e=sg.current;return sg.current=ig,e===null?ig:e}function Ub(){(hr===0||hr===3||hr===2)&&(hr=4),yr===null||!(Yl&268435455)&&!(e0&268435455)||xo(yr,Pr)}function lg(e,t){var n=en;en|=2;var r=TE();(yr!==e||Pr!==t)&&(Ta=null,Ul(e,t));do try{aM();break}catch(i){NE(e,i)}while(!0);if(_b(),en=n,sg.current=r,tr!==null)throw Error(He(261));return yr=null,Pr=0,hr}function aM(){for(;tr!==null;)PE(tr)}function oM(){for(;tr!==null&&!L6();)PE(tr)}function PE(e){var t=IE(e.alternate,e,Si);e.memoizedProps=e.pendingProps,t===null?RE(e):tr=t,Ob.current=null}function RE(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=eM(n,t),n!==null){n.flags&=32767,tr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{hr=6,tr=null;return}}else if(n=QI(n,t,Si),n!==null){tr=n;return}if(t=t.sibling,t!==null){tr=t;return}tr=t=e}while(t!==null);hr===0&&(hr=5)}function Cl(e,t,n){var r=fn,i=Yi.transition;try{Yi.transition=null,fn=1,lM(e,t,n,r)}finally{Yi.transition=i,fn=r}return null}function lM(e,t,n,r){do fu();while(ko!==null);if(en&6)throw Error(He(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(z6(e,s),e===yr&&(tr=yr=null,Pr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Up||(Up=!0,ME(qm,function(){return fu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yi.transition,Yi.transition=null;var a=fn;fn=1;var o=en;en|=4,Ob.current=null,nM(e,n),kE(n,e),NI(xy),Wm=!!by,xy=by=null,e.current=n,rM(n),I6(),en=o,fn=a,Yi.transition=s}else e.current=n;if(Up&&(Up=!1,ko=e,og=i),s=e.pendingLanes,s===0&&(Oo=null),j6(n.stateNode),ci(e,Gn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ag)throw ag=!1,e=$y,$y=null,e;return og&1&&e.tag!==0&&fu(),s=e.pendingLanes,s&1?e===zy?fh++:(fh=0,zy=e):fh=0,Jo(),null}function fu(){if(ko!==null){var e=dC(og),t=Yi.transition,n=fn;try{if(Yi.transition=null,fn=16>e?16:e,ko===null)var r=!1;else{if(e=ko,ko=null,og=0,en&6)throw Error(He(331));var i=en;for(en|=4,it=e.current;it!==null;){var s=it,a=s.child;if(it.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(it=c;it!==null;){var u=it;switch(u.tag){case 0:case 11:case 15:dh(8,u,s)}var f=u.child;if(f!==null)f.return=u,it=f;else for(;it!==null;){u=it;var g=u.sibling,d=u.return;if(_E(u),u===c){it=null;break}if(g!==null){g.return=d,it=g;break}it=d}}}var m=s.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var h=v.sibling;v.sibling=null,v=h}while(v!==null)}}it=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,it=a;else e:for(;it!==null;){if(s=it,s.flags&2048)switch(s.tag){case 0:case 11:case 15:dh(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,it=p;break e}it=s.return}}var y=e.current;for(it=y;it!==null;){a=it;var b=a.child;if(a.subtreeFlags&2064&&b!==null)b.return=a,it=b;else e:for(a=y;it!==null;){if(o=it,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Qg(9,o)}}catch(L){zn(o,o.return,L)}if(o===a){it=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,it=k;break e}it=o.return}}if(en=i,Jo(),Qs&&typeof Qs.onPostCommitFiberRoot=="function")try{Qs.onPostCommitFiberRoot(Wg,e)}catch{}r=!0}return r}finally{fn=n,Yi.transition=t}}return!1}function e_(e,t,n){t=Nu(n,t),t=dE(e,t,1),e=Mo(e,t,1),t=Xr(),e!==null&&(yf(e,1,t),ci(e,t))}function zn(e,t,n){if(e.tag===3)e_(e,e,n);else for(;t!==null;){if(t.tag===3){e_(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oo===null||!Oo.has(r))){e=Nu(n,e),e=hE(t,e,1),t=Mo(t,e,1),e=Xr(),t!==null&&(yf(t,1,e),ci(t,e));break}}t=t.return}}function cM(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Xr(),e.pingedLanes|=e.suspendedLanes&n,yr===e&&(Pr&n)===n&&(hr===4||hr===3&&(Pr&130023424)===Pr&&500>Gn()-Db?Ul(e,0):jb|=n),ci(e,t)}function LE(e,t){t===0&&(e.mode&1?(t=Pp,Pp<<=1,!(Pp&130023424)&&(Pp=4194304)):t=1);var n=Xr();e=Ba(e,t),e!==null&&(yf(e,t,n),ci(e,n))}function uM(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),LE(e,n)}function dM(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(He(314))}r!==null&&r.delete(t),LE(e,n)}var IE;IE=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||oi.current)ii=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ii=!1,JI(e,t,n);ii=!!(e.flags&131072)}else ii=!1,Ln&&t.flags&1048576&&DC(t,Jm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_m(e,t),e=t.pendingProps;var i=Au(t,Ur.current);hu(t,n),i=Pb(null,t,r,e,i,n);var s=Rb();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,li(r)?(s=!0,Xm(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kb(t),i.updater=Jg,t.stateNode=i,i._reactInternals=t,Py(t,r,e,n),t=Iy(null,t,r,!0,s,n)):(t.tag=0,Ln&&s&&yb(t),Vr(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_m(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=fM(r),e=ps(r,e),i){case 0:t=Ly(null,t,r,e,n);break e;case 1:t=H5(null,t,r,e,n);break e;case 11:t=z5(null,t,r,e,n);break e;case 14:t=q5(null,t,r,ps(r.type,e),n);break e}throw Error(He(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ps(r,i),Ly(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ps(r,i),H5(e,t,r,i,n);case 3:e:{if(gE(t),e===null)throw Error(He(387));r=t.pendingProps,s=t.memoizedState,i=s.element,qC(e,t),tg(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Nu(Error(He(423)),t),t=W5(e,t,r,n,i);break e}else if(r!==i){i=Nu(Error(He(424)),t),t=W5(e,t,r,n,i);break e}else for(ki=Io(t.stateNode.containerInfo.firstChild),Ni=t,Ln=!0,ys=null,n=$C(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ku(),r===i){t=Ua(e,t,n);break e}Vr(e,t,r,n)}t=t.child}return t;case 5:return HC(t),e===null&&Ey(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,_y(r,i)?a=null:s!==null&&_y(r,s)&&(t.flags|=32),mE(e,t),Vr(e,t,a,n),t.child;case 6:return e===null&&Ey(t),null;case 13:return vE(e,t,n);case 4:return Cb(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Cu(t,null,r,n):Vr(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ps(r,i),z5(e,t,r,i,n);case 7:return Vr(e,t,t.pendingProps,n),t.child;case 8:return Vr(e,t,t.pendingProps.children,n),t.child;case 12:return Vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,xn(Qm,r._currentValue),r._currentValue=a,s!==null)if(_s(s.value,a)){if(s.children===i.children&&!oi.current){t=Ua(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ja(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ny(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(He(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Ny(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,hu(t,n),i=Xi(i),r=r(i),t.flags|=1,Vr(e,t,r,n),t.child;case 14:return r=t.type,i=ps(r,t.pendingProps),i=ps(r.type,i),q5(e,t,r,i,n);case 15:return fE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ps(r,i),_m(e,t),t.tag=1,li(r)?(e=!0,Xm(t)):e=!1,hu(t,n),uE(t,r,i),Py(t,r,i,n),Iy(null,t,r,!0,e,n);case 19:return yE(e,t,n);case 22:return pE(e,t,n)}throw Error(He(156,t.tag))};function ME(e,t){return oC(e,t)}function hM(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(e,t,n,r){return new hM(e,t,n,r)}function $b(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fM(e){if(typeof e=="function")return $b(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ab)return 11;if(e===ob)return 14}return 2}function Do(e,t){var n=e.alternate;return n===null?(n=Gi(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function km(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")$b(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Kc:return $l(n.children,i,s,t);case sb:a=8,i|=8;break;case ey:return e=Gi(12,n,t,i|2),e.elementType=ey,e.lanes=s,e;case ty:return e=Gi(13,n,t,i),e.elementType=ty,e.lanes=s,e;case ny:return e=Gi(19,n,t,i),e.elementType=ny,e.lanes=s,e;case Hk:return t0(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zk:a=10;break e;case qk:a=9;break e;case ab:a=11;break e;case ob:a=14;break e;case go:a=16,r=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=Gi(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function $l(e,t,n,r){return e=Gi(7,e,r,t),e.lanes=n,e}function t0(e,t,n,r){return e=Gi(22,e,r,t),e.elementType=Hk,e.lanes=n,e.stateNode={isHidden:!1},e}function Wv(e,t,n){return e=Gi(6,e,null,t),e.lanes=n,e}function Vv(e,t,n){return t=Gi(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function pM(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cv(0),this.expirationTimes=Cv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cv(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zb(e,t,n,r,i,s,a,o,l){return e=new pM(e,t,n,o,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Gi(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kb(s),e}function mM(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yc,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function OE(e){if(!e)return qo;e=e._reactInternals;e:{if(ac(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var n=e.type;if(li(n))return OC(e,n,t)}return t}function jE(e,t,n,r,i,s,a,o,l){return e=zb(n,r,!0,e,i,s,a,o,l),e.context=OE(null),n=e.current,r=Xr(),i=jo(n),s=ja(r,i),s.callback=t??null,Mo(n,s,i),e.current.lanes=i,yf(e,i,r),ci(e,r),e}function n0(e,t,n,r){var i=t.current,s=Xr(),a=jo(i);return n=OE(n),t.context===null?t.context=n:t.pendingContext=n,t=ja(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Mo(i,t,a),e!==null&&(xs(e,i,a,s),wm(e,i,a)),a}function cg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function t_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function qb(e,t){t_(e,t),(e=e.alternate)&&t_(e,t)}function gM(){return null}var DE=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hb(e){this._internalRoot=e}r0.prototype.render=Hb.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));n0(e,t,null,null)};r0.prototype.unmount=Hb.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kl(function(){n0(null,e,null,null)}),t[Fa]=null}};function r0(e){this._internalRoot=e}r0.prototype.unstable_scheduleHydration=function(e){if(e){var t=pC();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bo.length&&t!==0&&t<bo[n].priority;n++);bo.splice(n,0,e),n===0&&gC(e)}};function Wb(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function i0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function n_(){}function vM(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=cg(a);s.call(c)}}var a=jE(t,r,e,0,null,!1,!1,"",n_);return e._reactRootContainer=a,e[Fa]=a.current,Th(e.nodeType===8?e.parentNode:e),Kl(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=cg(l);o.call(c)}}var l=zb(e,0,!1,null,null,!1,!1,"",n_);return e._reactRootContainer=l,e[Fa]=l.current,Th(e.nodeType===8?e.parentNode:e),Kl(function(){n0(t,l,n,r)}),l}function s0(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=cg(a);o.call(l)}}n0(t,a,e,i)}else a=vM(n,t,e,i,r);return cg(a)}hC=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zd(t.pendingLanes);n!==0&&(ub(t,n|1),ci(t,Gn()),!(en&6)&&(Tu=Gn()+500,Jo()))}break;case 13:Kl(function(){var r=Ba(e,1);if(r!==null){var i=Xr();xs(r,e,1,i)}}),qb(e,1)}};db=function(e){if(e.tag===13){var t=Ba(e,134217728);if(t!==null){var n=Xr();xs(t,e,134217728,n)}qb(e,134217728)}};fC=function(e){if(e.tag===13){var t=jo(e),n=Ba(e,t);if(n!==null){var r=Xr();xs(n,e,t,r)}qb(e,t)}};pC=function(){return fn};mC=function(e,t){var n=fn;try{return fn=e,t()}finally{fn=n}};hy=function(e,t,n){switch(t){case"input":if(sy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Kg(r);if(!i)throw Error(He(90));Vk(r),sy(r,i)}}}break;case"textarea":Yk(e,n);break;case"select":t=n.value,t!=null&&lu(e,!!n.multiple,t,!1)}};tC=Fb;nC=Kl;var yM={usingClientEntryPoint:!1,Events:[bf,Qc,Kg,Qk,eC,Fb]},Bd={findFiberByHostInstance:Il,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wM={bundleType:Bd.bundleType,version:Bd.version,rendererPackageName:Bd.rendererPackageName,rendererConfig:Bd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ha.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=sC(e),e===null?null:e.stateNode},findFiberByHostInstance:Bd.findFiberByHostInstance||gM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$p.isDisabled&&$p.supportsFiber)try{Wg=$p.inject(wM),Qs=$p}catch{}}Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yM;Mi.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wb(t))throw Error(He(200));return mM(e,t,null,n)};Mi.createRoot=function(e,t){if(!Wb(e))throw Error(He(299));var n=!1,r="",i=DE;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=zb(e,1,!1,null,null,n,!1,r,i),e[Fa]=t.current,Th(e.nodeType===8?e.parentNode:e),new Hb(t)};Mi.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=sC(t),e=e===null?null:e.stateNode,e};Mi.flushSync=function(e){return Kl(e)};Mi.hydrate=function(e,t,n){if(!i0(t))throw Error(He(200));return s0(null,e,t,!0,n)};Mi.hydrateRoot=function(e,t,n){if(!Wb(e))throw Error(He(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=DE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=jE(t,null,e,1,n??null,i,!1,s,a),e[Fa]=t.current,Th(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new r0(t)};Mi.render=function(e,t,n){if(!i0(t))throw Error(He(200));return s0(null,e,t,!1,n)};Mi.unmountComponentAtNode=function(e){if(!i0(e))throw Error(He(40));return e._reactRootContainer?(Kl(function(){s0(null,null,e,!1,function(){e._reactRootContainer=null,e[Fa]=null})}),!0):!1};Mi.unstable_batchedUpdates=Fb;Mi.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!i0(n))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return s0(e,t,n,!1,r)};Mi.version="18.3.1-next-f1338f8080-20240426";function FE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FE)}catch(e){console.error(e)}}FE(),Fk.exports=Mi;var oc=Fk.exports;const BE=Ck(oc);var UE,r_=oc;UE=r_.createRoot,r_.hydrateRoot;const bM=1,xM=1e6;let Gv=0;function _M(){return Gv=(Gv+1)%Number.MAX_SAFE_INTEGER,Gv.toString()}const Yv=new Map,i_=e=>{if(Yv.has(e))return;const t=setTimeout(()=>{Yv.delete(e),ph({type:"REMOVE_TOAST",toastId:e})},xM);Yv.set(e,t)},SM=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,bM)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?i_(n):e.toasts.forEach(r=>{i_(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Cm=[];let Em={toasts:[]};function ph(e){Em=SM(Em,e),Cm.forEach(t=>{t(Em)})}function AM({...e}){const t=_M(),n=i=>ph({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>ph({type:"DISMISS_TOAST",toastId:t});return ph({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function Qo(){const[e,t]=R.useState(Em);return R.useEffect(()=>(Cm.push(t),()=>{const n=Cm.indexOf(t);n>-1&&Cm.splice(n,1)}),[e]),{...e,toast:AM,dismiss:n=>ph({type:"DISMISS_TOAST",toastId:n})}}function Ke(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e?.(i),n===!1||!i.defaultPrevented)return t?.(i)}}function s_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function a0(...e){return t=>{let n=!1;const r=e.map(i=>{const s=s_(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():s_(e[i],null)}}}}function Xt(...e){return R.useCallback(a0(...e),e)}function kM(e,t){const n=R.createContext(t),r=s=>{const{children:a,...o}=s,l=R.useMemo(()=>o,Object.values(o));return x.jsx(n.Provider,{value:l,children:a})};r.displayName=e+"Provider";function i(s){const a=R.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Qi(e,t=[]){let n=[];function r(s,a){const o=R.createContext(a),l=n.length;n=[...n,a];const c=f=>{const{scope:g,children:d,...m}=f,v=g?.[e]?.[l]||o,h=R.useMemo(()=>m,Object.values(m));return x.jsx(v.Provider,{value:h,children:d})};c.displayName=s+"Provider";function u(f,g){const d=g?.[e]?.[l]||o,m=R.useContext(d);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(a=>R.createContext(a));return function(o){const l=o?.[e]||s;return R.useMemo(()=>({[`__scope${e}`]:{...o,[e]:l}}),[o,l])}};return i.scopeName=e,[r,CM(i,...t)]}function CM(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...o,...f}},{});return R.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Ho(e){const t=NM(e),n=R.forwardRef((r,i)=>{const{children:s,...a}=r,o=R.Children.toArray(s),l=o.find(PM);if(l){const c=l.props.children,u=o.map(f=>f===l?R.Children.count(c)>1?R.Children.only(null):R.isValidElement(c)?c.props.children:null:f);return x.jsx(t,{...a,ref:i,children:R.isValidElement(c)?R.cloneElement(c,void 0,u):null})}return x.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var EM=Ho("Slot");function NM(e){const t=R.forwardRef((n,r)=>{const{children:i,...s}=n;if(R.isValidElement(i)){const a=LM(i),o=RM(s,i.props);return i.type!==R.Fragment&&(o.ref=r?a0(r,a):a),R.cloneElement(i,o)}return R.Children.count(i)>1?R.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var $E=Symbol("radix.slottable");function TM(e){const t=({children:n})=>x.jsx(x.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=$E,t}function PM(e){return R.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===$E}function RM(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function LM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function o0(e){const t=e+"CollectionProvider",[n,r]=Qi(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=v=>{const{scope:h,children:p}=v,y=Ge.useRef(null),b=Ge.useRef(new Map).current;return x.jsx(i,{scope:h,itemMap:b,collectionRef:y,children:p})};a.displayName=t;const o=e+"CollectionSlot",l=Ho(o),c=Ge.forwardRef((v,h)=>{const{scope:p,children:y}=v,b=s(o,p),k=Xt(h,b.collectionRef);return x.jsx(l,{ref:k,children:y})});c.displayName=o;const u=e+"CollectionItemSlot",f="data-radix-collection-item",g=Ho(u),d=Ge.forwardRef((v,h)=>{const{scope:p,children:y,...b}=v,k=Ge.useRef(null),L=Xt(h,k),j=s(u,p);return Ge.useEffect(()=>(j.itemMap.set(k,{ref:k,...b}),()=>void j.itemMap.delete(k))),x.jsx(g,{[f]:"",ref:L,children:y})});d.displayName=u;function m(v){const h=s(e+"CollectionConsumer",v);return Ge.useCallback(()=>{const y=h.collectionRef.current;if(!y)return[];const b=Array.from(y.querySelectorAll(`[${f}]`));return Array.from(h.itemMap.values()).sort((j,D)=>b.indexOf(j.ref.current)-b.indexOf(D.ref.current))},[h.collectionRef,h.itemMap])}return[{Provider:a,Slot:c,ItemSlot:d},m,r]}var IM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],At=IM.reduce((e,t)=>{const n=Ho(`Primitive.${t}`),r=R.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),x.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Vb(e,t){e&&oc.flushSync(()=>e.dispatchEvent(t))}function Zr(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e}),R.useMemo(()=>(...n)=>t.current?.(...n),[])}function MM(e,t=globalThis?.document){const n=Zr(e);R.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var OM="DismissableLayer",Wy="dismissableLayer.update",jM="dismissableLayer.pointerDownOutside",DM="dismissableLayer.focusOutside",a_,zE=R.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),lc=R.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=e,c=R.useContext(zE),[u,f]=R.useState(null),g=u?.ownerDocument??globalThis?.document,[,d]=R.useState({}),m=Xt(t,D=>f(D)),v=Array.from(c.layers),[h]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=v.indexOf(h),y=u?v.indexOf(u):-1,b=c.layersWithOutsidePointerEventsDisabled.size>0,k=y>=p,L=BM(D=>{const q=D.target,z=[...c.branches].some(ee=>ee.contains(q));!k||z||(i?.(D),a?.(D),D.defaultPrevented||o?.())},g),j=UM(D=>{const q=D.target;[...c.branches].some(ee=>ee.contains(q))||(s?.(D),a?.(D),D.defaultPrevented||o?.())},g);return MM(D=>{y===c.layers.size-1&&(r?.(D),!D.defaultPrevented&&o&&(D.preventDefault(),o()))},g),R.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(a_=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),o_(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=a_)}},[u,g,n,c]),R.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),o_())},[u,c]),R.useEffect(()=>{const D=()=>d({});return document.addEventListener(Wy,D),()=>document.removeEventListener(Wy,D)},[]),x.jsx(At.div,{...l,ref:m,style:{pointerEvents:b?k?"auto":"none":void 0,...e.style},onFocusCapture:Ke(e.onFocusCapture,j.onFocusCapture),onBlurCapture:Ke(e.onBlurCapture,j.onBlurCapture),onPointerDownCapture:Ke(e.onPointerDownCapture,L.onPointerDownCapture)})});lc.displayName=OM;var FM="DismissableLayerBranch",qE=R.forwardRef((e,t)=>{const n=R.useContext(zE),r=R.useRef(null),i=Xt(t,r);return R.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),x.jsx(At.div,{...e,ref:i})});qE.displayName=FM;function BM(e,t=globalThis?.document){const n=Zr(e),r=R.useRef(!1),i=R.useRef(()=>{});return R.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){HE(jM,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=l,t.addEventListener("click",i.current,{once:!0})):l()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function UM(e,t=globalThis?.document){const n=Zr(e),r=R.useRef(!1);return R.useEffect(()=>{const i=s=>{s.target&&!r.current&&HE(DM,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function o_(){const e=new CustomEvent(Wy);document.dispatchEvent(e)}function HE(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Vb(i,s):i.dispatchEvent(s)}var $M=lc,zM=qE,wr=globalThis?.document?R.useLayoutEffect:()=>{},qM="Portal",Gu=R.forwardRef((e,t)=>{const{container:n,...r}=e,[i,s]=R.useState(!1);wr(()=>s(!0),[]);const a=n||i&&globalThis?.document?.body;return a?BE.createPortal(x.jsx(At.div,{...r,ref:t}),a):null});Gu.displayName=qM;function HM(e,t){return R.useReducer((n,r)=>t[n][r]??n,e)}var ji=e=>{const{present:t,children:n}=e,r=WM(t),i=typeof n=="function"?n({present:r.isPresent}):R.Children.only(n),s=Xt(r.ref,VM(i));return typeof n=="function"||r.isPresent?R.cloneElement(i,{ref:s}):null};ji.displayName="Presence";function WM(e){const[t,n]=R.useState(),r=R.useRef(null),i=R.useRef(e),s=R.useRef("none"),a=e?"mounted":"unmounted",[o,l]=HM(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return R.useEffect(()=>{const c=zp(r.current);s.current=o==="mounted"?c:"none"},[o]),wr(()=>{const c=r.current,u=i.current;if(u!==e){const g=s.current,d=zp(c);e?l("MOUNT"):d==="none"||c?.display==="none"?l("UNMOUNT"):l(u&&g!==d?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,l]),wr(()=>{if(t){let c;const u=t.ownerDocument.defaultView??window,f=d=>{const v=zp(r.current).includes(d.animationName);if(d.target===t&&v&&(l("ANIMATION_END"),!i.current)){const h=t.style.animationFillMode;t.style.animationFillMode="forwards",c=u.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=h)})}},g=d=>{d.target===t&&(s.current=zp(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{u.clearTimeout(c),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:R.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function zp(e){return e?.animationName||"none"}function VM(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var GM=tb[" useInsertionEffect ".trim().toString()]||wr;function $a({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[i,s,a]=YM({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:i;{const u=R.useRef(e!==void 0);R.useEffect(()=>{const f=u.current;f!==o&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,r])}const c=R.useCallback(u=>{if(o){const f=KM(u)?u(e):u;f!==e&&a.current?.(f)}else s(u)},[o,e,s,a]);return[l,c]}function YM({defaultProp:e,onChange:t}){const[n,r]=R.useState(e),i=R.useRef(n),s=R.useRef(t);return GM(()=>{s.current=t},[t]),R.useEffect(()=>{i.current!==n&&(s.current?.(n),i.current=n)},[n,i]),[n,r,s]}function KM(e){return typeof e=="function"}var WE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XM="VisuallyHidden",l0=R.forwardRef((e,t)=>x.jsx(At.span,{...e,ref:t,style:{...WE,...e.style}}));l0.displayName=XM;var ZM=l0,Gb="ToastProvider",[Yb,JM,QM]=o0("Toast"),[VE,HZ]=Qi("Toast",[QM]),[eO,c0]=VE(Gb),GE=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[o,l]=R.useState(null),[c,u]=R.useState(0),f=R.useRef(!1),g=R.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gb}\`. Expected non-empty \`string\`.`),x.jsx(Yb.Provider,{scope:t,children:x.jsx(eO,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:R.useCallback(()=>u(d=>d+1),[]),onToastRemove:R.useCallback(()=>u(d=>d-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:a})})};GE.displayName=Gb;var YE="ToastViewport",tO=["F8"],Vy="toast.viewportPause",Gy="toast.viewportResume",KE=R.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=tO,label:i="Notifications ({hotkey})",...s}=e,a=c0(YE,n),o=JM(n),l=R.useRef(null),c=R.useRef(null),u=R.useRef(null),f=R.useRef(null),g=Xt(t,f,a.onViewportChange),d=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=a.toastCount>0;R.useEffect(()=>{const h=p=>{r.length!==0&&r.every(b=>p[b]||p.code===b)&&f.current?.focus()};return document.addEventListener("keydown",h),()=>document.removeEventListener("keydown",h)},[r]),R.useEffect(()=>{const h=l.current,p=f.current;if(m&&h&&p){const y=()=>{if(!a.isClosePausedRef.current){const j=new CustomEvent(Vy);p.dispatchEvent(j),a.isClosePausedRef.current=!0}},b=()=>{if(a.isClosePausedRef.current){const j=new CustomEvent(Gy);p.dispatchEvent(j),a.isClosePausedRef.current=!1}},k=j=>{!h.contains(j.relatedTarget)&&b()},L=()=>{h.contains(document.activeElement)||b()};return h.addEventListener("focusin",y),h.addEventListener("focusout",k),h.addEventListener("pointermove",y),h.addEventListener("pointerleave",L),window.addEventListener("blur",y),window.addEventListener("focus",b),()=>{h.removeEventListener("focusin",y),h.removeEventListener("focusout",k),h.removeEventListener("pointermove",y),h.removeEventListener("pointerleave",L),window.removeEventListener("blur",y),window.removeEventListener("focus",b)}}},[m,a.isClosePausedRef]);const v=R.useCallback(({tabbingDirection:h})=>{const y=o().map(b=>{const k=b.ref.current,L=[k,...pO(k)];return h==="forwards"?L:L.reverse()});return(h==="forwards"?y.reverse():y).flat()},[o]);return R.useEffect(()=>{const h=f.current;if(h){const p=y=>{const b=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!b){const L=document.activeElement,j=y.shiftKey;if(y.target===h&&j){c.current?.focus();return}const z=v({tabbingDirection:j?"backwards":"forwards"}),ee=z.findIndex($=>$===L);Kv(z.slice(ee+1))?y.preventDefault():j?c.current?.focus():u.current?.focus()}};return h.addEventListener("keydown",p),()=>h.removeEventListener("keydown",p)}},[o,v]),x.jsxs(zM,{ref:l,role:"region","aria-label":i.replace("{hotkey}",d),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&x.jsx(Yy,{ref:c,onFocusFromOutsideViewport:()=>{const h=v({tabbingDirection:"forwards"});Kv(h)}}),x.jsx(Yb.Slot,{scope:n,children:x.jsx(At.ol,{tabIndex:-1,...s,ref:g})}),m&&x.jsx(Yy,{ref:u,onFocusFromOutsideViewport:()=>{const h=v({tabbingDirection:"backwards"});Kv(h)}})]})});KE.displayName=YE;var XE="ToastFocusProxy",Yy=R.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=c0(XE,n);return x.jsx(l0,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{const o=a.relatedTarget;!s.viewport?.contains(o)&&r()}})});Yy.displayName=XE;var _f="Toast",nO="toast.swipeStart",rO="toast.swipeMove",iO="toast.swipeCancel",sO="toast.swipeEnd",ZE=R.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[o,l]=$a({prop:r,defaultProp:i??!0,onChange:s,caller:_f});return x.jsx(ji,{present:n||o,children:x.jsx(lO,{open:o,...a,ref:t,onClose:()=>l(!1),onPause:Zr(e.onPause),onResume:Zr(e.onResume),onSwipeStart:Ke(e.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ke(e.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ke(e.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ke(e.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});ZE.displayName=_f;var[aO,oO]=VE(_f,{onClose(){}}),lO=R.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:d,...m}=e,v=c0(_f,n),[h,p]=R.useState(null),y=Xt(t,Y=>p(Y)),b=R.useRef(null),k=R.useRef(null),L=i||v.duration,j=R.useRef(0),D=R.useRef(L),q=R.useRef(0),{onToastAdd:z,onToastRemove:ee}=v,$=Zr(()=>{h?.contains(document.activeElement)&&v.viewport?.focus(),a()}),H=R.useCallback(Y=>{!Y||Y===1/0||(window.clearTimeout(q.current),j.current=new Date().getTime(),q.current=window.setTimeout($,Y))},[$]);R.useEffect(()=>{const Y=v.viewport;if(Y){const Q=()=>{H(D.current),c?.()},ie=()=>{const fe=new Date().getTime()-j.current;D.current=D.current-fe,window.clearTimeout(q.current),l?.()};return Y.addEventListener(Vy,ie),Y.addEventListener(Gy,Q),()=>{Y.removeEventListener(Vy,ie),Y.removeEventListener(Gy,Q)}}},[v.viewport,L,l,c,H]),R.useEffect(()=>{s&&!v.isClosePausedRef.current&&H(L)},[s,L,v.isClosePausedRef,H]),R.useEffect(()=>(z(),()=>ee()),[z,ee]);const ae=R.useMemo(()=>h?i4(h):null,[h]);return v.viewport?x.jsxs(x.Fragment,{children:[ae&&x.jsx(cO,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ae}),x.jsx(aO,{scope:n,onClose:$,children:oc.createPortal(x.jsx(Yb.ItemSlot,{scope:n,children:x.jsx($M,{asChild:!0,onEscapeKeyDown:Ke(o,()=>{v.isFocusedToastEscapeKeyDownRef.current||$(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:x.jsx(At.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...m,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ke(e.onKeyDown,Y=>{Y.key==="Escape"&&(o?.(Y.nativeEvent),Y.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,$()))}),onPointerDown:Ke(e.onPointerDown,Y=>{Y.button===0&&(b.current={x:Y.clientX,y:Y.clientY})}),onPointerMove:Ke(e.onPointerMove,Y=>{if(!b.current)return;const Q=Y.clientX-b.current.x,ie=Y.clientY-b.current.y,fe=!!k.current,W=["left","right"].includes(v.swipeDirection),se=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,oe=W?se(0,Q):0,K=W?0:se(0,ie),B=Y.pointerType==="touch"?10:2,X={x:oe,y:K},ne={originalEvent:Y,delta:X};fe?(k.current=X,qp(rO,f,ne,{discrete:!1})):l_(X,v.swipeDirection,B)?(k.current=X,qp(nO,u,ne,{discrete:!1}),Y.target.setPointerCapture(Y.pointerId)):(Math.abs(Q)>B||Math.abs(ie)>B)&&(b.current=null)}),onPointerUp:Ke(e.onPointerUp,Y=>{const Q=k.current,ie=Y.target;if(ie.hasPointerCapture(Y.pointerId)&&ie.releasePointerCapture(Y.pointerId),k.current=null,b.current=null,Q){const fe=Y.currentTarget,W={originalEvent:Y,delta:Q};l_(Q,v.swipeDirection,v.swipeThreshold)?qp(sO,d,W,{discrete:!0}):qp(iO,g,W,{discrete:!0}),fe.addEventListener("click",se=>se.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),cO=e=>{const{__scopeToast:t,children:n,...r}=e,i=c0(_f,t),[s,a]=R.useState(!1),[o,l]=R.useState(!1);return hO(()=>a(!0)),R.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:x.jsx(Gu,{asChild:!0,children:x.jsx(l0,{...r,children:s&&x.jsxs(x.Fragment,{children:[i.label," ",n]})})})},uO="ToastTitle",JE=R.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return x.jsx(At.div,{...r,ref:t})});JE.displayName=uO;var dO="ToastDescription",QE=R.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return x.jsx(At.div,{...r,ref:t})});QE.displayName=dO;var e4="ToastAction",t4=R.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?x.jsx(r4,{altText:n,asChild:!0,children:x.jsx(Kb,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${e4}\`. Expected non-empty \`string\`.`),null)});t4.displayName=e4;var n4="ToastClose",Kb=R.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=oO(n4,n);return x.jsx(r4,{asChild:!0,children:x.jsx(At.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,i.onClose)})})});Kb.displayName=n4;var r4=R.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return x.jsx(At.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function i4(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),fO(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...i4(r))}}),t}function qp(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?Vb(i,s):i.dispatchEvent(s)}var l_=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function hO(e=()=>{}){const t=Zr(e);wr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function fO(e){return e.nodeType===e.ELEMENT_NODE}function pO(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Kv(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var mO=GE,s4=KE,a4=ZE,o4=JE,l4=QE,c4=t4,u4=Kb;function d4(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=d4(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function h4(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=d4(e))&&(r&&(r+=" "),r+=t);return r}const c_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,u_=h4,Xb=(e,t)=>n=>{var r;if(t?.variants==null)return u_(e,n?.class,n?.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(c=>{const u=n?.[c],f=s?.[c];if(u===null)return null;const g=c_(u)||c_(f);return i[c][g]}),o=n&&Object.entries(n).reduce((c,u)=>{let[f,g]=u;return g===void 0||(c[f]=g),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:g,...d}=u;return Object.entries(d).every(m=>{let[v,h]=m;return Array.isArray(h)?h.includes({...s,...o}[v]):{...s,...o}[v]===h})?[...c,f,g]:c},[]);return u_(e,a,l,n?.class,n?.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f4=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=R.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>R.createElement("svg",{ref:l,...vO,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:f4("lucide",i),...o},[...a.map(([c,u])=>R.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=(e,t)=>{const n=R.forwardRef(({className:r,...i},s)=>R.createElement(yO,{ref:s,iconNode:t,className:f4(`lucide-${gO(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=Tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=Tt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=Tt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=Tt("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=Tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=Tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=Tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=Tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=Tt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=Tt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y4=Tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=Tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=Tt("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AO=Tt("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=Tt("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ky=Tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=Tt("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=Tt("FolderPlus",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=Tt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=Tt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TO=Tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x4=Tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=Tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=Tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=Tt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=Tt("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MO=Tt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=Tt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=Tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=Tt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=Tt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=Tt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=Tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=Tt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=Tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=Tt("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=Tt("StickyNote",[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=Tt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=Tt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=Tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=Tt("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=Tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=Tt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),e2="-",GO=e=>{const t=KO(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(e2);return o[0]===""&&o.length!==1&&o.shift(),_4(o,t)||YO(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},_4=(e,t)=>{if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?_4(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(e2);return t.validators.find(({validator:a})=>a(s))?.classGroupId},f_=/^\[(.+)\]$/,YO=e=>{if(f_.test(e)){const t=f_.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},KO=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return ZO(Object.entries(e.classGroups),n).forEach(([s,a])=>{Xy(a,r,s,t)}),r},Xy=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:p_(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(XO(i)){Xy(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{Xy(a,p_(t,s),n,r)})})},p_=(e,t)=>{let n=e;return t.split(e2).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},XO=e=>e.isThemeGetter,ZO=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,JO=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},S4="!",QO=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const l=[];let c=0,u=0,f;for(let h=0;h<o.length;h++){let p=o[h];if(c===0){if(p===i&&(r||o.slice(h,h+s)===t)){l.push(o.slice(u,h)),u=h+s;continue}if(p==="/"){f=h;continue}}p==="["?c++:p==="]"&&c--}const g=l.length===0?o:o.substring(u),d=g.startsWith(S4),m=d?g.substring(1):g,v=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:d,baseClassName:m,maybePostfixModifierPosition:v}};return n?o=>n({className:o,parseClassName:a}):a},e8=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},t8=e=>({cache:JO(e.cacheSize),parseClassName:QO(e),...GO(e)}),n8=/\s+/,r8=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(n8);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:d}=n(c);let m=!!d,v=r(m?g.substring(0,d):g);if(!v){if(!m){o=c+(o.length>0?" "+o:o);continue}if(v=r(g),!v){o=c+(o.length>0?" "+o:o);continue}m=!1}const h=e8(u).join(":"),p=f?h+S4:h,y=p+v;if(s.includes(y))continue;s.push(y);const b=i(v,m);for(let k=0;k<b.length;++k){const L=b[k];s.push(p+L)}o=c+(o.length>0?" "+o:o)}return o};function i8(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=A4(t))&&(r&&(r+=" "),r+=n);return r}const A4=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=A4(e[r]))&&(n&&(n+=" "),n+=t);return n};function s8(e,...t){let n,r,i,s=a;function a(l){const c=t.reduce((u,f)=>f(u),e());return n=t8(c),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const u=r8(l,n);return i(l,u),u}return function(){return s(i8.apply(null,arguments))}}const Cn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},k4=/^\[(?:([a-z-]+):)?(.+)\]$/i,a8=/^\d+\/\d+$/,o8=new Set(["px","full","screen"]),l8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,c8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,u8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,h8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ka=e=>pu(e)||o8.has(e)||a8.test(e),co=e=>Yu(e,"length",b8),pu=e=>!!e&&!Number.isNaN(Number(e)),Xv=e=>Yu(e,"number",pu),Ud=e=>!!e&&Number.isInteger(Number(e)),f8=e=>e.endsWith("%")&&pu(e.slice(0,-1)),Ut=e=>k4.test(e),uo=e=>l8.test(e),p8=new Set(["length","size","percentage"]),m8=e=>Yu(e,p8,C4),g8=e=>Yu(e,"position",C4),v8=new Set(["image","url"]),y8=e=>Yu(e,v8,_8),w8=e=>Yu(e,"",x8),$d=()=>!0,Yu=(e,t,n)=>{const r=k4.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},b8=e=>c8.test(e)&&!u8.test(e),C4=()=>!1,x8=e=>d8.test(e),_8=e=>h8.test(e),S8=()=>{const e=Cn("colors"),t=Cn("spacing"),n=Cn("blur"),r=Cn("brightness"),i=Cn("borderColor"),s=Cn("borderRadius"),a=Cn("borderSpacing"),o=Cn("borderWidth"),l=Cn("contrast"),c=Cn("grayscale"),u=Cn("hueRotate"),f=Cn("invert"),g=Cn("gap"),d=Cn("gradientColorStops"),m=Cn("gradientColorStopPositions"),v=Cn("inset"),h=Cn("margin"),p=Cn("opacity"),y=Cn("padding"),b=Cn("saturate"),k=Cn("scale"),L=Cn("sepia"),j=Cn("skew"),D=Cn("space"),q=Cn("translate"),z=()=>["auto","contain","none"],ee=()=>["auto","hidden","clip","visible","scroll"],$=()=>["auto",Ut,t],H=()=>[Ut,t],ae=()=>["",ka,co],Y=()=>["auto",pu,Ut],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ie=()=>["solid","dashed","dotted","double","none"],fe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],se=()=>["","0",Ut],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[pu,Ut];return{cacheSize:500,separator:":",theme:{colors:[$d],spacing:[ka,co],blur:["none","",uo,Ut],brightness:K(),borderColor:[e],borderRadius:["none","","full",uo,Ut],borderSpacing:H(),borderWidth:ae(),contrast:K(),grayscale:se(),hueRotate:K(),invert:se(),gap:H(),gradientColorStops:[e],gradientColorStopPositions:[f8,co],inset:$(),margin:$(),opacity:K(),padding:H(),saturate:K(),scale:K(),sepia:se(),skew:K(),space:H(),translate:H()},classGroups:{aspect:[{aspect:["auto","square","video",Ut]}],container:["container"],columns:[{columns:[uo]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),Ut]}],overflow:[{overflow:ee()}],"overflow-x":[{"overflow-x":ee()}],"overflow-y":[{"overflow-y":ee()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ud,Ut]}],basis:[{basis:$()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ut]}],grow:[{grow:se()}],shrink:[{shrink:se()}],order:[{order:["first","last","none",Ud,Ut]}],"grid-cols":[{"grid-cols":[$d]}],"col-start-end":[{col:["auto",{span:["full",Ud,Ut]},Ut]}],"col-start":[{"col-start":Y()}],"col-end":[{"col-end":Y()}],"grid-rows":[{"grid-rows":[$d]}],"row-start-end":[{row:["auto",{span:[Ud,Ut]},Ut]}],"row-start":[{"row-start":Y()}],"row-end":[{"row-end":Y()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ut]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ut]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[h]}],mx:[{mx:[h]}],my:[{my:[h]}],ms:[{ms:[h]}],me:[{me:[h]}],mt:[{mt:[h]}],mr:[{mr:[h]}],mb:[{mb:[h]}],ml:[{ml:[h]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ut,t]}],"min-w":[{"min-w":[Ut,t,"min","max","fit"]}],"max-w":[{"max-w":[Ut,t,"none","full","min","max","fit","prose",{screen:[uo]},uo]}],h:[{h:[Ut,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ut,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ut,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ut,t,"auto","min","max","fit"]}],"font-size":[{text:["base",uo,co]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Xv]}],"font-family":[{font:[$d]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ut]}],"line-clamp":[{"line-clamp":["none",pu,Xv]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ka,Ut]}],"list-image":[{"list-image":["none",Ut]}],"list-style-type":[{list:["none","disc","decimal",Ut]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ie(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ka,co]}],"underline-offset":[{"underline-offset":["auto",ka,Ut]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ut]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ut]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),g8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",m8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},y8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[d]}],"gradient-via":[{via:[d]}],"gradient-to":[{to:[d]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...ie(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:ie()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ie()]}],"outline-offset":[{"outline-offset":[ka,Ut]}],"outline-w":[{outline:[ka,co]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[ka,co]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",uo,w8]}],"shadow-color":[{shadow:[$d]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...fe(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",uo,Ut]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[L]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[L]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ut]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Ut]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ut]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Ud,Ut]}],"translate-x":[{"translate-x":[q]}],"translate-y":[{"translate-y":[q]}],"skew-x":[{"skew-x":[j]}],"skew-y":[{"skew-y":[j]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ut]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ut]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ut]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ka,co,Xv]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},A8=s8(S8);function $t(...e){return A8(h4(e))}const k8=mO,E4=R.forwardRef(({className:e,...t},n)=>x.jsx(s4,{ref:n,className:$t("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));E4.displayName=s4.displayName;const C8=Xb("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),N4=R.forwardRef(({className:e,variant:t,...n},r)=>x.jsx(a4,{ref:r,className:$t(C8({variant:t}),e),...n}));N4.displayName=a4.displayName;const E8=R.forwardRef(({className:e,...t},n)=>x.jsx(c4,{ref:n,className:$t("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));E8.displayName=c4.displayName;const T4=R.forwardRef(({className:e,...t},n)=>x.jsx(u4,{ref:n,className:$t("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:x.jsx(Fh,{className:"h-4 w-4"})}));T4.displayName=u4.displayName;const P4=R.forwardRef(({className:e,...t},n)=>x.jsx(o4,{ref:n,className:$t("text-sm font-semibold",e),...t}));P4.displayName=o4.displayName;const R4=R.forwardRef(({className:e,...t},n)=>x.jsx(l4,{ref:n,className:$t("text-sm opacity-90",e),...t}));R4.displayName=l4.displayName;function N8(){const{toasts:e}=Qo();return x.jsxs(k8,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return x.jsxs(N4,{...s,children:[x.jsxs("div",{className:"grid gap-1",children:[n&&x.jsx(P4,{children:n}),r&&x.jsx(R4,{children:r})]}),i,x.jsx(T4,{})]},t)}),x.jsx(E4,{})]})}var m_=["light","dark"],T8="(prefers-color-scheme: dark)",P8=R.createContext(void 0),R8={setTheme:e=>{},themes:[]},L8=()=>{var e;return(e=R.useContext(P8))!=null?e:R8};R.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:a,attrs:o,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${o.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?m_.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",g=(m,v=!1,h=!0)=>{let p=a?a[m]:m,y=v?m+"|| ''":`'${p}'`,b="";return i&&h&&!v&&m_.includes(m)&&(b+=`d.style.colorScheme = '${m}';`),n==="class"?v||p?b+=`c.add(${y})`:b+="null":p&&(b+=`d[s](n,${y})`),b},d=e?`!function(){${u}${g(e)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${c})){var t='${T8}',m=window.matchMedia(t);if(m.media!==t||m.matches){${g("dark")}}else{${g("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${g(a?"x[e]":"e",!0)}}${c?"":"else{"+g(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${t}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${g(a?"x[e]":"e",!0)}}else{${g(s,!1,!1)};}${f}}catch(t){}}();`;return R.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:d}})});var I8=e=>{switch(e){case"success":return j8;case"info":return F8;case"warning":return D8;case"error":return B8;default:return null}},M8=Array(12).fill(0),O8=({visible:e,className:t})=>Ge.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Ge.createElement("div",{className:"sonner-spinner"},M8.map((n,r)=>Ge.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),j8=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),D8=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),F8=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),B8=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ge.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),U8=Ge.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ge.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ge.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$8=()=>{let[e,t]=Ge.useState(document.hidden);return Ge.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Zy=1,z8=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;let{message:r,...i}=t,s=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:Zy++,a=this.toasts.find(l=>l.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...t,id:s,title:r}),{...l,...t,id:s,dismissible:o,title:r}):l):this.addToast({title:r,...i,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:t,dismiss:!0})),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=t instanceof Promise?t:t(),s=r!==void 0,a,o=i.then(async c=>{if(a=["resolve",c],Ge.isValidElement(c))s=!1,this.create({id:r,type:"default",message:c});else if(H8(c)&&!c.ok){s=!1;let u=typeof n.error=="function"?await n.error(`HTTP error! status: ${c.status}`):n.error,f=typeof n.description=="function"?await n.description(`HTTP error! status: ${c.status}`):n.description;this.create({id:r,type:"error",message:u,description:f})}else if(n.success!==void 0){s=!1;let u=typeof n.success=="function"?await n.success(c):n.success,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(a=["reject",c],n.error!==void 0){s=!1;let u=typeof n.error=="function"?await n.error(c):n.error,f=typeof n.description=="function"?await n.description(c):n.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;s&&(this.dismiss(r),r=void 0),(c=n.finally)==null||c.call(n)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,n)=>{let r=n?.id||Zy++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},ni=new z8,q8=(e,t)=>{let n=t?.id||Zy++;return ni.addToast({title:e,...t,id:n}),n},H8=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",W8=q8,V8=()=>ni.toasts,G8=()=>ni.getActiveToasts();Object.assign(W8,{success:ni.success,info:ni.info,warning:ni.warning,error:ni.error,custom:ni.custom,message:ni.message,promise:ni.promise,dismiss:ni.dismiss,loading:ni.loading},{getHistory:V8,getToasts:G8});function Y8(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}Y8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Hp(e){return e.label!==void 0}var K8=3,X8="32px",Z8="16px",g_=4e3,J8=356,Q8=14,ej=20,tj=200;function us(...e){return e.filter(Boolean).join(" ")}function nj(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var rj=e=>{var t,n,r,i,s,a,o,l,c,u,f;let{invert:g,toast:d,unstyled:m,interacting:v,setHeights:h,visibleToasts:p,heights:y,index:b,toasts:k,expanded:L,removeToast:j,defaultRichColors:D,closeButton:q,style:z,cancelButtonStyle:ee,actionButtonStyle:$,className:H="",descriptionClassName:ae="",duration:Y,position:Q,gap:ie,loadingIcon:fe,expandByDefault:W,classNames:se,icons:oe,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:B}=e,[X,ne]=Ge.useState(null),[Z,te]=Ge.useState(null),[E,T]=Ge.useState(!1),[S,_]=Ge.useState(!1),[C,P]=Ge.useState(!1),[O,U]=Ge.useState(!1),[M,J]=Ge.useState(!1),[pe,de]=Ge.useState(0),[he,xe]=Ge.useState(0),ve=Ge.useRef(d.duration||Y||g_),ce=Ge.useRef(null),ge=Ge.useRef(null),Pe=b===0,ke=b+1<=p,Re=d.type,Fe=d.dismissible!==!1,Ue=d.className||"",Me=d.descriptionClassName||"",Be=Ge.useMemo(()=>y.findIndex(wt=>wt.toastId===d.id)||0,[y,d.id]),De=Ge.useMemo(()=>{var wt;return(wt=d.closeButton)!=null?wt:q},[d.closeButton,q]),lt=Ge.useMemo(()=>d.duration||Y||g_,[d.duration,Y]),Je=Ge.useRef(0),Qe=Ge.useRef(0),We=Ge.useRef(0),Et=Ge.useRef(null),[Xe,Lt]=Q.split("-"),Ze=Ge.useMemo(()=>y.reduce((wt,ut,bt)=>bt>=Be?wt:wt+ut.height,0),[y,Be]),nt=$8(),_t=d.invert||g,vt=Re==="loading";Qe.current=Ge.useMemo(()=>Be*ie+Ze,[Be,Ze]),Ge.useEffect(()=>{ve.current=lt},[lt]),Ge.useEffect(()=>{T(!0)},[]),Ge.useEffect(()=>{let wt=ge.current;if(wt){let ut=wt.getBoundingClientRect().height;return xe(ut),h(bt=>[{toastId:d.id,height:ut,position:d.position},...bt]),()=>h(bt=>bt.filter(pn=>pn.toastId!==d.id))}},[h,d.id]),Ge.useLayoutEffect(()=>{if(!E)return;let wt=ge.current,ut=wt.style.height;wt.style.height="auto";let bt=wt.getBoundingClientRect().height;wt.style.height=ut,xe(bt),h(pn=>pn.find(et=>et.toastId===d.id)?pn.map(et=>et.toastId===d.id?{...et,height:bt}:et):[{toastId:d.id,height:bt,position:d.position},...pn])},[E,d.title,d.description,h,d.id]);let rt=Ge.useCallback(()=>{_(!0),de(Qe.current),h(wt=>wt.filter(ut=>ut.toastId!==d.id)),setTimeout(()=>{j(d)},tj)},[d,j,h,Qe]);Ge.useEffect(()=>{if(d.promise&&Re==="loading"||d.duration===1/0||d.type==="loading")return;let wt;return L||v||B&&nt?(()=>{if(We.current<Je.current){let ut=new Date().getTime()-Je.current;ve.current=ve.current-ut}We.current=new Date().getTime()})():ve.current!==1/0&&(Je.current=new Date().getTime(),wt=setTimeout(()=>{var ut;(ut=d.onAutoClose)==null||ut.call(d,d),rt()},ve.current)),()=>clearTimeout(wt)},[L,v,d,Re,B,nt,rt]),Ge.useEffect(()=>{d.delete&&rt()},[rt,d.delete]);function Ht(){var wt,ut,bt;return oe!=null&&oe.loading?Ge.createElement("div",{className:us(se?.loader,(wt=d?.classNames)==null?void 0:wt.loader,"sonner-loader"),"data-visible":Re==="loading"},oe.loading):fe?Ge.createElement("div",{className:us(se?.loader,(ut=d?.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":Re==="loading"},fe):Ge.createElement(O8,{className:us(se?.loader,(bt=d?.classNames)==null?void 0:bt.loader),visible:Re==="loading"})}return Ge.createElement("li",{tabIndex:0,ref:ge,className:us(H,Ue,se?.toast,(t=d?.classNames)==null?void 0:t.toast,se?.default,se?.[Re],(n=d?.classNames)==null?void 0:n[Re]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:D,"data-styled":!(d.jsx||d.unstyled||m),"data-mounted":E,"data-promise":!!d.promise,"data-swiped":M,"data-removed":S,"data-visible":ke,"data-y-position":Xe,"data-x-position":Lt,"data-index":b,"data-front":Pe,"data-swiping":C,"data-dismissible":Fe,"data-type":Re,"data-invert":_t,"data-swipe-out":O,"data-swipe-direction":Z,"data-expanded":!!(L||W&&E),style:{"--index":b,"--toasts-before":b,"--z-index":k.length-b,"--offset":`${S?pe:Qe.current}px`,"--initial-height":W?"auto":`${he}px`,...z,...d.style},onDragEnd:()=>{P(!1),ne(null),Et.current=null},onPointerDown:wt=>{vt||!Fe||(ce.current=new Date,de(Qe.current),wt.target.setPointerCapture(wt.pointerId),wt.target.tagName!=="BUTTON"&&(P(!0),Et.current={x:wt.clientX,y:wt.clientY}))},onPointerUp:()=>{var wt,ut,bt,pn;if(O||!Fe)return;Et.current=null;let et=Number(((wt=ge.current)==null?void 0:wt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sn=Number(((ut=ge.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),zt=new Date().getTime()-((bt=ce.current)==null?void 0:bt.getTime()),an=X==="x"?et:Sn,An=Math.abs(an)/zt;if(Math.abs(an)>=ej||An>.11){de(Qe.current),(pn=d.onDismiss)==null||pn.call(d,d),te(X==="x"?et>0?"right":"left":Sn>0?"down":"up"),rt(),U(!0),J(!1);return}P(!1),ne(null)},onPointerMove:wt=>{var ut,bt,pn,et;if(!Et.current||!Fe||((ut=window.getSelection())==null?void 0:ut.toString().length)>0)return;let Sn=wt.clientY-Et.current.y,zt=wt.clientX-Et.current.x,an=(bt=e.swipeDirections)!=null?bt:nj(Q);!X&&(Math.abs(zt)>1||Math.abs(Sn)>1)&&ne(Math.abs(zt)>Math.abs(Sn)?"x":"y");let An={x:0,y:0};X==="y"?(an.includes("top")||an.includes("bottom"))&&(an.includes("top")&&Sn<0||an.includes("bottom")&&Sn>0)&&(An.y=Sn):X==="x"&&(an.includes("left")||an.includes("right"))&&(an.includes("left")&&zt<0||an.includes("right")&&zt>0)&&(An.x=zt),(Math.abs(An.x)>0||Math.abs(An.y)>0)&&J(!0),(pn=ge.current)==null||pn.style.setProperty("--swipe-amount-x",`${An.x}px`),(et=ge.current)==null||et.style.setProperty("--swipe-amount-y",`${An.y}px`)}},De&&!d.jsx?Ge.createElement("button",{"aria-label":K,"data-disabled":vt,"data-close-button":!0,onClick:vt||!Fe?()=>{}:()=>{var wt;rt(),(wt=d.onDismiss)==null||wt.call(d,d)},className:us(se?.closeButton,(i=d?.classNames)==null?void 0:i.closeButton)},(s=oe?.close)!=null?s:U8):null,d.jsx||R.isValidElement(d.title)?d.jsx?d.jsx:typeof d.title=="function"?d.title():d.title:Ge.createElement(Ge.Fragment,null,Re||d.icon||d.promise?Ge.createElement("div",{"data-icon":"",className:us(se?.icon,(a=d?.classNames)==null?void 0:a.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||Ht():null,d.type!=="loading"?d.icon||oe?.[Re]||I8(Re):null):null,Ge.createElement("div",{"data-content":"",className:us(se?.content,(o=d?.classNames)==null?void 0:o.content)},Ge.createElement("div",{"data-title":"",className:us(se?.title,(l=d?.classNames)==null?void 0:l.title)},typeof d.title=="function"?d.title():d.title),d.description?Ge.createElement("div",{"data-description":"",className:us(ae,Me,se?.description,(c=d?.classNames)==null?void 0:c.description)},typeof d.description=="function"?d.description():d.description):null),R.isValidElement(d.cancel)?d.cancel:d.cancel&&Hp(d.cancel)?Ge.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||ee,onClick:wt=>{var ut,bt;Hp(d.cancel)&&Fe&&((bt=(ut=d.cancel).onClick)==null||bt.call(ut,wt),rt())},className:us(se?.cancelButton,(u=d?.classNames)==null?void 0:u.cancelButton)},d.cancel.label):null,R.isValidElement(d.action)?d.action:d.action&&Hp(d.action)?Ge.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||$,onClick:wt=>{var ut,bt;Hp(d.action)&&((bt=(ut=d.action).onClick)==null||bt.call(ut,wt),!wt.defaultPrevented&&rt())},className:us(se?.actionButton,(f=d?.classNames)==null?void 0:f.actionButton)},d.action.label):null))};function v_(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function ij(e,t){let n={};return[e,t].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?Z8:X8;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=o:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),n}var sj=R.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:c,theme:u="light",richColors:f,duration:g,style:d,visibleToasts:m=K8,toastOptions:v,dir:h=v_(),gap:p=Q8,loadingIcon:y,icons:b,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:L}=e,[j,D]=Ge.useState([]),q=Ge.useMemo(()=>Array.from(new Set([r].concat(j.filter(B=>B.position).map(B=>B.position)))),[j,r]),[z,ee]=Ge.useState([]),[$,H]=Ge.useState(!1),[ae,Y]=Ge.useState(!1),[Q,ie]=Ge.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),fe=Ge.useRef(null),W=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),se=Ge.useRef(null),oe=Ge.useRef(!1),K=Ge.useCallback(B=>{D(X=>{var ne;return(ne=X.find(Z=>Z.id===B.id))!=null&&ne.delete||ni.dismiss(B.id),X.filter(({id:Z})=>Z!==B.id)})},[]);return Ge.useEffect(()=>ni.subscribe(B=>{if(B.dismiss){D(X=>X.map(ne=>ne.id===B.id?{...ne,delete:!0}:ne));return}setTimeout(()=>{BE.flushSync(()=>{D(X=>{let ne=X.findIndex(Z=>Z.id===B.id);return ne!==-1?[...X.slice(0,ne),{...X[ne],...B},...X.slice(ne+1)]:[B,...X]})})})}),[]),Ge.useEffect(()=>{if(u!=="system"){ie(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ie("dark"):ie("light")),typeof window>"u")return;let B=window.matchMedia("(prefers-color-scheme: dark)");try{B.addEventListener("change",({matches:X})=>{ie(X?"dark":"light")})}catch{B.addListener(({matches:ne})=>{try{ie(ne?"dark":"light")}catch(Z){console.error(Z)}})}},[u]),Ge.useEffect(()=>{j.length<=1&&H(!1)},[j]),Ge.useEffect(()=>{let B=X=>{var ne,Z;i.every(te=>X[te]||X.code===te)&&(H(!0),(ne=fe.current)==null||ne.focus()),X.code==="Escape"&&(document.activeElement===fe.current||(Z=fe.current)!=null&&Z.contains(document.activeElement))&&H(!1)};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[i]),Ge.useEffect(()=>{if(fe.current)return()=>{se.current&&(se.current.focus({preventScroll:!0}),se.current=null,oe.current=!1)}},[fe.current]),Ge.createElement("section",{ref:t,"aria-label":`${k} ${W}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},q.map((B,X)=>{var ne;let[Z,te]=B.split("-");return j.length?Ge.createElement("ol",{key:B,dir:h==="auto"?v_():h,tabIndex:-1,ref:fe,className:o,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":Z,"data-lifted":$&&j.length>1&&!s,"data-x-position":te,style:{"--front-toast-height":`${((ne=z[0])==null?void 0:ne.height)||0}px`,"--width":`${J8}px`,"--gap":`${p}px`,...d,...ij(l,c)},onBlur:E=>{oe.current&&!E.currentTarget.contains(E.relatedTarget)&&(oe.current=!1,se.current&&(se.current.focus({preventScroll:!0}),se.current=null))},onFocus:E=>{E.target instanceof HTMLElement&&E.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,se.current=E.relatedTarget)},onMouseEnter:()=>H(!0),onMouseMove:()=>H(!0),onMouseLeave:()=>{ae||H(!1)},onDragEnd:()=>H(!1),onPointerDown:E=>{E.target instanceof HTMLElement&&E.target.dataset.dismissible==="false"||Y(!0)},onPointerUp:()=>Y(!1)},j.filter(E=>!E.position&&X===0||E.position===B).map((E,T)=>{var S,_;return Ge.createElement(rj,{key:E.id,icons:b,index:T,toast:E,defaultRichColors:f,duration:(S=v?.duration)!=null?S:g,className:v?.className,descriptionClassName:v?.descriptionClassName,invert:n,visibleToasts:m,closeButton:(_=v?.closeButton)!=null?_:a,interacting:ae,position:B,style:v?.style,unstyled:v?.unstyled,classNames:v?.classNames,cancelButtonStyle:v?.cancelButtonStyle,actionButtonStyle:v?.actionButtonStyle,removeToast:K,toasts:j.filter(C=>C.position==E.position),heights:z.filter(C=>C.position==E.position),setHeights:ee,expandByDefault:s,gap:p,loadingIcon:y,expanded:$,pauseWhenPageIsHidden:L,swipeDirections:e.swipeDirections})})):null}))});const aj=({...e})=>{const{theme:t="system"}=L8();return x.jsx(sj,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var oj=tb[" useId ".trim().toString()]||(()=>{}),lj=0;function Ti(e){const[t,n]=R.useState(oj());return wr(()=>{n(r=>r??String(lj++))},[e]),t?`radix-${t}`:""}const cj=["top","right","bottom","left"],Wo=Math.min,Ai=Math.max,hg=Math.round,Wp=Math.floor,ta=e=>({x:e,y:e}),uj={left:"right",right:"left",bottom:"top",top:"bottom"},dj={start:"end",end:"start"};function Jy(e,t,n){return Ai(e,Wo(t,n))}function za(e,t){return typeof e=="function"?e(t):e}function qa(e){return e.split("-")[0]}function Ku(e){return e.split("-")[1]}function t2(e){return e==="x"?"y":"x"}function n2(e){return e==="y"?"height":"width"}const hj=new Set(["top","bottom"]);function Xs(e){return hj.has(qa(e))?"y":"x"}function r2(e){return t2(Xs(e))}function fj(e,t,n){n===void 0&&(n=!1);const r=Ku(e),i=r2(e),s=n2(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=fg(a)),[a,fg(a)]}function pj(e){const t=fg(e);return[Qy(e),t,Qy(t)]}function Qy(e){return e.replace(/start|end/g,t=>dj[t])}const y_=["left","right"],w_=["right","left"],mj=["top","bottom"],gj=["bottom","top"];function vj(e,t,n){switch(e){case"top":case"bottom":return n?t?w_:y_:t?y_:w_;case"left":case"right":return t?mj:gj;default:return[]}}function yj(e,t,n,r){const i=Ku(e);let s=vj(qa(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(Qy)))),s}function fg(e){return e.replace(/left|right|bottom|top/g,t=>uj[t])}function wj(e){return{top:0,right:0,bottom:0,left:0,...e}}function L4(e){return typeof e!="number"?wj(e):{top:e,right:e,bottom:e,left:e}}function pg(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function b_(e,t,n){let{reference:r,floating:i}=e;const s=Xs(t),a=r2(t),o=n2(a),l=qa(t),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,g=r[o]/2-i[o]/2;let d;switch(l){case"top":d={x:u,y:r.y-i.height};break;case"bottom":d={x:u,y:r.y+r.height};break;case"right":d={x:r.x+r.width,y:f};break;case"left":d={x:r.x-i.width,y:f};break;default:d={x:r.x,y:r.y}}switch(Ku(t)){case"start":d[a]-=g*(n&&c?-1:1);break;case"end":d[a]+=g*(n&&c?-1:1);break}return d}const bj=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(t));let c=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=b_(c,r,l),g=r,d={},m=0;for(let v=0;v<o.length;v++){const{name:h,fn:p}=o[v],{x:y,y:b,data:k,reset:L}=await p({x:u,y:f,initialPlacement:r,placement:g,strategy:i,middlewareData:d,rects:c,platform:a,elements:{reference:e,floating:t}});u=y??u,f=b??f,d={...d,[h]:{...d[h],...k}},L&&m<=50&&(m++,typeof L=="object"&&(L.placement&&(g=L.placement),L.rects&&(c=L.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):L.rects),{x:u,y:f}=b_(c,g,l)),v=-1)}return{x:u,y:f,placement:g,strategy:i,middlewareData:d}};async function Bh(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:g=!1,padding:d=0}=za(t,e),m=L4(d),h=o[g?f==="floating"?"reference":"floating":f],p=pg(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(h)))==null||n?h:h.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),k=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},L=pg(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:b,strategy:l}):y);return{top:(p.top-L.top+m.top)/k.y,bottom:(L.bottom-p.bottom+m.bottom)/k.y,left:(p.left-L.left+m.left)/k.x,right:(L.right-p.right+m.right)/k.x}}const xj=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=t,{element:c,padding:u=0}=za(e,t)||{};if(c==null)return{};const f=L4(u),g={x:n,y:r},d=r2(i),m=n2(d),v=await a.getDimensions(c),h=d==="y",p=h?"top":"left",y=h?"bottom":"right",b=h?"clientHeight":"clientWidth",k=s.reference[m]+s.reference[d]-g[d]-s.floating[m],L=g[d]-s.reference[d],j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let D=j?j[b]:0;(!D||!await(a.isElement==null?void 0:a.isElement(j)))&&(D=o.floating[b]||s.floating[m]);const q=k/2-L/2,z=D/2-v[m]/2-1,ee=Wo(f[p],z),$=Wo(f[y],z),H=ee,ae=D-v[m]-$,Y=D/2-v[m]/2+q,Q=Jy(H,Y,ae),ie=!l.arrow&&Ku(i)!=null&&Y!==Q&&s.reference[m]/2-(Y<H?ee:$)-v[m]/2<0,fe=ie?Y<H?Y-H:Y-ae:0;return{[d]:g[d]+fe,data:{[d]:Q,centerOffset:Y-Q-fe,...ie&&{alignmentOffset:fe}},reset:ie}}}),_j=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:d="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:v=!0,...h}=za(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=qa(i),y=Xs(o),b=qa(o)===o,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),L=g||(b||!v?[fg(o)]:pj(o)),j=m!=="none";!g&&j&&L.push(...yj(o,v,m,k));const D=[o,...L],q=await Bh(t,h),z=[];let ee=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&z.push(q[p]),f){const Y=fj(i,a,k);z.push(q[Y[0]],q[Y[1]])}if(ee=[...ee,{placement:i,overflows:z}],!z.every(Y=>Y<=0)){var $,H;const Y=((($=s.flip)==null?void 0:$.index)||0)+1,Q=D[Y];if(Q&&(!(f==="alignment"?y!==Xs(Q):!1)||ee.every(W=>W.overflows[0]>0&&Xs(W.placement)===y)))return{data:{index:Y,overflows:ee},reset:{placement:Q}};let ie=(H=ee.filter(fe=>fe.overflows[0]<=0).sort((fe,W)=>fe.overflows[1]-W.overflows[1])[0])==null?void 0:H.placement;if(!ie)switch(d){case"bestFit":{var ae;const fe=(ae=ee.filter(W=>{if(j){const se=Xs(W.placement);return se===y||se==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(se=>se>0).reduce((se,oe)=>se+oe,0)]).sort((W,se)=>W[1]-se[1])[0])==null?void 0:ae[0];fe&&(ie=fe);break}case"initialPlacement":ie=o;break}if(i!==ie)return{reset:{placement:ie}}}return{}}}};function x_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function __(e){return cj.some(t=>e[t]>=0)}const Sj=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=za(e,t);switch(r){case"referenceHidden":{const s=await Bh(t,{...i,elementContext:"reference"}),a=x_(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:__(a)}}}case"escaped":{const s=await Bh(t,{...i,altBoundary:!0}),a=x_(s,n.floating);return{data:{escapedOffsets:a,escaped:__(a)}}}default:return{}}}}},I4=new Set(["left","top"]);async function Aj(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=qa(n),o=Ku(n),l=Xs(n)==="y",c=I4.has(a)?-1:1,u=s&&l?-1:1,f=za(t,e);let{mainAxis:g,crossAxis:d,alignmentAxis:m}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof m=="number"&&(d=o==="end"?m*-1:m),l?{x:d*u,y:g*c}:{x:g*c,y:d*u}}const kj=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,l=await Aj(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Cj=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:h=>{let{x:p,y}=h;return{x:p,y}}},...l}=za(e,t),c={x:n,y:r},u=await Bh(t,l),f=Xs(qa(i)),g=t2(f);let d=c[g],m=c[f];if(s){const h=g==="y"?"top":"left",p=g==="y"?"bottom":"right",y=d+u[h],b=d-u[p];d=Jy(y,d,b)}if(a){const h=f==="y"?"top":"left",p=f==="y"?"bottom":"right",y=m+u[h],b=m-u[p];m=Jy(y,m,b)}const v=o.fn({...t,[g]:d,[f]:m});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[g]:s,[f]:a}}}}}},Ej=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=za(e,t),u={x:n,y:r},f=Xs(i),g=t2(f);let d=u[g],m=u[f];const v=za(o,t),h=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const b=g==="y"?"height":"width",k=s.reference[g]-s.floating[b]+h.mainAxis,L=s.reference[g]+s.reference[b]-h.mainAxis;d<k?d=k:d>L&&(d=L)}if(c){var p,y;const b=g==="y"?"width":"height",k=I4.has(qa(i)),L=s.reference[f]-s.floating[b]+(k&&((p=a.offset)==null?void 0:p[f])||0)+(k?0:h.crossAxis),j=s.reference[f]+s.reference[b]+(k?0:((y=a.offset)==null?void 0:y[f])||0)-(k?h.crossAxis:0);m<L?m=L:m>j&&(m=j)}return{[g]:d,[f]:m}}}},Nj=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:l=()=>{},...c}=za(e,t),u=await Bh(t,c),f=qa(i),g=Ku(i),d=Xs(i)==="y",{width:m,height:v}=s.floating;let h,p;f==="top"||f==="bottom"?(h=f,p=g===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(p=f,h=g==="end"?"top":"bottom");const y=v-u.top-u.bottom,b=m-u.left-u.right,k=Wo(v-u[h],y),L=Wo(m-u[p],b),j=!t.middlewareData.shift;let D=k,q=L;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(q=b),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(D=y),j&&!g){const ee=Ai(u.left,0),$=Ai(u.right,0),H=Ai(u.top,0),ae=Ai(u.bottom,0);d?q=m-2*(ee!==0||$!==0?ee+$:Ai(u.left,u.right)):D=v-2*(H!==0||ae!==0?H+ae:Ai(u.top,u.bottom))}await l({...t,availableWidth:q,availableHeight:D});const z=await a.getDimensions(o.floating);return m!==z.width||v!==z.height?{reset:{rects:!0}}:{}}}};function d0(){return typeof window<"u"}function Xu(e){return M4(e)?(e.nodeName||"").toLowerCase():"#document"}function Pi(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function la(e){var t;return(t=(M4(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function M4(e){return d0()?e instanceof Node||e instanceof Pi(e).Node:!1}function Ss(e){return d0()?e instanceof Element||e instanceof Pi(e).Element:!1}function aa(e){return d0()?e instanceof HTMLElement||e instanceof Pi(e).HTMLElement:!1}function S_(e){return!d0()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Pi(e).ShadowRoot}const Tj=new Set(["inline","contents"]);function Sf(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=As(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Tj.has(i)}const Pj=new Set(["table","td","th"]);function Rj(e){return Pj.has(Xu(e))}const Lj=[":popover-open",":modal"];function h0(e){return Lj.some(t=>{try{return e.matches(t)}catch{return!1}})}const Ij=["transform","translate","scale","rotate","perspective"],Mj=["transform","translate","scale","rotate","perspective","filter"],Oj=["paint","layout","strict","content"];function i2(e){const t=s2(),n=Ss(e)?As(e):e;return Ij.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Mj.some(r=>(n.willChange||"").includes(r))||Oj.some(r=>(n.contain||"").includes(r))}function jj(e){let t=Vo(e);for(;aa(t)&&!Pu(t);){if(i2(t))return t;if(h0(t))return null;t=Vo(t)}return null}function s2(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Dj=new Set(["html","body","#document"]);function Pu(e){return Dj.has(Xu(e))}function As(e){return Pi(e).getComputedStyle(e)}function f0(e){return Ss(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Vo(e){if(Xu(e)==="html")return e;const t=e.assignedSlot||e.parentNode||S_(e)&&e.host||la(e);return S_(t)?t.host:t}function O4(e){const t=Vo(e);return Pu(t)?e.ownerDocument?e.ownerDocument.body:e.body:aa(t)&&Sf(t)?t:O4(t)}function Uh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=O4(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=Pi(i);if(s){const o=ew(a);return t.concat(a,a.visualViewport||[],Sf(i)?i:[],o&&n?Uh(o):[])}return t.concat(i,Uh(i,[],n))}function ew(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function j4(e){const t=As(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=aa(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=hg(n)!==s||hg(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function a2(e){return Ss(e)?e:e.contextElement}function mu(e){const t=a2(e);if(!aa(t))return ta(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=j4(t);let a=(s?hg(n.width):n.width)/r,o=(s?hg(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Fj=ta(0);function D4(e){const t=Pi(e);return!s2()||!t.visualViewport?Fj:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Bj(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Pi(e)?!1:t}function Xl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=a2(e);let a=ta(1);t&&(r?Ss(r)&&(a=mu(r)):a=mu(e));const o=Bj(s,n,r)?D4(s):ta(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,f=i.height/a.y;if(s){const g=Pi(s),d=r&&Ss(r)?Pi(r):r;let m=g,v=ew(m);for(;v&&r&&d!==m;){const h=mu(v),p=v.getBoundingClientRect(),y=As(v),b=p.left+(v.clientLeft+parseFloat(y.paddingLeft))*h.x,k=p.top+(v.clientTop+parseFloat(y.paddingTop))*h.y;l*=h.x,c*=h.y,u*=h.x,f*=h.y,l+=b,c+=k,m=Pi(v),v=ew(m)}}return pg({width:u,height:f,x:l,y:c})}function o2(e,t){const n=f0(e).scrollLeft;return t?t.left+n:Xl(la(e)).left+n}function F4(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:o2(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function Uj(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=la(r),o=t?h0(t.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ta(1);const u=ta(0),f=aa(r);if((f||!f&&!s)&&((Xu(r)!=="body"||Sf(a))&&(l=f0(r)),aa(r))){const d=Xl(r);c=mu(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}const g=a&&!f&&!s?F4(a,l,!0):ta(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+g.x,y:n.y*c.y-l.scrollTop*c.y+u.y+g.y}}function $j(e){return Array.from(e.getClientRects())}function zj(e){const t=la(e),n=f0(e),r=e.ownerDocument.body,i=Ai(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Ai(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+o2(e);const o=-n.scrollTop;return As(r).direction==="rtl"&&(a+=Ai(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function qj(e,t){const n=Pi(e),r=la(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=s2();(!c||c&&t==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}const Hj=new Set(["absolute","fixed"]);function Wj(e,t){const n=Xl(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=aa(e)?mu(e):ta(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function A_(e,t,n){let r;if(t==="viewport")r=qj(e,n);else if(t==="document")r=zj(la(e));else if(Ss(t))r=Wj(t,n);else{const i=D4(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return pg(r)}function B4(e,t){const n=Vo(e);return n===t||!Ss(n)||Pu(n)?!1:As(n).position==="fixed"||B4(n,t)}function Vj(e,t){const n=t.get(e);if(n)return n;let r=Uh(e,[],!1).filter(o=>Ss(o)&&Xu(o)!=="body"),i=null;const s=As(e).position==="fixed";let a=s?Vo(e):e;for(;Ss(a)&&!Pu(a);){const o=As(a),l=i2(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Hj.has(i.position)||Sf(a)&&!l&&B4(e,a))?r=r.filter(u=>u!==a):i=o,a=Vo(a)}return t.set(e,r),r}function Gj(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?h0(t)?[]:Vj(t,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,u)=>{const f=A_(t,u,i);return c.top=Ai(f.top,c.top),c.right=Wo(f.right,c.right),c.bottom=Wo(f.bottom,c.bottom),c.left=Ai(f.left,c.left),c},A_(t,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Yj(e){const{width:t,height:n}=j4(e);return{width:t,height:n}}function Kj(e,t,n){const r=aa(t),i=la(t),s=n==="fixed",a=Xl(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const l=ta(0);function c(){l.x=o2(i)}if(r||!r&&!s)if((Xu(t)!=="body"||Sf(i))&&(o=f0(t)),r){const d=Xl(t,!0,s,t);l.x=d.x+t.clientLeft,l.y=d.y+t.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?F4(i,o):ta(0),f=a.left+o.scrollLeft-l.x-u.x,g=a.top+o.scrollTop-l.y-u.y;return{x:f,y:g,width:a.width,height:a.height}}function Zv(e){return As(e).position==="static"}function k_(e,t){if(!aa(e)||As(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return la(e)===n&&(n=n.ownerDocument.body),n}function U4(e,t){const n=Pi(e);if(h0(e))return n;if(!aa(e)){let i=Vo(e);for(;i&&!Pu(i);){if(Ss(i)&&!Zv(i))return i;i=Vo(i)}return n}let r=k_(e,t);for(;r&&Rj(r)&&Zv(r);)r=k_(r,t);return r&&Pu(r)&&Zv(r)&&!i2(r)?n:r||jj(e)||n}const Xj=async function(e){const t=this.getOffsetParent||U4,n=this.getDimensions,r=await n(e.floating);return{reference:Kj(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Zj(e){return As(e).direction==="rtl"}const Jj={convertOffsetParentRelativeRectToViewportRelativeRect:Uj,getDocumentElement:la,getClippingRect:Gj,getOffsetParent:U4,getElementRects:Xj,getClientRects:$j,getDimensions:Yj,getScale:mu,isElement:Ss,isRTL:Zj};function $4(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Qj(e,t){let n=null,r;const i=la(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=e.getBoundingClientRect(),{left:u,top:f,width:g,height:d}=c;if(o||t(),!g||!d)return;const m=Wp(f),v=Wp(i.clientWidth-(u+g)),h=Wp(i.clientHeight-(f+d)),p=Wp(u),b={rootMargin:-m+"px "+-v+"px "+-h+"px "+-p+"px",threshold:Ai(0,Wo(1,l))||1};let k=!0;function L(j){const D=j[0].intersectionRatio;if(D!==l){if(!k)return a();D?a(!1,D):r=setTimeout(()=>{a(!1,1e-7)},1e3)}D===1&&!$4(c,e.getBoundingClientRect())&&a(),k=!1}try{n=new IntersectionObserver(L,{...b,root:i.ownerDocument})}catch{n=new IntersectionObserver(L,b)}n.observe(e)}return a(!0),s}function eD(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=a2(e),u=i||s?[...c?Uh(c):[],...Uh(t)]:[];u.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const f=c&&o?Qj(c,n):null;let g=-1,d=null;a&&(d=new ResizeObserver(p=>{let[y]=p;y&&y.target===c&&d&&(d.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var b;(b=d)==null||b.observe(t)})),n()}),c&&!l&&d.observe(c),d.observe(t));let m,v=l?Xl(e):null;l&&h();function h(){const p=Xl(e);v&&!$4(v,p)&&n(),v=p,m=requestAnimationFrame(h)}return n(),()=>{var p;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f?.(),(p=d)==null||p.disconnect(),d=null,l&&cancelAnimationFrame(m)}}const tD=kj,nD=Cj,rD=_j,iD=Nj,sD=Sj,C_=xj,aD=Ej,oD=(e,t,n)=>{const r=new Map,i={platform:Jj,...n},s={...i.platform,_c:r};return bj(e,t,{...i,platform:s})};var lD=typeof document<"u",cD=function(){},Nm=lD?R.useLayoutEffect:cD;function mg(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!mg(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!mg(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function z4(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function E_(e,t){const n=z4(e);return Math.round(t*n)/n}function Jv(e){const t=R.useRef(e);return Nm(()=>{t.current=e}),t}function uD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=e,[u,f]=R.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,d]=R.useState(r);mg(g,r)||d(r);const[m,v]=R.useState(null),[h,p]=R.useState(null),y=R.useCallback(W=>{W!==j.current&&(j.current=W,v(W))},[]),b=R.useCallback(W=>{W!==D.current&&(D.current=W,p(W))},[]),k=s||m,L=a||h,j=R.useRef(null),D=R.useRef(null),q=R.useRef(u),z=l!=null,ee=Jv(l),$=Jv(i),H=Jv(c),ae=R.useCallback(()=>{if(!j.current||!D.current)return;const W={placement:t,strategy:n,middleware:g};$.current&&(W.platform=$.current),oD(j.current,D.current,W).then(se=>{const oe={...se,isPositioned:H.current!==!1};Y.current&&!mg(q.current,oe)&&(q.current=oe,oc.flushSync(()=>{f(oe)}))})},[g,t,n,$,H]);Nm(()=>{c===!1&&q.current.isPositioned&&(q.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[c]);const Y=R.useRef(!1);Nm(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Nm(()=>{if(k&&(j.current=k),L&&(D.current=L),k&&L){if(ee.current)return ee.current(k,L,ae);ae()}},[k,L,ae,ee,z]);const Q=R.useMemo(()=>({reference:j,floating:D,setReference:y,setFloating:b}),[y,b]),ie=R.useMemo(()=>({reference:k,floating:L}),[k,L]),fe=R.useMemo(()=>{const W={position:n,left:0,top:0};if(!ie.floating)return W;const se=E_(ie.floating,u.x),oe=E_(ie.floating,u.y);return o?{...W,transform:"translate("+se+"px, "+oe+"px)",...z4(ie.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:se,top:oe}},[n,o,ie.floating,u.x,u.y]);return R.useMemo(()=>({...u,update:ae,refs:Q,elements:ie,floatingStyles:fe}),[u,ae,Q,ie,fe])}const dD=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?C_({element:r.current,padding:i}).fn(n):{}:r?C_({element:r,padding:i}).fn(n):{}}}},hD=(e,t)=>({...tD(e),options:[e,t]}),fD=(e,t)=>({...nD(e),options:[e,t]}),pD=(e,t)=>({...aD(e),options:[e,t]}),mD=(e,t)=>({...rD(e),options:[e,t]}),gD=(e,t)=>({...iD(e),options:[e,t]}),vD=(e,t)=>({...sD(e),options:[e,t]}),yD=(e,t)=>({...dD(e),options:[e,t]});var wD="Arrow",q4=R.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return x.jsx(At.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:x.jsx("polygon",{points:"0,0 30,0 15,10"})})});q4.displayName=wD;var bD=q4;function xD(e){const[t,n]=R.useState(void 0);return wr(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var l2="Popper",[H4,el]=Qi(l2),[_D,W4]=H4(l2),V4=e=>{const{__scopePopper:t,children:n}=e,[r,i]=R.useState(null);return x.jsx(_D,{scope:t,anchor:r,onAnchorChange:i,children:n})};V4.displayName=l2;var G4="PopperAnchor",Y4=R.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=W4(G4,n),a=R.useRef(null),o=Xt(t,a);return R.useEffect(()=>{s.onAnchorChange(r?.current||a.current)}),r?null:x.jsx(At.div,{...i,ref:o})});Y4.displayName=G4;var c2="PopperContent",[SD,AD]=H4(c2),K4=R.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:d="optimized",onPlaced:m,...v}=e,h=W4(c2,n),[p,y]=R.useState(null),b=Xt(t,E=>y(E)),[k,L]=R.useState(null),j=xD(k),D=j?.width??0,q=j?.height??0,z=r+(s!=="center"?"-"+s:""),ee=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},$=Array.isArray(c)?c:[c],H=$.length>0,ae={padding:ee,boundary:$.filter(CD),altBoundary:H},{refs:Y,floatingStyles:Q,placement:ie,isPositioned:fe,middlewareData:W}=uD({strategy:"fixed",placement:z,whileElementsMounted:(...E)=>eD(...E,{animationFrame:d==="always"}),elements:{reference:h.anchor},middleware:[hD({mainAxis:i+q,alignmentAxis:a}),l&&fD({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?pD():void 0,...ae}),l&&mD({...ae}),gD({...ae,apply:({elements:E,rects:T,availableWidth:S,availableHeight:_})=>{const{width:C,height:P}=T.reference,O=E.floating.style;O.setProperty("--radix-popper-available-width",`${S}px`),O.setProperty("--radix-popper-available-height",`${_}px`),O.setProperty("--radix-popper-anchor-width",`${C}px`),O.setProperty("--radix-popper-anchor-height",`${P}px`)}}),k&&yD({element:k,padding:o}),ED({arrowWidth:D,arrowHeight:q}),g&&vD({strategy:"referenceHidden",...ae})]}),[se,oe]=J4(ie),K=Zr(m);wr(()=>{fe&&K?.()},[fe,K]);const B=W.arrow?.x,X=W.arrow?.y,ne=W.arrow?.centerOffset!==0,[Z,te]=R.useState();return wr(()=>{p&&te(window.getComputedStyle(p).zIndex)},[p]),x.jsx("div",{ref:Y.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:fe?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Z,"--radix-popper-transform-origin":[W.transformOrigin?.x,W.transformOrigin?.y].join(" "),...W.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:x.jsx(SD,{scope:n,placedSide:se,onArrowChange:L,arrowX:B,arrowY:X,shouldHideArrow:ne,children:x.jsx(At.div,{"data-side":se,"data-align":oe,...v,ref:b,style:{...v.style,animation:fe?void 0:"none"}})})})});K4.displayName=c2;var X4="PopperArrow",kD={top:"bottom",right:"left",bottom:"top",left:"right"},Z4=R.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=AD(X4,r),a=kD[s.placedSide];return x.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:x.jsx(bD,{...i,ref:n,style:{...i.style,display:"block"}})})});Z4.displayName=X4;function CD(e){return e!==null}var ED=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,a=i.arrow?.centerOffset!==0,o=a?0:e.arrowWidth,l=a?0:e.arrowHeight,[c,u]=J4(n),f={start:"0%",center:"50%",end:"100%"}[u],g=(i.arrow?.x??0)+o/2,d=(i.arrow?.y??0)+l/2;let m="",v="";return c==="bottom"?(m=a?f:`${g}px`,v=`${-l}px`):c==="top"?(m=a?f:`${g}px`,v=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,v=a?f:`${d}px`):c==="left"&&(m=`${r.floating.width+l}px`,v=a?f:`${d}px`),{data:{x:m,y:v}}}});function J4(e){const[t,n="center"]=e.split("-");return[t,n]}var p0=V4,Af=Y4,m0=K4,g0=Z4,[v0,VZ]=Qi("Tooltip",[el]),u2=el(),Q4="TooltipProvider",ND=700,N_="tooltip.open",[TD,e3]=v0(Q4),t3=e=>{const{__scopeTooltip:t,delayDuration:n=ND,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,a=R.useRef(!0),o=R.useRef(!1),l=R.useRef(0);return R.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),x.jsx(TD,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:R.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:R.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:R.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};t3.displayName=Q4;var n3="Tooltip",[GZ,y0]=v0(n3),tw="TooltipTrigger",PD=R.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=y0(tw,n),s=e3(tw,n),a=u2(n),o=R.useRef(null),l=Xt(t,o,i.onTriggerChange),c=R.useRef(!1),u=R.useRef(!1),f=R.useCallback(()=>c.current=!1,[]);return R.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),x.jsx(Af,{asChild:!0,...a,children:x.jsx(At.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ke(e.onPointerMove,g=>{g.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ke(e.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ke(e.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ke(e.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ke(e.onBlur,i.onClose),onClick:Ke(e.onClick,i.onClose)})})});PD.displayName=tw;var RD="TooltipPortal",[YZ,LD]=v0(RD,{forceMount:void 0}),Ru="TooltipContent",r3=R.forwardRef((e,t)=>{const n=LD(Ru,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=y0(Ru,e.__scopeTooltip);return x.jsx(ji,{present:r||a.open,children:a.disableHoverableContent?x.jsx(i3,{side:i,...s,ref:t}):x.jsx(ID,{side:i,...s,ref:t})})}),ID=R.forwardRef((e,t)=>{const n=y0(Ru,e.__scopeTooltip),r=e3(Ru,e.__scopeTooltip),i=R.useRef(null),s=Xt(t,i),[a,o]=R.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,g=R.useCallback(()=>{o(null),f(!1)},[f]),d=R.useCallback((m,v)=>{const h=m.currentTarget,p={x:m.clientX,y:m.clientY},y=FD(p,h.getBoundingClientRect()),b=BD(p,y),k=UD(v.getBoundingClientRect()),L=zD([...b,...k]);o(L),f(!0)},[f]);return R.useEffect(()=>()=>g(),[g]),R.useEffect(()=>{if(l&&u){const m=h=>d(h,u),v=h=>d(h,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",v)}}},[l,u,d,g]),R.useEffect(()=>{if(a){const m=v=>{const h=v.target,p={x:v.clientX,y:v.clientY},y=l?.contains(h)||u?.contains(h),b=!$D(p,a);y?g():b&&(g(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,a,c,g]),x.jsx(i3,{...e,ref:s})}),[MD,OD]=v0(n3,{isInside:!1}),jD=TM("TooltipContent"),i3=R.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,l=y0(Ru,n),c=u2(n),{onClose:u}=l;return R.useEffect(()=>(document.addEventListener(N_,u),()=>document.removeEventListener(N_,u)),[u]),R.useEffect(()=>{if(l.trigger){const f=g=>{g.target?.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),x.jsx(lc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:x.jsxs(m0,{"data-state":l.stateAttribute,...c,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[x.jsx(jD,{children:r}),x.jsx(MD,{scope:n,isInside:!0,children:x.jsx(ZM,{id:l.contentId,role:"tooltip",children:i||r})})]})})});r3.displayName=Ru;var s3="TooltipArrow",DD=R.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=u2(n);return OD(s3,n).isInside?null:x.jsx(g0,{...i,...r,ref:t})});DD.displayName=s3;function FD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function BD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function UD(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function $D(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s],l=t[a],c=o.x,u=o.y,f=l.x,g=l.y;u>r!=g>r&&n<(f-c)*(r-u)/(g-u)+c&&(i=!i)}return i}function zD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),qD(t)}function qD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var HD=t3,a3=r3;const WD=HD,VD=R.forwardRef(({className:e,sideOffset:t=4,...n},r)=>x.jsx(a3,{ref:r,sideOffset:t,className:$t("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));VD.displayName=a3.displayName;var w0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},b0=typeof window>"u"||"Deno"in globalThis;function ms(){}function GD(e,t){return typeof e=="function"?e(t):e}function YD(e){return typeof e=="number"&&e>=0&&e!==1/0}function KD(e,t){return Math.max(e+(t||0)-Date.now(),0)}function nw(e,t){return typeof e=="function"?e(t):e}function XD(e,t){return typeof e=="function"?e(t):e}function T_(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==d2(a,t.options))return!1}else if(!zh(t.queryKey,a))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function P_(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if($h(t.options.mutationKey)!==$h(s))return!1}else if(!zh(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function d2(e,t){return(t?.queryKeyHashFn||$h)(e)}function $h(e){return JSON.stringify(e,(t,n)=>rw(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function zh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>zh(e[n],t[n])):!1}function o3(e,t){if(e===t)return e;const n=R_(e)&&R_(t);if(n||rw(e)&&rw(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<a;u++){const f=n?u:s[u];(!n&&l.has(f)||n)&&e[f]===void 0&&t[f]===void 0?(o[f]=void 0,c++):(o[f]=o3(e[f],t[f]),o[f]===e[f]&&e[f]!==void 0&&c++)}return i===a&&c===i?e:o}return t}function R_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function rw(e){if(!L_(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!L_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function L_(e){return Object.prototype.toString.call(e)==="[object Object]"}function ZD(e){return new Promise(t=>{setTimeout(t,e)})}function JD(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?o3(e,t):t}function QD(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function eF(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var h2=Symbol();function l3(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===h2?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var tF=class extends w0{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!b0&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},c3=new tF,nF=class extends w0{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!b0&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},gg=new nF;function rF(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function iF(e){return Math.min(1e3*2**e,3e4)}function u3(e){return(e??"online")==="online"?gg.isOnline():!0}var d3=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Qv(e){return e instanceof d3}function h3(e){let t=!1,n=0,r=!1,i;const s=rF(),a=v=>{r||(g(new d3(v)),e.abort?.())},o=()=>{t=!0},l=()=>{t=!1},c=()=>c3.isFocused()&&(e.networkMode==="always"||gg.isOnline())&&e.canRun(),u=()=>u3(e.networkMode)&&e.canRun(),f=v=>{r||(r=!0,e.onSuccess?.(v),i?.(),s.resolve(v))},g=v=>{r||(r=!0,e.onError?.(v),i?.(),s.reject(v))},d=()=>new Promise(v=>{i=h=>{(r||c())&&v(h)},e.onPause?.()}).then(()=>{i=void 0,r||e.onContinue?.()}),m=()=>{if(r)return;let v;const h=n===0?e.initialPromise:void 0;try{v=h??e.fn()}catch(p){v=Promise.reject(p)}Promise.resolve(v).then(f).catch(p=>{if(r)return;const y=e.retry??(b0?0:3),b=e.retryDelay??iF,k=typeof b=="function"?b(n,p):b,L=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,p);if(t||!L){g(p);return}n++,e.onFail?.(n,p),ZD(k).then(()=>c()?void 0:d()).then(()=>{t?g(p):m()})})};return{promise:s,cancel:a,continue:()=>(i?.(),s),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?m():d().then(m),s)}}var sF=e=>setTimeout(e,0);function aF(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=sF;const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;t++;try{l=o()}finally{t--,t||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var Yr=aF(),f3=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YD(this.gcTime)&&(this.#e=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(b0?1/0:5*60*1e3))}clearGcTimeout(){this.#e&&(clearTimeout(this.#e),this.#e=void 0)}},oF=class extends f3{#e;#t;#n;#r;#i;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#r=e.client,this.#n=this.#r.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=cF(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=JD(this.state.data,e,this.options);return this.#a({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(ms).catch(ms):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>XD(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===h2||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>nw(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!KD(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}fetch(e,t){if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const n=new AbortController,r=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},i=()=>{const l=l3(this.options,t),u=(()=>{const f={client:this.#r,queryKey:this.queryKey,meta:this.meta};return r(f),f})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},a=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#r,state:this.state,fetchFn:i};return r(l),l})();this.options.behavior?.onFetch(a,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==a.fetchOptions?.meta)&&this.#a({type:"fetch",meta:a.fetchOptions?.meta});const o=l=>{Qv(l)&&l.silent||this.#a({type:"error",error:l}),Qv(l)||(this.#n.config.onError?.(l,this),this.#n.config.onSettled?.(this.state.data,l,this)),this.scheduleGc()};return this.#i=h3({initialPromise:t?.initialPromise,fn:a.fetchFn,abort:n.abort.bind(n),onSuccess:l=>{if(l===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(l)}catch(c){o(c);return}this.#n.config.onSuccess?.(l,this),this.#n.config.onSettled?.(l,this.state.error,this),this.scheduleGc()},onError:o,onFail:(l,c)=>{this.#a({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}),this.#i.start()}#a(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...lF(n.data,this.options),fetchMeta:e.meta??null};case"success":return this.#t=void 0,{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return Qv(r)&&r.revert&&this.#t?{...this.#t,fetchStatus:"idle"}:{...n,error:r,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Yr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function lF(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:u3(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cF(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var uF=class extends w0{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,i=t.queryHash??d2(r,t);let s=this.get(i);return s||(s=new oF({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(s)),s}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Yr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>T_(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>T_(e,n)):t}notify(e){Yr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Yr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Yr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},dF=class extends f3{#e;#t;#n;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||hF(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||(this.state.status==="pending"?this.scheduleGc():this.#t.remove(this))}continue(){return this.#n?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})};this.#n=h3({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#r({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});const n=this.state.status==="pending",r=!this.#n.canStart();try{if(n)t();else{this.#r({type:"pending",variables:e,isPaused:r}),await this.#t.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#r({type:"pending",context:s,variables:e,isPaused:r})}const i=await this.#n.start();return await this.#t.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#t.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#t.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#t.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#r({type:"error",error:i})}}finally{this.#t.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Yr.batch(()=>{this.#e.forEach(n=>{n.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function hF(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fF=class extends w0{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new dF({mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=Vp(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Vp(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Vp(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(i=>i.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=Vp(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Yr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>P_(t,n))}findAll(e={}){return this.getAll().filter(t=>P_(e,t))}notify(e){Yr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Yr.batch(()=>Promise.all(e.map(t=>t.continue().catch(ms))))}};function Vp(e){return e.options.scope?.id}function I_(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let u=!1;const f=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},g=l3(t.options,t.fetchOptions),d=async(m,v,h)=>{if(u)return Promise.reject();if(v==null&&m.pages.length)return Promise.resolve(m);const y=(()=>{const j={client:t.client,queryKey:t.queryKey,pageParam:v,direction:h?"backward":"forward",meta:t.options.meta};return f(j),j})(),b=await g(y),{maxPages:k}=t.options,L=h?eF:QD;return{pages:L(m.pages,b,k),pageParams:L(m.pageParams,v,k)}};if(i&&s.length){const m=i==="backward",v=m?pF:M_,h={pages:s,pageParams:a},p=v(r,h);o=await d(h,p,m)}else{const m=e??s.length;do{const v=l===0?a[0]??r.initialPageParam:M_(r,o);if(l>0&&v==null)break;o=await d(o,v),l++}while(l<m)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function M_(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function pF(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var mF=class{#e;#t;#n;#r;#i;#s;#o;#a;constructor(e={}){this.#e=e.queryCache||new uF,this.#t=e.mutationCache||new fF,this.#n=e.defaultOptions||{},this.#r=new Map,this.#i=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=c3.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=gg.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(nw(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=this.#e.get(r.queryHash)?.state.data,a=GD(t,s);if(a!==void 0)return this.#e.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return Yr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;Yr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return Yr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=Yr.batch(()=>this.#e.findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(ms).catch(ms)}invalidateQueries(e,t={}){return Yr.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=Yr.batch(()=>this.#e.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ms)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ms)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(nw(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ms).catch(ms)}fetchInfiniteQuery(e){return e.behavior=I_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ms).catch(ms)}ensureInfiniteQueryData(e){return e.behavior=I_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return gg.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#r.set($h(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{zh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#i.set($h(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],n={};return t.forEach(r=>{zh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=d2(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===h2&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},gF=R.createContext(void 0),vF=({client:e,children:t})=>(R.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),x.jsx(gF.Provider,{value:e,children:t}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qh(){return qh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qh.apply(this,arguments)}var Co;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Co||(Co={}));const O_="popstate";function yF(e){e===void 0&&(e={});function t(r,i){let{pathname:s,search:a,hash:o}=r.location;return iw("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:m3(i)}return bF(t,n,null,e)}function nr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function p3(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function wF(){return Math.random().toString(36).substr(2,8)}function j_(e,t){return{usr:e.state,key:e.key,idx:t}}function iw(e,t,n,r){return n===void 0&&(n=null),qh({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zu(t):t,{state:n,key:t&&t.key||r||wF()})}function m3(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function bF(e,t,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Co.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(qh({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function f(){o=Co.Pop;let h=u(),p=h==null?null:h-c;c=h,l&&l({action:o,location:v.location,delta:p})}function g(h,p){o=Co.Push;let y=iw(v.location,h,p);c=u()+1;let b=j_(y,c),k=v.createHref(y);try{a.pushState(b,"",k)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(k)}s&&l&&l({action:o,location:v.location,delta:1})}function d(h,p){o=Co.Replace;let y=iw(v.location,h,p);c=u();let b=j_(y,c),k=v.createHref(y);a.replaceState(b,"",k),s&&l&&l({action:o,location:v.location,delta:0})}function m(h){let p=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof h=="string"?h:m3(h);return y=y.replace(/ $/,"%20"),nr(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let v={get action(){return o},get location(){return e(i,a)},listen(h){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(O_,f),l=h,()=>{i.removeEventListener(O_,f),l=null}},createHref(h){return t(i,h)},createURL:m,encodeLocation(h){let p=m(h);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:g,replace:d,go(h){return a.go(h)}};return v}var D_;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(D_||(D_={}));function xF(e,t,n){return n===void 0&&(n="/"),_F(e,t,n,!1)}function _F(e,t,n,r){let i=typeof t=="string"?Zu(t):t,s=y3(i.pathname||"/",n);if(s==null)return null;let a=g3(e);SF(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=MF(s);o=LF(a[l],c,r)}return o}function g3(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(nr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=zl([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(nr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),g3(s.children,t,u,c)),!(s.path==null&&!s.index)&&t.push({path:c,score:PF(c,s.index),routesMeta:u})};return e.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of v3(s.path))i(s,a,l)}),t}function v3(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=v3(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function SF(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:RF(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AF=/^:[\w-]+$/,kF=3,CF=2,EF=1,NF=10,TF=-2,F_=e=>e==="*";function PF(e,t){let n=e.split("/"),r=n.length;return n.some(F_)&&(r+=TF),t&&(r+=CF),n.filter(i=>!F_(i)).reduce((i,s)=>i+(AF.test(s)?kF:s===""?EF:NF),r)}function RF(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function LF(e,t,n){let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?t:t.slice(s.length)||"/",f=B_({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),g=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=B_({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:zl([s,f.pathname]),pathnameBase:FF(zl([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=zl([s,f.pathnameBase]))}return a}function B_(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=IF(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:g,isOptional:d}=u;if(g==="*"){let v=o[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const m=o[f];return d&&!m?c[g]=void 0:c[g]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:e}}function IF(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),p3(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function MF(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return p3(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function y3(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function OF(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Zu(e):e;return{pathname:n?n.startsWith("/")?n:jF(n,t):t,search:BF(r),hash:UF(i)}}function jF(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function e1(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function DF(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function w3(e,t){let n=DF(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b3(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=Zu(e):(i=qh({},e),nr(!i.pathname||!i.pathname.includes("?"),e1("?","pathname","search",i)),nr(!i.pathname||!i.pathname.includes("#"),e1("#","pathname","hash",i)),nr(!i.search||!i.search.includes("#"),e1("#","search","hash",i)));let s=e===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=t.length-1;if(!r&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}o=f>=0?t[f]:"/"}let l=OF(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const zl=e=>e.join("/").replace(/\/\/+/g,"/"),FF=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),BF=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,UF=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $F(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const x3=["post","put","patch","delete"];new Set(x3);const zF=["get",...x3];new Set(zF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hh(){return Hh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hh.apply(this,arguments)}const f2=R.createContext(null),qF=R.createContext(null),kf=R.createContext(null),x0=R.createContext(null),cc=R.createContext({outlet:null,matches:[],isDataRoute:!1}),_3=R.createContext(null);function Cf(){return R.useContext(x0)!=null}function _0(){return Cf()||nr(!1),R.useContext(x0).location}function S3(e){R.useContext(kf).static||R.useLayoutEffect(e)}function A3(){let{isDataRoute:e}=R.useContext(cc);return e?n7():HF()}function HF(){Cf()||nr(!1);let e=R.useContext(f2),{basename:t,future:n,navigator:r}=R.useContext(kf),{matches:i}=R.useContext(cc),{pathname:s}=_0(),a=JSON.stringify(w3(i,n.v7_relativeSplatPath)),o=R.useRef(!1);return S3(()=>{o.current=!0}),R.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=b3(c,JSON.parse(a),s,u.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:zl([t,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[t,r,a,s,e])}function WF(e,t){return VF(e,t)}function VF(e,t,n,r){Cf()||nr(!1);let{navigator:i}=R.useContext(kf),{matches:s}=R.useContext(cc),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=_0(),u;if(t){var f;let h=typeof t=="string"?Zu(t):t;l==="/"||(f=h.pathname)!=null&&f.startsWith(l)||nr(!1),u=h}else u=c;let g=u.pathname||"/",d=g;if(l!=="/"){let h=l.replace(/^\//,"").split("/");d="/"+g.replace(/^\//,"").split("/").slice(h.length).join("/")}let m=xF(e,{pathname:d}),v=ZF(m&&m.map(h=>Object.assign({},h,{params:Object.assign({},o,h.params),pathname:zl([l,i.encodeLocation?i.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?l:zl([l,i.encodeLocation?i.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),s,n,r);return t&&v?R.createElement(x0.Provider,{value:{location:Hh({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Co.Pop}},v):v}function GF(){let e=t7(),t=$F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:i},n):null,null)}const YF=R.createElement(GF,null);class KF extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(cc.Provider,{value:this.props.routeContext},R.createElement(_3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XF(e){let{routeContext:t,match:n,children:r}=e,i=R.useContext(f2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(cc.Provider,{value:t},r)}function ZF(e,t,n,r){var i;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var s;if(!n)return null;if(n.errors)e=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);u>=0||nr(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:g,errors:d}=n,m=f.route.loader&&g[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,f,g)=>{let d,m=!1,v=null,h=null;n&&(d=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||YF,l&&(c<0&&g===0?(m=!0,h=null):c===g&&(m=!0,h=f.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,g+1)),y=()=>{let b;return d?b=v:m?b=h:f.route.Component?b=R.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=u,R.createElement(XF,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?R.createElement(KF,{location:n.location,revalidation:n.revalidation,component:v,error:d,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var k3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(k3||{}),vg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vg||{});function JF(e){let t=R.useContext(f2);return t||nr(!1),t}function QF(e){let t=R.useContext(qF);return t||nr(!1),t}function e7(e){let t=R.useContext(cc);return t||nr(!1),t}function C3(e){let t=e7(),n=t.matches[t.matches.length-1];return n.route.id||nr(!1),n.route.id}function t7(){var e;let t=R.useContext(_3),n=QF(vg.UseRouteError),r=C3(vg.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function n7(){let{router:e}=JF(k3.UseNavigateStable),t=C3(vg.UseNavigateStable),n=R.useRef(!1);return S3(()=>{n.current=!0}),R.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Hh({fromRouteId:t},s)))},[e,t])}function r7(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function i7(e){let{to:t,replace:n,state:r,relative:i}=e;Cf()||nr(!1);let{future:s,static:a}=R.useContext(kf),{matches:o}=R.useContext(cc),{pathname:l}=_0(),c=A3(),u=b3(t,w3(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return R.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Tm(e){nr(!1)}function s7(e){let{basename:t="/",children:n=null,location:r,navigationType:i=Co.Pop,navigator:s,static:a=!1,future:o}=e;Cf()&&nr(!1);let l=t.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:l,navigator:s,static:a,future:Hh({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=Zu(r));let{pathname:u="/",search:f="",hash:g="",state:d=null,key:m="default"}=r,v=R.useMemo(()=>{let h=y3(u,l);return h==null?null:{location:{pathname:h,search:f,hash:g,state:d,key:m},navigationType:i}},[l,u,f,g,d,m,i]);return v==null?null:R.createElement(kf.Provider,{value:c},R.createElement(x0.Provider,{children:n,value:v}))}function a7(e){let{children:t,location:n}=e;return WF(sw(t),n)}new Promise(()=>{});function sw(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,i)=>{if(!R.isValidElement(r))return;let s=[...t,i];if(r.type===R.Fragment){n.push.apply(n,sw(r.props.children,s));return}r.type!==Tm&&nr(!1),!r.props.index||!r.props.children||nr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=sw(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const o7="6";try{window.__reactRouterVersion=o7}catch{}const l7="startTransition",U_=tb[l7];function c7(e){let{basename:t,children:n,future:r,window:i}=e,s=R.useRef();s.current==null&&(s.current=yF({window:i,v5Compat:!0}));let a=s.current,[o,l]=R.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=R.useCallback(f=>{c&&U_?U_(()=>l(f)):l(f)},[l,c]);return R.useLayoutEffect(()=>a.listen(u),[a,u]),R.useEffect(()=>r7(r),[r]),R.createElement(s7,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var $_;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($_||($_={}));var z_;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(z_||(z_={}));var Gs=function(){return Gs=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Gs.apply(this,arguments)};function Ju(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function u7(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(f){a(f)}}function l(u){try{c(r.throw(u))}catch(f){a(f)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(e,t||[])).next())})}function d7(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}const h7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class p2 extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class f7 extends p2{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class q_ extends p2{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class H_ extends p2{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var aw;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(aw||(aw={}));class p7{constructor(t,{headers:n={},customFetch:r,region:i=aw.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=h7(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return u7(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:u,timeout:f}=r;let g={},{region:d}=r;d||(d=this.region);const m=new URL(`${this.url}/${n}`);d&&d!=="any"&&(g["x-region"]=d,m.searchParams.set("forceFunctionRegion",d));let v;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",v=c):typeof c=="string"?(g["Content-Type"]="text/plain",v=c):typeof FormData<"u"&&c instanceof FormData?v=c:(g["Content-Type"]="application/json",v=JSON.stringify(c)):c&&typeof c!="string"&&!(typeof Blob<"u"&&c instanceof Blob)&&!(c instanceof ArrayBuffer)&&!(typeof FormData<"u"&&c instanceof FormData)?v=JSON.stringify(c):v=c;let h=u;f&&(a=new AbortController,s=setTimeout(()=>a.abort(),f),u?(h=a.signal,u.addEventListener("abort",()=>a.abort())):h=a.signal);const p=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:v,signal:h}).catch(L=>{throw new f7(L)}),y=p.headers.get("x-relay-error");if(y&&y==="true")throw new q_(p);if(!p.ok)throw new H_(p);let b=((i=p.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),k;return b==="application/json"?k=yield p.json():b==="application/octet-stream"||b==="application/pdf"?k=yield p.blob():b==="text/event-stream"?k=p:b==="multipart/form-data"?k=yield p.formData():k=yield p.text(),{data:k,error:null,response:p}}catch(o){return{data:null,error:o,response:o instanceof H_||o instanceof q_?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var m7=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},g7=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,c=s.status,u=s.statusText;if(s.ok){var f,g;if(n.method!=="HEAD"){var d;const p=await s.text();p===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((d=n.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?o=p:o=JSON.parse(p))}const v=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),h=(g=s.headers.get("content-range"))===null||g===void 0?void 0:g.split("/");v&&h&&h.length>1&&(l=parseInt(h[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,u="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var m;const v=await s.text();try{a=JSON.parse(v),Array.isArray(a)&&s.status===404&&(o=[],a=null,c=200,u="OK")}catch{s.status===404&&v===""?(c=204,u="No Content"):a={message:v}}if(a&&n.isMaybeSingle&&(!(a==null||(m=a.details)===null||m===void 0)&&m.includes("0 rows"))&&(a=null,c=200,u="OK"),a&&n.shouldThrowOnError)throw new m7(a)}return{error:a,data:o,count:l,status:c,statusText:u}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="";const l=s?.cause;if(l){var c,u,f,g;const m=(c=l?.message)!==null&&c!==void 0?c:"",v=(u=l?.code)!==null&&u!==void 0?u:"";o=`${(f=s?.name)!==null&&f!==void 0?f:"FetchError"}: ${s?.message}`,o+=`

Caused by: ${(g=l?.name)!==null&&g!==void 0?g:"Error"}: ${m}`,v&&(o+=` (${v})`),l?.stack&&(o+=`
${l.stack}`)}else{var d;o=(d=s?.stack)!==null&&d!==void 0?d:""}return{error:{message:`${(a=s?.name)!==null&&a!==void 0?a:"FetchError"}: ${s?.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},v7=class extends g7{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const W_=new RegExp("[,()]");var zc=class extends v7{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&W_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&W_.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},y7=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(c=>/\s/.test(c)&&!s?"":(c==='"'&&(s=!s),c)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new zc({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const i="POST",{url:s,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);s.searchParams.set("columns",l.join(","))}}return new zc({method:i,url:s,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);o.searchParams.set("columns",u.join(","))}}return new zc({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new zc({method:r,url:i,headers:s,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new zc({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},w7=class E3{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new y7(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new E3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let c;const u=d=>d!==null&&typeof d=="object"&&(!Array.isArray(d)||d.some(u)),f=r&&Object.values(n).some(u);f?(o="POST",c=n):r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{l.searchParams.append(d,m)})):(o="POST",c=n);const g=new Headers(this.headers);return f?g.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&g.set("Prefer",`count=${s}`),new zc({method:o,url:l,headers:g,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class b7{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const x7="2.93.2",_7=`realtime-js/${x7}`,S7="1.0.0",N3="2.0.0",V_=N3,ow=1e4,A7=1e3,k7=100;var yo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(yo||(yo={}));var cr;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(cr||(cr={}));var vs;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(vs||(vs={}));var lw;(function(e){e.websocket="websocket"})(lw||(lw={}));var Pl;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Pl||(Pl={}));class C7{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;const i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,s;const a=t.topic,o=(i=t.ref)!==null&&i!==void 0?i:"",l=(s=t.join_ref)!==null&&s!==void 0?s:"",c=t.payload.event,u=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(u).length===0?"":JSON.stringify(u);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+f.length,d=new ArrayBuffer(this.HEADER_LENGTH+g);let m=new DataView(d),v=0;m.setUint8(v++,this.KINDS.userBroadcastPush),m.setUint8(v++,l.length),m.setUint8(v++,o.length),m.setUint8(v++,a.length),m.setUint8(v++,c.length),m.setUint8(v++,f.length),m.setUint8(v++,n),Array.from(l,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(o,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(a,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(c,p=>m.setUint8(v++,p.charCodeAt(0))),Array.from(f,p=>m.setUint8(v++,p.charCodeAt(0)));var h=new Uint8Array(d.byteLength+r.byteLength);return h.set(new Uint8Array(d),0),h.set(new Uint8Array(r),d.byteLength),h.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[i,s,a,o,l]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,i)}}_decodeUserBroadcast(t,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(t.slice(l,l+i));l=l+i;const u=r.decode(t.slice(l,l+s));l=l+s;const f=r.decode(t.slice(l,l+a));l=l+a;const g=t.slice(l,t.byteLength),d=o===this.JSON_ENCODING?JSON.parse(r.decode(g)):g,m={type:this.BROADCAST_EVENT,event:u,payload:d};return a>0&&(m.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class T3{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var bn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(bn||(bn={}));const G_=(e,t,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((s,a)=>(s[a]=E7(a,e,t,i),s),{}):{}},E7=(e,t,n,r)=>{const i=t.find(o=>o.name===e),s=i?.type,a=n[e];return s&&!r.includes(s)?P3(s,a):cw(a)},P3=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return R7(t,n)}switch(e){case bn.bool:return N7(t);case bn.float4:case bn.float8:case bn.int2:case bn.int4:case bn.int8:case bn.numeric:case bn.oid:return T7(t);case bn.json:case bn.jsonb:return P7(t);case bn.timestamp:return L7(t);case bn.abstime:case bn.date:case bn.daterange:case bn.int4range:case bn.int8range:case bn.money:case bn.reltime:case bn.text:case bn.time:case bn.timestamptz:case bn.timetz:case bn.tsrange:case bn.tstzrange:return cw(t);default:return cw(t)}},cw=e=>e,N7=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},T7=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},P7=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},R7=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let s;const a=e.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>P3(t,o))}return e},L7=e=>typeof e=="string"?e.replace(" ","T"):e,R3=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class t1{constructor(t,n,r={},i=ow){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Y_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Y_||(Y_={}));class mh{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mh.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=mh.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=mh.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){const s=this.cloneDeep(t),a=this.transformState(n),o={},l={};return this.map(s,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const f=s[c];if(f){const g=u.map(h=>h.presence_ref),d=f.map(h=>h.presence_ref),m=u.filter(h=>d.indexOf(h.presence_ref)<0),v=f.filter(h=>g.indexOf(h.presence_ref)<0);m.length>0&&(o[c]=m),v.length>0&&(l[c]=v)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(t,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=t[o])!==null&&c!==void 0?c:[];if(t[o]=this.cloneDeep(l),u.length>0){const f=t[o].map(d=>d.presence_ref),g=u.filter(d=>f.indexOf(d.presence_ref)<0);t[o].unshift(...g)}r(o,u,l)}),this.map(a,(o,l)=>{let c=t[o];if(!c)return;const u=l.map(f=>f.presence_ref);c=c.filter(f=>u.indexOf(f.presence_ref)<0),t[o]=c,i(o,c,l),c.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const i=t[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var K_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(K_||(K_={}));var gh;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(gh||(gh={}));var Pa;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Pa||(Pa={}));class au{constructor(t,n={config:{}},r){var i,s;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=cr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new t1(this,vs.join,this.params,this.timeout),this.rejoinTimer=new T3(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=cr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=cr.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=cr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(vs.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new mh(this),this.broadcastEndpointURL=R3(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==cr.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[gh.PRESENCE]&&this.bindings[gh.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>t?.(Pa.CHANNEL_ERROR,d)),this._onClose(()=>t?.(Pa.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var m;if(this.socket._isManualToken()||this.socket.setAuth(),d===void 0){t?.(Pa.SUBSCRIBED);return}else{const v=this.bindings.postgres_changes,h=(m=v?.length)!==null&&m!==void 0?m:0,p=[];for(let y=0;y<h;y++){const b=v[y],{filter:{event:k,schema:L,table:j,filter:D}}=b,q=d&&d[y];if(q&&q.event===k&&au.isFilterValueEqual(q.schema,L)&&au.isFilterValueEqual(q.table,j)&&au.isFilterValueEqual(q.filter,D))p.push(Object.assign(Object.assign({},b),{id:q.id}));else{this.unsubscribe(),this.state=cr.errored,t?.(Pa.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(Pa.SUBSCRIBED);return}}).receive("error",d=>{this.state=cr.errored,t?.(Pa.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t?.(Pa.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===cr.joined&&t===gh.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=cr.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(vs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new t1(this,vs.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=cr.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new t1(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>k7){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,s;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=vs;if(r&&[o,l,c,u].indexOf(a)>=0&&r!==this._joinRef())return;let g=this._onMessage(a,n,r);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(d=>{var m,v,h;return((m=d.filter)===null||m===void 0?void 0:m.event)==="*"||((h=(v=d.filter)===null||v===void 0?void 0:v.event)===null||h===void 0?void 0:h.toLocaleLowerCase())===a}).map(d=>d.callback(g,r)):(s=this.bindings[a])===null||s===void 0||s.filter(d=>{var m,v,h,p,y,b;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in d){const k=d.id,L=(m=d.filter)===null||m===void 0?void 0:m.event;return k&&((v=n.ids)===null||v===void 0?void 0:v.includes(k))&&(L==="*"||L?.toLocaleLowerCase()===((h=n.data)===null||h===void 0?void 0:h.type.toLocaleLowerCase()))}else{const k=(y=(p=d?.filter)===null||p===void 0?void 0:p.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return k==="*"||k===((b=n?.event)===null||b===void 0?void 0:b.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===a}).map(d=>{if(typeof g=="object"&&"ids"in g){const m=g.data,{schema:v,table:h,commit_timestamp:p,type:y,errors:b}=m;g=Object.assign(Object.assign({},{schema:v,table:h,commit_timestamp:p,eventType:y,new:{},old:{},errors:b}),this._getPayloadRecords(m))}d.callback(g,r)})}_isClosed(){return this.state===cr.closed}_isJoined(){return this.state===cr.joined}_isJoining(){return this.state===cr.joining}_isLeaving(){return this.state===cr.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const i=t.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&au.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(vs.close,{},t)}_onError(t){this._on(vs.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=cr.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=G_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=G_(t.columns,t.old_record)),n}}const n1=()=>{},Gp={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},I7=[1e3,2e3,5e3,1e4],M7=1e4,O7=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class j7{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=ow,this.transport=null,this.heartbeatIntervalMs=Gp.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=n1,this.ref=0,this.reconnectTimer=null,this.vsn=V_,this.logger=n1,this.conn=null,this.sendBuffer=[],this.serializer=new C7,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${lw.websocket}`,this.httpEndpoint=R3(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=b7.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yo.connecting:return Pl.Connecting;case yo.open:return Pl.Open;case yo.closing:return Pl.Closing;default:return Pl.Closed}}isConnected(){return this.connectionState()===Pl.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new au(`realtime:${t}`,n,this);return this.channels.push(s),s}}push(t){const{topic:n,event:r,payload:i,ref:s}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(A7,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Gp.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const c=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",c)}catch(u){this.log("error","error in heartbeat callback",u)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===yo.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===yo.open||this.conn.readyState===yo.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(vs.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([O7],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:_7};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(vs.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new T3(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Gp.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,s,a,o,l,c,u,f,g,d;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:ow,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:Gp.HEARTBEAT_INTERVAL,this.worker=(s=t?.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t?.heartbeatCallback)!==null&&o!==void 0?o:n1,this.vsn=(l=t?.vsn)!==null&&l!==void 0?l:V_,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t?.reconnectAfterMs)!==null&&c!==void 0?c:m=>I7[m-1]||M7,this.vsn){case S7:this.encode=(u=t?.encode)!==null&&u!==void 0?u:(m,v)=>v(JSON.stringify(m)),this.decode=(f=t?.decode)!==null&&f!==void 0?f:(m,v)=>v(JSON.parse(m));break;case N3:this.encode=(g=t?.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(d=t?.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Wh=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function D7(e,t,n){const r=new URL(t,e);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function F7(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function B7(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const o=D7(e.baseUrl,r,i),l=await F7(e.auth),c=await t(o,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),u=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),g=f&&u?JSON.parse(u):u;if(!c.ok){const d=f?g:void 0,m=d?.error;throw new Wh(m?.message??`Request failed with status ${c.status}`,{status:c.status,icebergType:m?.type,icebergCode:m?.code,details:d})}return{status:c.status,headers:c.headers,data:g}}}}function Yp(e){return e.join("")}var U7=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Yp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Yp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Yp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Yp(e.namespace)}`}),!0}catch(t){if(t instanceof Wh&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Wh&&n.status===409)return;throw n}}};function Nc(e){return e.join("")}var $7=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nc(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nc(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Nc(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Nc(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Nc(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Nc(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Wh&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Wh&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},z7=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=B7({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new U7(this.client,t),this.tableOps=new $7(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},S0=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function A0(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Kp=class extends S0{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},L3=class extends S0{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const q7=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),H7=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},uw=e=>{if(Array.isArray(e))return e.map(n=>uw(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=uw(r)}),t},W7=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function V7(e,t){if(Vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function G7(e){var t=V7(e,"string");return Vh(t)=="symbol"?t:t+""}function Y7(e,t,n){return(t=G7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function St(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(n),!0).forEach(function(r){Y7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const Z_=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},K7=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(a=>{const o=a?.statusCode||a?.code||s+"";t(new Kp(Z_(a),s,o,r))}).catch(()=>{if(r==="vectors"){const a=s+"";t(new Kp(i.statusText||`HTTP ${s} error`,s,a,r))}else{const a=s+"";t(new Kp(i.statusText||`HTTP ${s} error`,s,a,r))}});else{const a=s+"";t(new Kp(i.statusText||`HTTP ${s} error`,s,a,r))}}else t(new L3(Z_(e),e,r))},X7=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||e==="HEAD"||!r?St(St({},i),n):(H7(r)?(i.headers=St({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),St(St({},i),n))};async function zd(e,t,n,r,i,s,a){return new Promise((o,l)=>{e(n,X7(t,r,i,s)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;if(a==="vectors"){const u=c.headers.get("content-type");if(!u||!u.includes("application/json"))return{}}return c.json()}).then(c=>o(c)).catch(c=>K7(c,l,r,a))})}function Z7(e="storage"){return{get:async(t,n,r,i)=>zd(t,"GET",n,r,i,void 0,e),post:async(t,n,r,i,s)=>zd(t,"POST",n,i,s,r,e),put:async(t,n,r,i,s)=>zd(t,"PUT",n,i,s,r,e),head:async(t,n,r,i)=>zd(t,"HEAD",n,St(St({},r),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,n,r,i,s)=>zd(t,"DELETE",n,i,s,r,e)}}const J7=Z7("storage"),{get:Gh,post:Rn,put:dw,head:Q7,remove:m2}=J7;var Qu=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=q7(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(A0(n))return{data:null,error:n};throw n}}},e9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(A0(t))return{data:null,error:t};throw t}}};let I3;I3=Symbol.toStringTag;var t9=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[I3]="BlobDownloadBuilder",this.promise=null}asStream(){return new e9(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(A0(t))return{data:null,error:t};throw t}}};const n9={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},J_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var r9=class extends Qu{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var i=this;return i.handleOperation(async()=>{let s;const a=St(St({},J_),r);let o=St(St({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r?.headers&&(o=St(St({},o),r.headers));const c=i._removeEmptyFolders(t),u=i._getFinalPath(c),f=await(e=="PUT"?dw:Rn)(i.fetch,`${i.url}/object/${u}`,s,St({headers:o},a?.duplex?{duplex:a.duplex}:{}));return{path:c,id:f.Id,fullPath:f.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;const s=i._removeEmptyFolders(e),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),i.handleOperation(async()=>{let l;const c=St({upsert:J_.upsert},r),u=St(St({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType),{path:s,fullPath:(await dw(i.fetch,o.toString(),l,{headers:u})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const i=St({},n.headers);t?.upsert&&(i["x-upsert"]="true");const s=await Rn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+s.url),o=a.searchParams.get("token");if(!o)throw new S0("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await Rn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await Rn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let i=r._getFinalPath(e),s=await Rn(r.fetch,`${r.url}/object/sign/${i}`,St({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const i=await Rn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return i.map(a=>St(St({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null}))})}download(e,t){const n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",s=this._getFinalPath(e),a=()=>Gh(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new t9(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>uw(await Gh(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Q7(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(A0(r)&&r instanceof L3){const i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);const s=typeof t?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(t?.transform||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await m2(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const i=St(St(St({},n9),t),{},{prefix:e||""});return await Rn(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=St({},e);return await Rn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const i9="2.93.2",Ef={"X-Client-Info":`storage-js/${i9}`};var s9=class extends Qu{constructor(e,t={},n,r){const i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),a=St(St({},Ef),t);super(s,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Gh(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Gh(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await Rn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await dw(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await m2(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},a9=class extends Qu{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=St(St({},Ef),t);super(r,i,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);const r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Gh(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await m2(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!W7(e))throw new S0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new z7({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},o9=class extends Qu{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=St(St({},Ef),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await Rn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await Rn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},l9=class extends Qu{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=St(St({},Ef),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},c9=class extends Qu{constructor(e,t={},n){const r=e.replace(/\/$/,""),i=St(St({},Ef),{},{"Content-Type":"application/json"},t);super(r,i,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Rn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},u9=class extends c9{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new d9(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},d9=class extends o9{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new h9(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},h9=class extends l9{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,St(St({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},f9=class extends s9{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new r9(this.url,this.headers,e,this.fetch)}get vectors(){return new u9(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new a9(this.url+"/iceberg",this.headers,this.fetch)}};const M3="2.93.2",qc=30*1e3,hw=3,r1=hw*qc,p9="http://localhost:9999",m9="supabase.auth.token",g9={"X-Client-Info":`gotrue-js/${M3}`},fw="X-Supabase-Api-Version",O3={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},v9=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,y9=10*60*1e3;class Yh extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function mt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class w9 extends Yh{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function b9(e){return mt(e)&&e.name==="AuthApiError"}class Rl extends Yh{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Wa extends Yh{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}}class xi extends Wa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function i1(e){return mt(e)&&e.name==="AuthSessionMissingError"}class Tc extends Wa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xp extends Wa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Zp extends Wa{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function x9(e){return mt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Q_ extends Wa{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class _9 extends Wa{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class pw extends Wa{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function s1(e){return mt(e)&&e.name==="AuthRetryableFetchError"}class eS extends Wa{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class mw extends Wa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const yg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),tS=` 	
\r=`.split(""),S9=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<tS.length;t+=1)e[tS[t].charCodeAt(0)]=-2;for(let t=0;t<yg.length;t+=1)e[yg[t].charCodeAt(0)]=t;return e})();function nS(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(yg[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(yg[r]),t.queuedBits-=6}}function j3(e,t,n){const r=S9[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function rS(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{C9(a,r,n)};for(let a=0;a<e.length;a+=1)j3(e.charCodeAt(a),i,s);return t.join("")}function A9(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function k9(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}A9(r,t)}}function C9(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function gu(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)j3(e.charCodeAt(i),n,r);return new Uint8Array(t)}function E9(e){const t=[];return k9(e,n=>t.push(n)),new Uint8Array(t)}function jl(e){const t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>nS(i,n,r)),nS(null,n,r),t.join("")}function N9(e){return Math.round(Date.now()/1e3)+e}function T9(){return Symbol("auth-callback")}const Er=()=>typeof window<"u"&&typeof document<"u",Sl={tested:!1,writable:!1},D3=()=>{if(!Er())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sl.tested)return Sl.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sl.tested=!0,Sl.writable=!0}catch{Sl.tested=!0,Sl.writable=!1}return Sl.writable};function P9(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}const F3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),R9=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hc=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Al=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Cr=async(e,t)=>{await e.removeItem(t)};class k0{constructor(){this.promise=new k0.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}k0.promiseConstructor=Promise;function Jp(e){const t=e.split(".");if(t.length!==3)throw new mw("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!v9.test(t[r]))throw new mw("JWT not in base64url format");return{header:JSON.parse(rS(t[0])),payload:JSON.parse(rS(t[1])),signature:gu(t[2]),raw:{header:t[0],payload:t[1]}}}async function L9(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function I9(e,t){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){r(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function M9(e){return("0"+e.toString(16)).substr(-2)}function O9(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,M9).join("")}async function j9(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function D9(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await j9(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pc(e,t,n=!1){const r=O9();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Hc(e,`${t}-code-verifier`,i);const s=await D9(r);return[s,r===s?"plain":"s256"]}const F9=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function B9(e){const t=e.headers.get(fw);if(!t||!t.match(F9))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function U9(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function $9(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const z9=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Rc(e){if(!z9.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function a1(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function q9(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function iS(e){return JSON.parse(JSON.stringify(e))}const El=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),H9=[502,503,504];async function sS(e){var t;if(!R9(e))throw new pw(El(e),0);if(H9.includes(e.status))throw new pw(El(e),e.status);let n;try{n=await e.json()}catch(s){throw new Rl(El(s),s)}let r;const i=B9(e);if(i&&i.getTime()>=O3["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new eS(El(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new xi}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new eS(El(n),e.status,n.weak_password.reasons);throw new w9(El(n),e.status||500,r)}const W9=(e,t,n,r)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function xt(e,t,n,r){var i;const s=Object.assign({},r?.headers);s[fw]||(s[fw]=O3["2024-01-01"].name),r?.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await V9(e,t,n+o,{headers:s,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function V9(e,t,n,r,i,s){const a=W9(t,r,i,s);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new pw(El(l),0)}if(o.ok||await sS(o),r?.noResolveJson)return o;try{return await o.json()}catch(l){await sS(l)}}function hs(e){var t;let n=null;K9(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=N9(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function aS(e){const t=hs(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function _o(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function G9(e){return{data:e,error:null}}function Y9(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=e,a=Ju(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function oS(e){return e}function K9(e){return e.access_token&&e.refresh_token&&e.expires_in}const o1=["global","local","others"];class X9{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=F3(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=o1[0]){if(o1.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${o1.join(", ")}`);try{return await xt(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(mt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:_o})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Ju(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Y9,redirectTo:n?.redirectTo})}catch(n){if(mt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:_o})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:oS});if(u.error)throw u.error;const f=await u.json(),g=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,d=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),h=JSON.parse(m.split(";")[1].split("=")[1]);c[`${h}Page`]=v}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(mt(c))return{data:{users:[]},error:c};throw c}}async getUserById(t){Rc(t);try{return await xt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:_o})}catch(n){if(mt(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Rc(t);try{return await xt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:_o})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Rc(t);try{return await xt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:_o})}catch(r){if(mt(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Rc(t.userId);try{const{data:n,error:r}=await xt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Rc(t.userId),Rc(t.id);try{return{data:await xt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await xt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:oS});if(u.error)throw u.error;const f=await u.json(),g=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,d=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return d.length>0&&(d.forEach(m=>{const v=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),h=JSON.parse(m.split(";")[1].split("=")[1]);c[`${h}Page`]=v}),c.total=parseInt(g)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(mt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await xt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await xt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(mt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await xt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(mt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await xt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(mt(n))return{data:null,error:n};throw n}}}function lS(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Lc={debug:!!(globalThis&&D3()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class B3 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Z9 extends B3{}async function J9(e,t,n){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Lc.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Z9(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Lc.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Q9(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function U3(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function eB(e){return parseInt(e,16)}function tB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function nB(e){var t;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:u,uri:f,version:g}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const d=U3(e.address),m=u?`${u}://${r}`:r,v=e.statement?`${e.statement}
`:"",h=`${m} wants you to sign in with your Ethereum account:
${d}

${v}`;let p=`URI: ${f}
Version: ${g}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(p+=`
Expiration Time: ${i.toISOString()}`),o&&(p+=`
Not Before: ${o.toISOString()}`),l&&(p+=`
Request ID: ${l}`),c){let y=`
Resources:`;for(const b of c){if(!b||typeof b!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${b}`);y+=`
- ${b}`}p+=y}return`${h}
${p}`}class er extends Error{constructor({message:t,code:n,cause:r,name:i}){var s;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class wg extends er{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function rB({error:e,options:t}){var n,r,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new er({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new er({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new er({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new er({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new er({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new er({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if($3(a)){if(s.rp.id!==a)return new er({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new er({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function iB({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new er({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new er({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if($3(r)){if(n.rpId!==r)return new er({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new er({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new er({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new er({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class sB{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const aB=new sB;function oB(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,i=Ju(e,["challenge","user","excludeCredentials"]),s=gu(t).buffer,a=Object.assign(Object.assign({},n),{id:gu(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:gu(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function lB(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Ju(e,["challenge","allowCredentials"]),i=gu(t).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:gu(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function cB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:jl(new Uint8Array(e.response.attestationObject)),clientDataJSON:jl(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function uB(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jl(new Uint8Array(i.authenticatorData)),clientDataJSON:jl(new Uint8Array(i.clientDataJSON)),signature:jl(new Uint8Array(i.signature)),userHandle:i.userHandle?jl(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function $3(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function cS(){var e,t;return!!(Er()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function dB(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wg("Browser returned unexpected credential type",t)}:{data:null,error:new wg("Empty credential response",t)}}catch(t){return{data:null,error:rB({error:t,options:e})}}}async function hB(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new wg("Browser returned unexpected credential type",t)}:{data:null,error:new wg("Empty credential response",t)}}catch(t){return{data:null,error:iB({error:t,options:e})}}}const fB={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pB={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function bg(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of e)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(t(a)){const o=r[s];t(o)?r[s]=bg(o,a):r[s]=bg(a)}else r[s]=a}return r}function mB(e,t){return bg(fB,e,t||{})}function gB(e,t){return bg(pB,e,t||{})}class vB{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:o};const l=i??aB.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=mB(a.webauthn.credential_options.publicKey,s?.create),{data:u,error:f}=await dB({publicKey:c,signal:l});return u?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}case"request":{const c=gB(a.webauthn.credential_options.publicKey,s?.request),{data:u,error:f}=await hB(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:f}}}}catch(a){return mt(a)?{data:null,error:a}:{data:null,error:new Rl("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Yh("rpId is required for WebAuthn authentication")};try{if(!cS())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return mt(a)?{data:null,error:a}:{data:null,error:new Rl("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Yh("rpId is required for WebAuthn registration")};try{if(!cS())return{data:null,error:new Rl("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(u=>{var f;return(f=u.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===t&&g.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u?.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return mt(a)?{data:null,error:a}:{data:null,error:new Rl("Unexpected error in register",a)}}}}Q9();const yB={url:p9,storageKey:m9,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:g9,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function uS(e,t,n){return await n()}const Ic={};class Kh{get jwks(){var t,n;return(n=(t=Ic[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Ic[this.storageKey]=Object.assign(Object.assign({},Ic[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Ic[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ic[this.storageKey]=Object.assign(Object.assign({},Ic[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},yB),t);if(this.storageKey=s.storageKey,this.instanceID=(n=Kh.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Kh.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Er()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new X9({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=F3(s.fetch),this.lock=s.lock||uS,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Er()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=J9:this.lock=uS,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vB(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:D3()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=lS(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=lS(this.memoryStorage)),Er()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${M3}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(Er()&&(n=P9(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Er()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),x9(s)){const l=(t=s.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return mt(n)?this._returnResult({error:n}):this._returnResult({error:new Rl("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,i;try{const s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t?.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:hs}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(mt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var n,r,i;try{let s;if("email"in t){const{email:u,password:f,options:g}=t;let d=null,m=null;this.flowType==="pkce"&&([d,m]=await Pc(this.storage,this.storageKey)),s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:u,password:f,data:(n=g?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:d,code_challenge_method:m},xform:hs})}else if("phone"in t){const{phone:u,password:f,options:g}=t;s=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=g?.data)!==null&&r!==void 0?r:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:hs})}else throw new Xp("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await Cr(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),mt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let n;if("email"in t){const{email:s,password:a,options:o}=t;n=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:aS})}else if("phone"in t){const{phone:s,password:a,options:o}=t;n=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o?.captchaToken}},xform:aS})}else throw new Xp("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new Tc;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(mt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,i,s,a,o,l,c,u,f,g;let d,m;if("message"in t)d=t.message,m=t.signature;else{const{chain:v,wallet:h,statement:p,options:y}=t;let b;if(Er())if(typeof h=="object")b=h;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")b=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof h!="object"||!y?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=h}const k=new URL((n=y?.url)!==null&&n!==void 0?n:window.location.href),L=await b.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!L||L.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=U3(L[0]);let D=(r=y?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const z=await b.request({method:"eth_chainId"});D=eB(z)}const q={domain:k.host,address:j,statement:p,uri:k.href,version:"1",chainId:D,nonce:(i=y?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=y?.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=y?.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=y?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=y?.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=y?.signInWithEthereum)===null||u===void 0?void 0:u.resources};d=nB(q),m=await b.request({method:"personal_sign",params:[tB(d),j]})}try{const{data:v,error:h}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:m},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:hs});if(h)throw h;if(!v||!v.session||!v.user){const p=new Tc;return this._returnResult({data:{user:null,session:null},error:p})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:h})}catch(v){if(mt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(t){var n,r,i,s,a,o,l,c,u,f,g,d;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:h,wallet:p,statement:y,options:b}=t;let k;if(Er())if(typeof p=="object")k=p;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))k=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!b?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=p}const L=new URL((n=b?.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const j=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b?.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),y?{statement:y}:null));let D;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")D=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)D=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)m=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),v=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${L.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(r=b?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=b?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((a=b?.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((o=b?.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((l=b?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((c=b?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((f=(u=b?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...b.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const j=await k.signMessage(new TextEncoder().encode(m),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=j}}try{const{data:h,error:p}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:jl(v)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:hs});if(p)throw p;if(!h||!h.session||!h.user){const y=new Tc;return this._returnResult({data:{user:null,session:null},error:y})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:Object.assign({},h),error:p})}catch(h){if(mt(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async _exchangeCodeForSession(t){const n=await Al(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new _9;const{data:s,error:a}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:hs});if(await Cr(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new Tc;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),mt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=t,o=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:hs}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new Tc;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(mt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,i,s,a;try{if("email"in t){const{email:o,options:l}=t;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Pc(this.storage,this.storageKey));const{error:f}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:c,error:u}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l?.data)!==null&&i!==void 0?i:{},create_user:(s=l?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:u})}throw new Xp("You must provide either an email or phone number.")}catch(o){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),mt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var n,r;try{let i,s;"options"in t&&(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo,s=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:hs});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(mt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var n,r,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Pc(this.storage,this.storageKey));const c=await xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:G9});return!((s=c.data)===null||s===void 0)&&s.url&&Er()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),mt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new xi;const{error:i}=await xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(mt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:s}=t,{error:a}=await xt(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:i,options:s}=t,{data:a,error:o}=await xt(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a?.message_id},error:o})}throw new Xp("You must provide either an email or phone number and a type")}catch(n){if(mt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Al(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<r1:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Al(this.userStorage,this.storageKey+"-user");a?.user?t.user=a.user:t.user=a1()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=q9(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:_o}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xi}:await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:_o})})}catch(n){if(mt(n))return i1(n)&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new xi;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Pc(this.storage,this.storageKey));const{data:c,error:u}=await xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:_o});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),mt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xi;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=Jp(t.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});s={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(mt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!t?.refresh_token)throw new xi;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(mt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!Er())throw new Zp("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Zp(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Q_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Zp("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Q_("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=t;if(!s||!o||!a||!c)throw new Zp("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(o);let g=u+f;l&&(g=parseInt(l));const d=g-u;d*1e3<=qc&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const m=g-f;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,g,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,g,u);const{data:v,error:h}=await this._getUser(s);if(h)throw h;const p={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:g,refresh_token:a,token_type:c,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(r){if(mt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Al(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s&&!i1(s))return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(b9(o)&&(o.status===404||o.status===401||o.status===403)||i1(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await Cr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=T9(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Pc(this.storage,this.storageKey,!0));try{return await xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),mt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,c,u;const{data:f,error:g}=s;if(g)throw g;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xt(this.fetch,"GET",d,{headers:this.headers,jwt:(u=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return Er()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:t.provider,url:r?.url},error:null})}catch(r){if(mt(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:u}=t,f=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:hs}),{data:g,error:d}=f;return d?this._returnResult({data:{user:null,session:null},error:d}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Tc}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:d}))}catch(i){if(await Cr(this.storage,`${this.storageKey}-code-verifier`),mt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await xt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await I9(async i=>(i>0&&await L9(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hs})),(i,s)=>{const a=200*Math.pow(2,i);return s&&s1(s)&&Date.now()+a-r<qc})}catch(r){if(this._debug(n,"error",r),mt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),Er()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await Al(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Al(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Hc(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a?.user)!==null&&t!==void 0?t:a1()}else if(i&&!i.user&&!i.user){const a=await Al(this.storage,this.storageKey+"-user");a&&a?.user?(i.user=a.user,await Cr(this.storage,this.storageKey+"-user"),await Hc(this.storage,this.storageKey,i)):i.user=a1()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<r1;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${r1}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),s1(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&a?.user?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new xi;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new k0;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new xi;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),mt(s)){const a={data:null,error:s};return s1(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,n,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Cr(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Hc(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=iS(i);await Hc(this.storage,this.storageKey,s)}else{const i=iS(n);await Hc(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Cr(this.storage,this.storageKey),await Cr(this.storage,this.storageKey+"-code-verifier"),await Cr(this.storage,this.storageKey+"-user"),this.userStorage&&await Cr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Er()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qc);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/qc);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${qc}ms, refresh threshold is ${hw} ticks`),i<=hw&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof B3)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Er()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Pc(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r?.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await xt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:c}=await xt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s?.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(t.factorType==="totp"&&l.type==="totp"&&(!((i=l?.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?cB(t.webauthn.credential_response):uB(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await xt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:oB(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:lB(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=n?.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,i,s;if(t)try{const{payload:d}=Jp(t);let m=null;d.aal&&(m=d.aal);let v=m;const{data:{user:h},error:p}=await this.getUser(t);if(p)return this._returnResult({data:null,error:p});((r=(n=h?.factors)===null||n===void 0?void 0:n.filter(k=>k.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(v="aal2");const b=d.amr||[];return{data:{currentLevel:m,nextLevel:v,currentAuthenticationMethods:b},error:null}}catch(d){if(mt(d))return this._returnResult({data:null,error:d});throw d}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Jp(a.access_token);let c=null;l.aal&&(c=l.aal);let u=c;((s=(i=a.user.factors)===null||i===void 0?void 0:i.filter(d=>d.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(u="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await xt(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new xi})})}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new xi});const a=await xt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Er()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new xi});const a=await xt(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Er()&&!n?.skipBrowserRedirect&&window.location.assign(a.data.redirect_url),a})}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await xt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new xi})})}catch(t){if(mt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await xt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xi})})}catch(n){if(mt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+y9>i)return r;const{data:s,error:a}=await xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:d,error:m}=await this.getSession();if(m||!d.session)return this._returnResult({data:null,error:m});r=d.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=Jp(r);n?.allowExpired||U9(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n?.keys?{keys:n.keys}:n?.jwks);if(!c){const{error:d}=await this.getUser(r);if(d)throw d;return{data:{claims:s,header:i,signature:a},error:null}}const u=$9(i.alg),f=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,E9(`${o}.${l}`)))throw new mw("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(mt(r))return this._returnResult({data:null,error:r});throw r}}}Kh.nextInstanceID={};const wB=Kh,bB="2.93.2";let Qd="";typeof Deno<"u"?Qd="deno":typeof document<"u"?Qd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Qd="react-native":Qd="node";const xB={"X-Client-Info":`supabase-js-${Qd}/${bB}`},_B={headers:xB},SB={schema:"public"},AB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},kB={};function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}function CB(e,t){if(Xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function EB(e){var t=CB(e,"string");return Xh(t)=="symbol"?t:t+""}function NB(e,t,n){return(t=EB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Un(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(n),!0).forEach(function(r){NB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dS(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const TB=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),PB=()=>Headers,RB=(e,t,n)=>{const r=TB(n),i=PB();return async(s,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let c=new i(a?.headers);return c.has("apikey")||c.set("apikey",e),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Un(Un({},a),{},{headers:c}))}};function LB(e){return e.endsWith("/")?e:e+"/"}function IB(e,t){var n,r;const{db:i,auth:s,realtime:a,global:o}=e,{db:l,auth:c,realtime:u,global:f}=t,g={db:Un(Un({},l),i),auth:Un(Un({},c),s),realtime:Un(Un({},u),a),storage:{},global:Un(Un(Un({},f),o),{},{headers:Un(Un({},(n=f?.headers)!==null&&n!==void 0?n:{}),(r=o?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}function MB(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(LB(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var OB=class extends wB{constructor(e){super(e)}},jB=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;const s=MB(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:SB,realtime:kB,auth:Un(Un({},AB),{},{storageKey:a}),global:_B},l=IB(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(u,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=RB(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Un({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(u=>this.realtime.setAuth(u)).catch(u=>console.warn("Failed to set initial Realtime auth token:",u)),this.rest=new w7(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new f9(this.storageUrl.href,this.headers,this.fetch,n?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new p7(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:c},u,f){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new OB({url:this.authUrl.href,headers:Un(Un({},g),u),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new j7(this.realtimeUrl.href,Un(Un({},e),{},{params:Un(Un({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const DB=(e,t,n)=>new jB(e,t,n);function FB(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}FB()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BB="https://xpldgqakgwqnulcpoxnd.supabase.co",UB="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhwbGRncWFrZ3dxbnVsY3BveG5kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1NjIwNDgsImV4cCI6MjA4NTEzODA0OH0.Qdu8qlMvk8DRBxrh9f9zSL-UqRb7YH27j1tMaVs22Uk",Wt=DB(BB,UB,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}});function tl(){const[e,t]=R.useState(null),[n,r]=R.useState(null),[i,s]=R.useState(!0);return R.useEffect(()=>{const{data:{subscription:o}}=Wt.auth.onAuthStateChange((l,c)=>{r(c),t(c?.user??null),s(!1)});return Wt.auth.getSession().then(({data:{session:l}})=>{r(l),t(l?.user??null),s(!1)}),()=>o.unsubscribe()},[]),{user:e,session:n,loading:i,isAuthenticated:!!e,signOut:async()=>{await Wt.auth.signOut()}}}const $B="flowmate-offline",zB=1;let Qp=null;const uc=()=>new Promise((e,t)=>{if(Qp){e(Qp);return}const n=indexedDB.open($B,zB);n.onerror=()=>t(n.error),n.onsuccess=()=>{Qp=n.result,e(Qp)},n.onupgradeneeded=r=>{const i=r.target.result;if(!i.objectStoreNames.contains("tasks")){const s=i.createObjectStore("tasks",{keyPath:"id"});s.createIndex("user_id","user_id",{unique:!1}),s.createIndex("status","status",{unique:!1})}if(!i.objectStoreNames.contains("dailySyncs")){const s=i.createObjectStore("dailySyncs",{keyPath:"id"});s.createIndex("user_id","user_id",{unique:!1}),s.createIndex("sync_date","sync_date",{unique:!1})}if(!i.objectStoreNames.contains("notes")){const s=i.createObjectStore("notes",{keyPath:"id"});s.createIndex("user_id","user_id",{unique:!1}),s.createIndex("folder_id","folder_id",{unique:!1})}if(i.objectStoreNames.contains("folders")||i.createObjectStore("folders",{keyPath:"id"}).createIndex("user_id","user_id",{unique:!1}),!i.objectStoreNames.contains("knowledgeItems")){const s=i.createObjectStore("knowledgeItems",{keyPath:"id"});s.createIndex("user_id","user_id",{unique:!1}),s.createIndex("note_id","note_id",{unique:!1})}if(!i.objectStoreNames.contains("syncQueue")){const s=i.createObjectStore("syncQueue",{keyPath:"id",autoIncrement:!0});s.createIndex("table_name","table_name",{unique:!1}),s.createIndex("synced","synced",{unique:!1})}}}),Zh=async(e,t)=>{const n=await uc();return new Promise((r,i)=>{const o=n.transaction(e,"readonly").objectStore(e).getAll();o.onsuccess=()=>{let l=o.result;t&&(l=l.filter(c=>c.user_id===t)),r(l)},o.onerror=()=>i(o.error)})},Ys=async(e,t)=>{const n=await uc();return new Promise((r,i)=>{const o=n.transaction(e,"readwrite").objectStore(e).put(t);o.onsuccess=()=>r(t),o.onerror=()=>i(o.error)})},gw=async(e,t)=>{const n=await uc();return new Promise((r,i)=>{const o=n.transaction(e,"readwrite").objectStore(e).delete(t);o.onsuccess=()=>r(),o.onerror=()=>i(o.error)})},pr=async(e,t,n,r)=>{const i=await uc();return new Promise((s,a)=>{const c=i.transaction("syncQueue","readwrite").objectStore("syncQueue").add({operation:e,table_name:t,record_id:n,data:r,created_at:new Date().toISOString(),synced:!1});c.onsuccess=()=>s(),c.onerror=()=>a(c.error)})},z3=async()=>{const e=await uc();return new Promise((t,n)=>{const a=e.transaction("syncQueue","readonly").objectStore("syncQueue").index("synced").getAll(IDBKeyRange.only(!1));a.onsuccess=()=>t(a.result),a.onerror=()=>n(a.error)})},qB=async e=>{const t=await uc();return new Promise((n,r)=>{const s=t.transaction("syncQueue","readwrite").objectStore("syncQueue"),a=s.get(e);a.onsuccess=()=>{const o=a.result;if(o){o.synced=!0,o.synced_at=new Date().toISOString();const l=s.put(o);l.onsuccess=()=>n(),l.onerror=()=>r(l.error)}else n()},a.onerror=()=>r(a.error)})},HB=async()=>{const e=await uc(),t=await z3(),n=new Date(Date.now()-24*60*60*1e3).toISOString();return new Promise((r,i)=>{const s=e.transaction("syncQueue","readwrite"),a=s.objectStore("syncQueue");t.forEach(o=>{o.synced&&o.synced_at<n&&a.delete(o.id)}),s.oncomplete=()=>r(),s.onerror=()=>i(s.error)})};function WB(){const[e,t]=R.useState(3),[n,r]=R.useState(!0),{user:i}=tl(),s=()=>new Date().toISOString().split("T")[0],a=R.useCallback(async()=>{if(!i){r(!1);return}try{const o=localStorage.getItem(`energy_${i.id}`);if(o){const f=JSON.parse(o);f.date===s()&&t(f.level)}const l=await Zh("dailySyncs",i.id),c=s(),u=l.find(f=>f.sync_date===c);if(u&&(t(u.energy_level),localStorage.setItem(`energy_${i.id}`,JSON.stringify({date:c,level:u.energy_level}))),navigator.onLine){const{data:f,error:g}=await Wt.from("daily_syncs").select("energy_level").eq("user_id",i.id).eq("sync_date",c).maybeSingle();!g&&f&&(t(f.energy_level),localStorage.setItem(`energy_${i.id}`,JSON.stringify({date:c,level:f.energy_level})))}}catch(o){console.error("Error loading energy level:",o)}finally{r(!1)}},[i]);return R.useEffect(()=>{a();const o=c=>{c.key?.includes("energy_")&&i&&a()};window.addEventListener("storage",o);const l=()=>a();return window.addEventListener("energy-updated",l),()=>{window.removeEventListener("storage",o),window.removeEventListener("energy-updated",l)}},[a,i]),{energyLevel:e,loading:n,reload:a}}var VB=R.createContext(void 0);function g2(e){const t=R.useContext(VB);return e||t||"ltr"}var l1=0;function C0(){R.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??hS()),document.body.insertAdjacentElement("beforeend",e[1]??hS()),l1++,()=>{l1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),l1--}},[])}function hS(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var c1="focusScope.autoFocusOnMount",u1="focusScope.autoFocusOnUnmount",fS={bubbles:!1,cancelable:!0},GB="FocusScope",Nf=R.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,l]=R.useState(null),c=Zr(i),u=Zr(s),f=R.useRef(null),g=Xt(t,v=>l(v)),d=R.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;R.useEffect(()=>{if(r){let v=function(b){if(d.paused||!o)return;const k=b.target;o.contains(k)?f.current=k:mo(f.current,{select:!0})},h=function(b){if(d.paused||!o)return;const k=b.relatedTarget;k!==null&&(o.contains(k)||mo(f.current,{select:!0}))},p=function(b){if(document.activeElement===document.body)for(const L of b)L.removedNodes.length>0&&mo(o)};document.addEventListener("focusin",v),document.addEventListener("focusout",h);const y=new MutationObserver(p);return o&&y.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",h),y.disconnect()}}},[r,o,d.paused]),R.useEffect(()=>{if(o){mS.add(d);const v=document.activeElement;if(!o.contains(v)){const p=new CustomEvent(c1,fS);o.addEventListener(c1,c),o.dispatchEvent(p),p.defaultPrevented||(YB(QB(q3(o)),{select:!0}),document.activeElement===v&&mo(o))}return()=>{o.removeEventListener(c1,c),setTimeout(()=>{const p=new CustomEvent(u1,fS);o.addEventListener(u1,u),o.dispatchEvent(p),p.defaultPrevented||mo(v??document.body,{select:!0}),o.removeEventListener(u1,u),mS.remove(d)},0)}}},[o,c,u,d]);const m=R.useCallback(v=>{if(!n&&!r||d.paused)return;const h=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,p=document.activeElement;if(h&&p){const y=v.currentTarget,[b,k]=KB(y);b&&k?!v.shiftKey&&p===k?(v.preventDefault(),n&&mo(b,{select:!0})):v.shiftKey&&p===b&&(v.preventDefault(),n&&mo(k,{select:!0})):p===y&&v.preventDefault()}},[n,r,d.paused]);return x.jsx(At.div,{tabIndex:-1,...a,ref:g,onKeyDown:m})});Nf.displayName=GB;function YB(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(mo(r,{select:t}),document.activeElement!==n)return}function KB(e){const t=q3(e),n=pS(t,e),r=pS(t.reverse(),e);return[n,r]}function q3(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function pS(e,t){for(const n of e)if(!XB(n,{upTo:t}))return n}function XB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function ZB(e){return e instanceof HTMLInputElement&&"select"in e}function mo(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&ZB(e)&&t&&e.select()}}var mS=JB();function JB(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=gS(e,t),e.unshift(t)},remove(t){e=gS(e,t),e[0]?.resume()}}}function gS(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function QB(e){return e.filter(t=>t.tagName!=="A")}var d1="rovingFocusGroup.onEntryFocus",eU={bubbles:!1,cancelable:!0},Tf="RovingFocusGroup",[vw,H3,tU]=o0(Tf),[nU,W3]=Qi(Tf,[tU]),[rU,iU]=nU(Tf),V3=R.forwardRef((e,t)=>x.jsx(vw.Provider,{scope:e.__scopeRovingFocusGroup,children:x.jsx(vw.Slot,{scope:e.__scopeRovingFocusGroup,children:x.jsx(sU,{...e,ref:t})})}));V3.displayName=Tf;var sU=R.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=e,g=R.useRef(null),d=Xt(t,g),m=g2(s),[v,h]=$a({prop:a,defaultProp:o??null,onChange:l,caller:Tf}),[p,y]=R.useState(!1),b=Zr(c),k=H3(n),L=R.useRef(!1),[j,D]=R.useState(0);return R.useEffect(()=>{const q=g.current;if(q)return q.addEventListener(d1,b),()=>q.removeEventListener(d1,b)},[b]),x.jsx(rU,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:v,onItemFocus:R.useCallback(q=>h(q),[h]),onItemShiftTab:R.useCallback(()=>y(!0),[]),onFocusableItemAdd:R.useCallback(()=>D(q=>q+1),[]),onFocusableItemRemove:R.useCallback(()=>D(q=>q-1),[]),children:x.jsx(At.div,{tabIndex:p||j===0?-1:0,"data-orientation":r,...f,ref:d,style:{outline:"none",...e.style},onMouseDown:Ke(e.onMouseDown,()=>{L.current=!0}),onFocus:Ke(e.onFocus,q=>{const z=!L.current;if(q.target===q.currentTarget&&z&&!p){const ee=new CustomEvent(d1,eU);if(q.currentTarget.dispatchEvent(ee),!ee.defaultPrevented){const $=k().filter(ie=>ie.focusable),H=$.find(ie=>ie.active),ae=$.find(ie=>ie.id===v),Q=[H,ae,...$].filter(Boolean).map(ie=>ie.ref.current);K3(Q,u)}}L.current=!1}),onBlur:Ke(e.onBlur,()=>y(!1))})})}),G3="RovingFocusGroupItem",Y3=R.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=e,l=Ti(),c=s||l,u=iU(G3,n),f=u.currentTabStopId===c,g=H3(n),{onFocusableItemAdd:d,onFocusableItemRemove:m,currentTabStopId:v}=u;return R.useEffect(()=>{if(r)return d(),()=>m()},[r,d,m]),x.jsx(vw.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:x.jsx(At.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...o,ref:t,onMouseDown:Ke(e.onMouseDown,h=>{r?u.onItemFocus(c):h.preventDefault()}),onFocus:Ke(e.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ke(e.onKeyDown,h=>{if(h.key==="Tab"&&h.shiftKey){u.onItemShiftTab();return}if(h.target!==h.currentTarget)return;const p=lU(h,u.orientation,u.dir);if(p!==void 0){if(h.metaKey||h.ctrlKey||h.altKey||h.shiftKey)return;h.preventDefault();let b=g().filter(k=>k.focusable).map(k=>k.ref.current);if(p==="last")b.reverse();else if(p==="prev"||p==="next"){p==="prev"&&b.reverse();const k=b.indexOf(h.currentTarget);b=u.loop?cU(b,k+1):b.slice(k+1)}setTimeout(()=>K3(b))}}),children:typeof a=="function"?a({isCurrentTabStop:f,hasTabStop:v!=null}):a})})});Y3.displayName=G3;var aU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function oU(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lU(e,t,n){const r=oU(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return aU[r]}function K3(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function cU(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var uU=V3,dU=Y3,hU=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Mc=new WeakMap,em=new WeakMap,tm={},h1=0,X3=function(e){return e&&(e.host||X3(e.parentNode))},fU=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=X3(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},pU=function(e,t,n,r){var i=fU(t,Array.isArray(e)?e:[e]);tm[n]||(tm[n]=new WeakMap);var s=tm[n],a=[],o=new Set,l=new Set(i),c=function(f){!f||o.has(f)||(o.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(g){if(o.has(g))u(g);else try{var d=g.getAttribute(r),m=d!==null&&d!=="false",v=(Mc.get(g)||0)+1,h=(s.get(g)||0)+1;Mc.set(g,v),s.set(g,h),a.push(g),v===1&&m&&em.set(g,!0),h===1&&g.setAttribute(n,"true"),m||g.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",g,p)}})};return u(t),o.clear(),h1++,function(){a.forEach(function(f){var g=Mc.get(f)-1,d=s.get(f)-1;Mc.set(f,g),s.set(f,d),g||(em.has(f)||f.removeAttribute(r),em.delete(f)),d||f.removeAttribute(n)}),h1--,h1||(Mc=new WeakMap,Mc=new WeakMap,em=new WeakMap,tm={})}},E0=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=hU(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),pU(r,i,n,"aria-hidden")):function(){return null}},Pm="right-scroll-bar-position",Rm="width-before-scroll-bar",mU="with-scroll-bars-hidden",gU="--removed-body-scroll-bar-size";function f1(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function vU(e,t){var n=R.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var yU=typeof window<"u"?R.useLayoutEffect:R.useEffect,vS=new WeakMap;function wU(e,t){var n=vU(null,function(r){return e.forEach(function(i){return f1(i,r)})});return yU(function(){var r=vS.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(o){s.has(o)||f1(o,null)}),s.forEach(function(o){i.has(o)||f1(o,a)})}vS.set(n,e)},[e]),n}function bU(e){return e}function xU(e,t){t===void 0&&(t=bU);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var u=a;a=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function _U(e){e===void 0&&(e={});var t=xU(null);return t.options=Gs({async:!0,ssr:!1},e),t}var Z3=function(e){var t=e.sideCar,n=Ju(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return R.createElement(r,Gs({},n))};Z3.isSideCarExport=!0;function SU(e,t){return e.useMedium(t),Z3}var J3=_U(),p1=function(){},N0=R.forwardRef(function(e,t){var n=R.useRef(null),r=R.useState({onScrollCapture:p1,onWheelCapture:p1,onTouchMoveCapture:p1}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,l=e.className,c=e.removeScrollBar,u=e.enabled,f=e.shards,g=e.sideCar,d=e.noRelative,m=e.noIsolation,v=e.inert,h=e.allowPinchZoom,p=e.as,y=p===void 0?"div":p,b=e.gapMode,k=Ju(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),L=g,j=wU([n,t]),D=Gs(Gs({},k),i);return R.createElement(R.Fragment,null,u&&R.createElement(L,{sideCar:J3,removeScrollBar:c,shards:f,noRelative:d,noIsolation:m,inert:v,setCallbacks:s,allowPinchZoom:!!h,lockRef:n,gapMode:b}),a?R.cloneElement(R.Children.only(o),Gs(Gs({},D),{ref:j})):R.createElement(y,Gs({},D,{className:l,ref:j}),o))});N0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};N0.classNames={fullWidth:Rm,zeroRight:Pm};var AU=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function kU(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=AU();return t&&e.setAttribute("nonce",t),e}function CU(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function EU(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var NU=function(){var e=0,t=null;return{add:function(n){e==0&&(t=kU())&&(CU(t,n),EU(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},TU=function(){var e=NU();return function(t,n){R.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Q3=function(){var e=TU(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},PU={left:0,top:0,right:0,gap:0},m1=function(e){return parseInt(e||"",10)||0},RU=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[m1(n),m1(r),m1(i)]},LU=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return PU;var t=RU(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},IU=Q3(),vu="data-scroll-locked",MU=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(mU,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(vu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pm,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Rm,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Pm," .").concat(Pm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rm," .").concat(Rm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(vu,`] {
    `).concat(gU,": ").concat(o,`px;
  }
`)},yS=function(){var e=parseInt(document.body.getAttribute(vu)||"0",10);return isFinite(e)?e:0},OU=function(){R.useEffect(function(){return document.body.setAttribute(vu,(yS()+1).toString()),function(){var e=yS()-1;e<=0?document.body.removeAttribute(vu):document.body.setAttribute(vu,e.toString())}},[])},jU=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;OU();var s=R.useMemo(function(){return LU(i)},[i]);return R.createElement(IU,{styles:MU(s,!t,i,n?"":"!important")})},yw=!1;if(typeof window<"u")try{var nm=Object.defineProperty({},"passive",{get:function(){return yw=!0,!0}});window.addEventListener("test",nm,nm),window.removeEventListener("test",nm,nm)}catch{yw=!1}var Oc=yw?{passive:!1}:!1,DU=function(e){return e.tagName==="TEXTAREA"},eN=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!DU(e)&&n[t]==="visible")},FU=function(e){return eN(e,"overflowY")},BU=function(e){return eN(e,"overflowX")},wS=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=tN(e,r);if(i){var s=nN(e,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},UU=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},$U=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},tN=function(e,t){return e==="v"?FU(t):BU(t)},nN=function(e,t){return e==="v"?UU(t):$U(t)},zU=function(e,t){return e==="h"&&t==="rtl"?-1:1},qU=function(e,t,n,r,i){var s=zU(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,l=t.contains(o),c=!1,u=a>0,f=0,g=0;do{if(!o)break;var d=nN(e,o),m=d[0],v=d[1],h=d[2],p=v-h-s*m;(m||p)&&tN(e,o)&&(f+=p,g+=m);var y=o.parentNode;o=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!l&&o!==document.body||l&&(t.contains(o)||t===o));return(u&&(Math.abs(f)<1||!i)||!u&&(Math.abs(g)<1||!i))&&(c=!0),c},rm=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},bS=function(e){return[e.deltaX,e.deltaY]},xS=function(e){return e&&"current"in e?e.current:e},HU=function(e,t){return e[0]===t[0]&&e[1]===t[1]},WU=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},VU=0,jc=[];function GU(e){var t=R.useRef([]),n=R.useRef([0,0]),r=R.useRef(),i=R.useState(VU++)[0],s=R.useState(Q3)[0],a=R.useRef(e);R.useEffect(function(){a.current=e},[e]),R.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var v=d7([e.lockRef.current],(e.shards||[]).map(xS),!0).filter(Boolean);return v.forEach(function(h){return h.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),v.forEach(function(h){return h.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=R.useCallback(function(v,h){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!a.current.allowPinchZoom;var p=rm(v),y=n.current,b="deltaX"in v?v.deltaX:y[0]-p[0],k="deltaY"in v?v.deltaY:y[1]-p[1],L,j=v.target,D=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in v&&D==="h"&&j.type==="range")return!1;var q=wS(D,j);if(!q)return!0;if(q?L=D:(L=D==="v"?"h":"v",q=wS(D,j)),!q)return!1;if(!r.current&&"changedTouches"in v&&(b||k)&&(r.current=L),!L)return!0;var z=r.current||L;return qU(z,h,v,z==="h"?b:k,!0)},[]),l=R.useCallback(function(v){var h=v;if(!(!jc.length||jc[jc.length-1]!==s)){var p="deltaY"in h?bS(h):rm(h),y=t.current.filter(function(L){return L.name===h.type&&(L.target===h.target||h.target===L.shadowParent)&&HU(L.delta,p)})[0];if(y&&y.should){h.cancelable&&h.preventDefault();return}if(!y){var b=(a.current.shards||[]).map(xS).filter(Boolean).filter(function(L){return L.contains(h.target)}),k=b.length>0?o(h,b[0]):!a.current.noIsolation;k&&h.cancelable&&h.preventDefault()}}},[]),c=R.useCallback(function(v,h,p,y){var b={name:v,delta:h,target:p,should:y,shadowParent:YU(p)};t.current.push(b),setTimeout(function(){t.current=t.current.filter(function(k){return k!==b})},1)},[]),u=R.useCallback(function(v){n.current=rm(v),r.current=void 0},[]),f=R.useCallback(function(v){c(v.type,bS(v),v.target,o(v,e.lockRef.current))},[]),g=R.useCallback(function(v){c(v.type,rm(v),v.target,o(v,e.lockRef.current))},[]);R.useEffect(function(){return jc.push(s),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",l,Oc),document.addEventListener("touchmove",l,Oc),document.addEventListener("touchstart",u,Oc),function(){jc=jc.filter(function(v){return v!==s}),document.removeEventListener("wheel",l,Oc),document.removeEventListener("touchmove",l,Oc),document.removeEventListener("touchstart",u,Oc)}},[]);var d=e.removeScrollBar,m=e.inert;return R.createElement(R.Fragment,null,m?R.createElement(s,{styles:WU(i)}):null,d?R.createElement(jU,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function YU(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const KU=SU(J3,GU);var Pf=R.forwardRef(function(e,t){return R.createElement(N0,Gs({},e,{ref:t,sideCar:KU}))});Pf.classNames=N0.classNames;var ww=["Enter"," "],XU=["ArrowDown","PageUp","Home"],rN=["ArrowUp","PageDown","End"],ZU=[...XU,...rN],JU={ltr:[...ww,"ArrowRight"],rtl:[...ww,"ArrowLeft"]},QU={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Rf="Menu",[Jh,e$,t$]=o0(Rf),[dc,iN]=Qi(Rf,[t$,el,W3]),Lf=el(),sN=W3(),[aN,nl]=dc(Rf),[n$,If]=dc(Rf),oN=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=e,o=Lf(t),[l,c]=R.useState(null),u=R.useRef(!1),f=Zr(s),g=g2(i);return R.useEffect(()=>{const d=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",d,{capture:!0}),()=>{document.removeEventListener("keydown",d,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),x.jsx(p0,{...o,children:x.jsx(aN,{scope:t,open:n,onOpenChange:f,content:l,onContentChange:c,children:x.jsx(n$,{scope:t,onClose:R.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:g,modal:a,children:r})})})};oN.displayName=Rf;var r$="MenuAnchor",v2=R.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Lf(n);return x.jsx(Af,{...i,...r,ref:t})});v2.displayName=r$;var y2="MenuPortal",[i$,lN]=dc(y2,{forceMount:void 0}),cN=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:i}=e,s=nl(y2,t);return x.jsx(i$,{scope:t,forceMount:n,children:x.jsx(ji,{present:n||s.open,children:x.jsx(Gu,{asChild:!0,container:i,children:r})})})};cN.displayName=y2;var Ki="MenuContent",[s$,w2]=dc(Ki),uN=R.forwardRef((e,t)=>{const n=lN(Ki,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=nl(Ki,e.__scopeMenu),a=If(Ki,e.__scopeMenu);return x.jsx(Jh.Provider,{scope:e.__scopeMenu,children:x.jsx(ji,{present:r||s.open,children:x.jsx(Jh.Slot,{scope:e.__scopeMenu,children:a.modal?x.jsx(a$,{...i,ref:t}):x.jsx(o$,{...i,ref:t})})})})}),a$=R.forwardRef((e,t)=>{const n=nl(Ki,e.__scopeMenu),r=R.useRef(null),i=Xt(t,r);return R.useEffect(()=>{const s=r.current;if(s)return E0(s)},[]),x.jsx(b2,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ke(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),o$=R.forwardRef((e,t)=>{const n=nl(Ki,e.__scopeMenu);return x.jsx(b2,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),l$=Ho("MenuContent.ScrollLock"),b2=R.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:g,onDismiss:d,disableOutsideScroll:m,...v}=e,h=nl(Ki,n),p=If(Ki,n),y=Lf(n),b=sN(n),k=e$(n),[L,j]=R.useState(null),D=R.useRef(null),q=Xt(t,D,h.onContentChange),z=R.useRef(0),ee=R.useRef(""),$=R.useRef(0),H=R.useRef(null),ae=R.useRef("right"),Y=R.useRef(0),Q=m?Pf:R.Fragment,ie=m?{as:l$,allowPinchZoom:!0}:void 0,fe=se=>{const oe=ee.current+se,K=k().filter(E=>!E.disabled),B=document.activeElement,X=K.find(E=>E.ref.current===B)?.textValue,ne=K.map(E=>E.textValue),Z=b$(ne,oe,X),te=K.find(E=>E.textValue===Z)?.ref.current;(function E(T){ee.current=T,window.clearTimeout(z.current),T!==""&&(z.current=window.setTimeout(()=>E(""),1e3))})(oe),te&&setTimeout(()=>te.focus())};R.useEffect(()=>()=>window.clearTimeout(z.current),[]),C0();const W=R.useCallback(se=>ae.current===H.current?.side&&_$(se,H.current?.area),[]);return x.jsx(s$,{scope:n,searchRef:ee,onItemEnter:R.useCallback(se=>{W(se)&&se.preventDefault()},[W]),onItemLeave:R.useCallback(se=>{W(se)||(D.current?.focus(),j(null))},[W]),onTriggerLeave:R.useCallback(se=>{W(se)&&se.preventDefault()},[W]),pointerGraceTimerRef:$,onPointerGraceIntentChange:R.useCallback(se=>{H.current=se},[]),children:x.jsx(Q,{...ie,children:x.jsx(Nf,{asChild:!0,trapped:i,onMountAutoFocus:Ke(s,se=>{se.preventDefault(),D.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:x.jsx(lc,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:g,onDismiss:d,children:x.jsx(uU,{asChild:!0,...b,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:L,onCurrentTabStopIdChange:j,onEntryFocus:Ke(l,se=>{p.isUsingKeyboardRef.current||se.preventDefault()}),preventScrollOnEntryFocus:!0,children:x.jsx(m0,{role:"menu","aria-orientation":"vertical","data-state":EN(h.open),"data-radix-menu-content":"",dir:p.dir,...y,...v,ref:q,style:{outline:"none",...v.style},onKeyDown:Ke(v.onKeyDown,se=>{const K=se.target.closest("[data-radix-menu-content]")===se.currentTarget,B=se.ctrlKey||se.altKey||se.metaKey,X=se.key.length===1;K&&(se.key==="Tab"&&se.preventDefault(),!B&&X&&fe(se.key));const ne=D.current;if(se.target!==ne||!ZU.includes(se.key))return;se.preventDefault();const te=k().filter(E=>!E.disabled).map(E=>E.ref.current);rN.includes(se.key)&&te.reverse(),y$(te)}),onBlur:Ke(e.onBlur,se=>{se.currentTarget.contains(se.target)||(window.clearTimeout(z.current),ee.current="")}),onPointerMove:Ke(e.onPointerMove,Qh(se=>{const oe=se.target,K=Y.current!==se.clientX;if(se.currentTarget.contains(oe)&&K){const B=se.clientX>Y.current?"right":"left";ae.current=B,Y.current=se.clientX}}))})})})})})})});uN.displayName=Ki;var c$="MenuGroup",x2=R.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.jsx(At.div,{role:"group",...r,ref:t})});x2.displayName=c$;var u$="MenuLabel",dN=R.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.jsx(At.div,{...r,ref:t})});dN.displayName=u$;var xg="MenuItem",_S="menu.itemSelect",T0=R.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...i}=e,s=R.useRef(null),a=If(xg,e.__scopeMenu),o=w2(xg,e.__scopeMenu),l=Xt(t,s),c=R.useRef(!1),u=()=>{const f=s.current;if(!n&&f){const g=new CustomEvent(_S,{bubbles:!0,cancelable:!0});f.addEventListener(_S,d=>r?.(d),{once:!0}),Vb(f,g),g.defaultPrevented?c.current=!1:a.onClose()}};return x.jsx(hN,{...i,ref:l,disabled:n,onClick:Ke(e.onClick,u),onPointerDown:f=>{e.onPointerDown?.(f),c.current=!0},onPointerUp:Ke(e.onPointerUp,f=>{c.current||f.currentTarget?.click()}),onKeyDown:Ke(e.onKeyDown,f=>{const g=o.searchRef.current!=="";n||g&&f.key===" "||ww.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});T0.displayName=xg;var hN=R.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=e,a=w2(xg,n),o=sN(n),l=R.useRef(null),c=Xt(t,l),[u,f]=R.useState(!1),[g,d]=R.useState("");return R.useEffect(()=>{const m=l.current;m&&d((m.textContent??"").trim())},[s.children]),x.jsx(Jh.ItemSlot,{scope:n,disabled:r,textValue:i??g,children:x.jsx(dU,{asChild:!0,...o,focusable:!r,children:x.jsx(At.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Ke(e.onPointerMove,Qh(m=>{r?a.onItemLeave(m):(a.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ke(e.onPointerLeave,Qh(m=>a.onItemLeave(m))),onFocus:Ke(e.onFocus,()=>f(!0)),onBlur:Ke(e.onBlur,()=>f(!1))})})})}),d$="MenuCheckboxItem",fN=R.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...i}=e;return x.jsx(yN,{scope:e.__scopeMenu,checked:n,children:x.jsx(T0,{role:"menuitemcheckbox","aria-checked":_g(n)?"mixed":n,...i,ref:t,"data-state":A2(n),onSelect:Ke(i.onSelect,()=>r?.(_g(n)?!0:!n),{checkForDefaultPrevented:!1})})})});fN.displayName=d$;var pN="MenuRadioGroup",[h$,f$]=dc(pN,{value:void 0,onValueChange:()=>{}}),mN=R.forwardRef((e,t)=>{const{value:n,onValueChange:r,...i}=e,s=Zr(r);return x.jsx(h$,{scope:e.__scopeMenu,value:n,onValueChange:s,children:x.jsx(x2,{...i,ref:t})})});mN.displayName=pN;var gN="MenuRadioItem",vN=R.forwardRef((e,t)=>{const{value:n,...r}=e,i=f$(gN,e.__scopeMenu),s=n===i.value;return x.jsx(yN,{scope:e.__scopeMenu,checked:s,children:x.jsx(T0,{role:"menuitemradio","aria-checked":s,...r,ref:t,"data-state":A2(s),onSelect:Ke(r.onSelect,()=>i.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});vN.displayName=gN;var _2="MenuItemIndicator",[yN,p$]=dc(_2,{checked:!1}),wN=R.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...i}=e,s=p$(_2,n);return x.jsx(ji,{present:r||_g(s.checked)||s.checked===!0,children:x.jsx(At.span,{...i,ref:t,"data-state":A2(s.checked)})})});wN.displayName=_2;var m$="MenuSeparator",bN=R.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return x.jsx(At.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});bN.displayName=m$;var g$="MenuArrow",xN=R.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,i=Lf(n);return x.jsx(g0,{...i,...r,ref:t})});xN.displayName=g$;var S2="MenuSub",[v$,_N]=dc(S2),SN=e=>{const{__scopeMenu:t,children:n,open:r=!1,onOpenChange:i}=e,s=nl(S2,t),a=Lf(t),[o,l]=R.useState(null),[c,u]=R.useState(null),f=Zr(i);return R.useEffect(()=>(s.open===!1&&f(!1),()=>f(!1)),[s.open,f]),x.jsx(p0,{...a,children:x.jsx(aN,{scope:t,open:r,onOpenChange:f,content:c,onContentChange:u,children:x.jsx(v$,{scope:t,contentId:Ti(),triggerId:Ti(),trigger:o,onTriggerChange:l,children:n})})})};SN.displayName=S2;var eh="MenuSubTrigger",AN=R.forwardRef((e,t)=>{const n=nl(eh,e.__scopeMenu),r=If(eh,e.__scopeMenu),i=_N(eh,e.__scopeMenu),s=w2(eh,e.__scopeMenu),a=R.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,c={__scopeMenu:e.__scopeMenu},u=R.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return R.useEffect(()=>u,[u]),R.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),l(null)}},[o,l]),x.jsx(v2,{asChild:!0,...c,children:x.jsx(hN,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":EN(n.open),...e,ref:a0(t,i.onTriggerChange),onClick:f=>{e.onClick?.(f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ke(e.onPointerMove,Qh(f=>{s.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ke(e.onPointerLeave,Qh(f=>{u();const g=n.content?.getBoundingClientRect();if(g){const d=n.content?.dataset.side,m=d==="right",v=m?-5:5,h=g[m?"left":"right"],p=g[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+v,y:f.clientY},{x:h,y:g.top},{x:p,y:g.top},{x:p,y:g.bottom},{x:h,y:g.bottom}],side:d}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ke(e.onKeyDown,f=>{const g=s.searchRef.current!=="";e.disabled||g&&f.key===" "||JU[r.dir].includes(f.key)&&(n.onOpenChange(!0),n.content?.focus(),f.preventDefault())})})})});AN.displayName=eh;var kN="MenuSubContent",CN=R.forwardRef((e,t)=>{const n=lN(Ki,e.__scopeMenu),{forceMount:r=n.forceMount,...i}=e,s=nl(Ki,e.__scopeMenu),a=If(Ki,e.__scopeMenu),o=_N(kN,e.__scopeMenu),l=R.useRef(null),c=Xt(t,l);return x.jsx(Jh.Provider,{scope:e.__scopeMenu,children:x.jsx(ji,{present:r||s.open,children:x.jsx(Jh.Slot,{scope:e.__scopeMenu,children:x.jsx(b2,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{a.isUsingKeyboardRef.current&&l.current?.focus(),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ke(e.onFocusOutside,u=>{u.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ke(e.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:Ke(e.onKeyDown,u=>{const f=u.currentTarget.contains(u.target),g=QU[a.dir].includes(u.key);f&&g&&(s.onOpenChange(!1),o.trigger?.focus(),u.preventDefault())})})})})})});CN.displayName=kN;function EN(e){return e?"open":"closed"}function _g(e){return e==="indeterminate"}function A2(e){return _g(e)?"indeterminate":e?"checked":"unchecked"}function y$(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function w$(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function b$(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=w$(e,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function x$(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s],l=t[a],c=o.x,u=o.y,f=l.x,g=l.y;u>r!=g>r&&n<(f-c)*(r-u)/(g-u)+c&&(i=!i)}return i}function _$(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return x$(n,t)}function Qh(e){return t=>t.pointerType==="mouse"?e(t):void 0}var S$=oN,A$=v2,k$=cN,C$=uN,E$=x2,N$=dN,T$=T0,P$=fN,R$=mN,L$=vN,I$=wN,M$=bN,O$=xN,j$=SN,D$=AN,F$=CN,P0="DropdownMenu",[B$,KZ]=Qi(P0,[iN]),$r=iN(),[U$,NN]=B$(P0),TN=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=e,l=$r(t),c=R.useRef(null),[u,f]=$a({prop:i,defaultProp:s??!1,onChange:a,caller:P0});return x.jsx(U$,{scope:t,triggerId:Ti(),triggerRef:c,contentId:Ti(),open:u,onOpenChange:f,onOpenToggle:R.useCallback(()=>f(g=>!g),[f]),modal:o,children:x.jsx(S$,{...l,open:u,onOpenChange:f,dir:r,modal:o,children:n})})};TN.displayName=P0;var PN="DropdownMenuTrigger",RN=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=e,s=NN(PN,n),a=$r(n);return x.jsx(A$,{asChild:!0,...a,children:x.jsx(At.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:a0(t,s.triggerRef),onPointerDown:Ke(e.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:Ke(e.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});RN.displayName=PN;var $$="DropdownMenuPortal",LN=e=>{const{__scopeDropdownMenu:t,...n}=e,r=$r(t);return x.jsx(k$,{...r,...n})};LN.displayName=$$;var IN="DropdownMenuContent",MN=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=NN(IN,n),s=$r(n),a=R.useRef(!1);return x.jsx(C$,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:t,onCloseAutoFocus:Ke(e.onCloseAutoFocus,o=>{a.current||i.triggerRef.current?.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:Ke(e.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(a.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MN.displayName=IN;var z$="DropdownMenuGroup",q$=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(E$,{...i,...r,ref:t})});q$.displayName=z$;var H$="DropdownMenuLabel",ON=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(N$,{...i,...r,ref:t})});ON.displayName=H$;var W$="DropdownMenuItem",jN=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(T$,{...i,...r,ref:t})});jN.displayName=W$;var V$="DropdownMenuCheckboxItem",DN=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(P$,{...i,...r,ref:t})});DN.displayName=V$;var G$="DropdownMenuRadioGroup",Y$=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(R$,{...i,...r,ref:t})});Y$.displayName=G$;var K$="DropdownMenuRadioItem",FN=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(L$,{...i,...r,ref:t})});FN.displayName=K$;var X$="DropdownMenuItemIndicator",BN=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(I$,{...i,...r,ref:t})});BN.displayName=X$;var Z$="DropdownMenuSeparator",UN=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(M$,{...i,...r,ref:t})});UN.displayName=Z$;var J$="DropdownMenuArrow",Q$=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(O$,{...i,...r,ref:t})});Q$.displayName=J$;var ez=e=>{const{__scopeDropdownMenu:t,children:n,open:r,onOpenChange:i,defaultOpen:s}=e,a=$r(t),[o,l]=$a({prop:r,defaultProp:s??!1,onChange:i,caller:"DropdownMenuSub"});return x.jsx(j$,{...a,open:o,onOpenChange:l,children:n})},tz="DropdownMenuSubTrigger",$N=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(D$,{...i,...r,ref:t})});$N.displayName=tz;var nz="DropdownMenuSubContent",zN=R.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,i=$r(n);return x.jsx(F$,{...i,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zN.displayName=nz;var rz=TN,iz=RN,sz=LN,qN=MN,HN=ON,WN=jN,VN=DN,GN=FN,YN=BN,KN=UN,az=ez,XN=$N,ZN=zN;const JN=rz,QN=iz,oz=az,eT=R.forwardRef(({className:e,inset:t,children:n,...r},i)=>x.jsxs(XN,{ref:i,className:$t("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",t&&"pl-8",e),...r,children:[n,x.jsx(Jb,{className:"ml-auto h-4 w-4"})]}));eT.displayName=XN.displayName;const tT=R.forwardRef(({className:e,...t},n)=>x.jsx(ZN,{ref:n,className:$t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));tT.displayName=ZN.displayName;const k2=R.forwardRef(({className:e,sideOffset:t=4,...n},r)=>x.jsx(sz,{children:x.jsx(qN,{ref:r,sideOffset:t,className:$t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));k2.displayName=qN.displayName;const Sg=R.forwardRef(({className:e,inset:t,...n},r)=>x.jsx(WN,{ref:r,className:$t("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t&&"pl-8",e),...n}));Sg.displayName=WN.displayName;const lz=R.forwardRef(({className:e,children:t,checked:n,...r},i)=>x.jsxs(VN,{ref:i,className:$t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),checked:n,...r,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(YN,{children:x.jsx(Zb,{className:"h-4 w-4"})})}),t]}));lz.displayName=VN.displayName;const cz=R.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(GN,{ref:r,className:$t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(YN,{children:x.jsx(y4,{className:"h-2 w-2 fill-current"})})}),t]}));cz.displayName=GN.displayName;const uz=R.forwardRef(({className:e,inset:t,...n},r)=>x.jsx(HN,{ref:r,className:$t("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));uz.displayName=HN.displayName;const nT=R.forwardRef(({className:e,...t},n)=>x.jsx(KN,{ref:n,className:$t("-mx-1 my-1 h-px bg-muted",e),...t}));nT.displayName=KN.displayName;const dz=()=>{const{user:e,signOut:t}=tl(),{energyLevel:n}=WB(),r=s=>s<=1?"bg-destructive":s===2?"bg-orange-500":s===3?"bg-yellow-500":s===4?"bg-lime-500":"bg-green-500",i=s=>["Exhausted","Low","Moderate","Good","Peak"][s-1]||"Unknown";return x.jsxs("header",{className:"p-4 sm:p-6 md:p-8 flex justify-between items-center glass sticky top-0 z-40 border-b border-border/50",children:[x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("h1",{className:"text-xl font-black tracking-tight leading-none text-blue-500 sm:text-3xl",children:"Flowmate"}),x.jsx("p",{className:"text-[8px] sm:text-[9px] font-bold text-muted-foreground uppercase tracking-[0.3em] sm:tracking-[0.4em] mt-1 sm:mt-1.5",children:"PRODUCTIVITY COMPANION"})]}),x.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[x.jsxs("div",{className:"text-right",children:[x.jsxs("p",{className:"text-[8px] font-bold uppercase tracking-widest mb-1 sm:text-sm text-blue-700",children:[x.jsx("span",{className:"hidden xs:inline",children:"ENERGY: "}),i(n)]}),x.jsx("div",{className:"flex justify-end gap-0.5 sm:gap-1",children:[1,2,3,4,5].map(s=>x.jsx("div",{className:$t("h-1.5 sm:h-2 w-3 sm:w-4 rounded-full transition-all duration-300",s<=n?r(n):"bg-muted")},s))})]}),x.jsxs(JN,{children:[x.jsx(QN,{asChild:!0,children:x.jsx("button",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-card rounded-full border border-border p-0.5 shadow-soft hover:border-primary/50 transition cursor-pointer shrink-0",children:x.jsx("img",{className:"rounded-full w-full h-full object-cover",src:`https://api.dicebear.com/7.x/avataaars/svg?seed=${e?.email||"Alex"}&backgroundColor=c0aede`,alt:"Avatar"})})}),x.jsxs(k2,{align:"end",className:"w-48",children:[x.jsx("div",{className:"px-2 py-1.5 border-b border-border mb-1",children:x.jsx("p",{className:"text-xs text-muted-foreground truncate",children:e?.email})}),x.jsxs(Sg,{onClick:t,className:"text-destructive cursor-pointer min-h-[44px]",children:[x.jsx(x4,{size:16,className:"mr-2"}),"Sign Out"]})]})]})]})]})},hz=[{id:"dashboard",icon:IO,label:"Dashboard"},{id:"ai",icon:m4,label:"AI"},{id:"notes",icon:Ky,label:"Notes"},{id:"focus",icon:w4,label:"Focus"},{id:"checkin",icon:VO,label:"Check-in"}],fz=({currentView:e,onViewChange:t})=>{const[n,r]=R.useState(!1),i=s=>{t(s),r(!1)};return x.jsxs("nav",{className:"fixed bottom-4 right-4 z-50",children:[x.jsx("div",{className:`absolute bottom-16 right-0 flex flex-col gap-2 transition-all duration-300 ${n?"opacity-100 translate-y-0":"opacity-0 translate-y-4 pointer-events-none"}`,children:hz.map(({id:s,icon:a,label:o})=>x.jsxs("button",{onClick:()=>i(s),"aria-label":o,className:`flex items-center gap-3 px-4 py-3 rounded-full transition-all duration-300 min-h-[48px] shadow-elevated ${e===s?"bg-primary text-primary-foreground shadow-glow":"glass-dark text-foreground hover:bg-secondary/40"}`,children:[x.jsx(a,{size:20}),x.jsx("span",{className:"text-sm font-medium whitespace-nowrap",children:o})]},s))}),x.jsx("button",{onClick:()=>r(!n),"aria-label":n?"Close menu":"Open menu",className:`w-14 h-14 rounded-full flex items-center justify-center shadow-elevated transition-all duration-300 ${n?"bg-secondary text-secondary-foreground rotate-180":"bg-primary text-primary-foreground shadow-glow"}`,children:n?x.jsx(Fh,{size:24}):x.jsx(RO,{size:24})})]})},R0={Q1:{id:"Q1_DO",title:"Urgent + Important",colorClass:"text-quadrant-urgent",bgClass:"bg-red-50 border-red-100",icon:""},Q2:{id:"Q2_SCHEDULE",title:"Not Urgent + Important",colorClass:"text-quadrant-schedule",bgClass:"bg-blue-50 border-blue-100",icon:""},Q3:{id:"Q3_DELEGATE",title:"Urgent + Not Important",colorClass:"text-quadrant-delegate",bgClass:"bg-amber-50 border-amber-100",icon:""},Q4:{id:"Q4_ELIMINATE",title:"Not Urgent + Not Important",colorClass:"text-muted-foreground",bgClass:"bg-secondary border-border",icon:""}};function SS(e){if(!e)return new Date(9999,11,31);const t=e.match(/(\w+)\s+(\d+),?\s+(\d{4})(?:\s+at\s+(\d+):(\d+)\s*(AM|PM)?)?/i);if(t){const[,r,i,s,a,o,l]=t,u=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].findIndex(g=>r.toLowerCase().startsWith(g));let f=parseInt(a||"0");return l?.toLowerCase()==="pm"&&f!==12&&(f+=12),l?.toLowerCase()==="am"&&f===12&&(f=0),new Date(parseInt(s),u,parseInt(i),f,parseInt(o||"0"))}const n=new Date(e);if(!isNaN(n.getTime()))return n;if(e.toLowerCase()==="today")return new Date;if(e.toLowerCase()==="tomorrow"){const r=new Date;return r.setDate(r.getDate()+1),r}return new Date(9999,11,31)}function im(e){return[...e].sort((t,n)=>{const r=SS(t.due),i=SS(n.due);return r.getTime()-i.getTime()})}function rT(){const[e,t]=R.useState([]),[n,r]=R.useState(!0),{user:i}=tl(),{toast:s}=Qo(),[a,o]=R.useState(null),[l,c]=R.useState(null),u=(p,y)=>{o(()=>p),c(()=>y)},f=R.useCallback(async()=>{if(!i){t([]),r(!1);return}try{const p=await Zh("tasks",i.id);if(p.length>0&&t(im(p)),navigator.onLine){const{data:y,error:b}=await Wt.from("tasks").select("*").eq("user_id",i.id);if(b)throw b;const k=(y||[]).map(L=>({id:L.id,title:L.title,quadrant:L.quadrant,energy:L.energy,duration:L.duration,status:L.status,due:L.due||""}));for(const L of k)await Ys("tasks",{...L,user_id:i.id});t(im(k))}}catch(p){console.error("Error loading tasks:",p)}finally{r(!1)}},[i]);R.useEffect(()=>{f()},[f]);const g=async p=>{if(!i)return null;const y={...p,id:crypto.randomUUID()};if(t(b=>im([y,...b])),await Ys("tasks",{...y,user_id:i.id}),navigator.onLine)try{const{error:b}=await Wt.from("tasks").insert({id:y.id,user_id:i.id,title:y.title,quadrant:y.quadrant,energy:y.energy,duration:y.duration,status:y.status,due:y.due});if(b)throw b;s({title:"Task created",description:"Your task has been saved"})}catch(b){console.error("Error saving task to server:",b),await pr("create","tasks",y.id,{...y,user_id:i.id}),s({title:"Saved offline",description:"Task will sync when you're back online"})}else await pr("create","tasks",y.id,{...y,user_id:i.id}),s({title:"Saved offline",description:"Task will sync when you're back online"});return y},d=async(p,y)=>{if(!i)return;t(L=>{const j=L.map(D=>D.id===p?{...D,...y}:D);return y.due!==void 0?im(j):j});const b=e.find(L=>L.id===p);if(!b)return;const k={...b,...y,user_id:i.id};if(await Ys("tasks",k),navigator.onLine)try{const{error:L}=await Wt.from("tasks").update({title:k.title,quadrant:k.quadrant,energy:k.energy,duration:k.duration,status:k.status,due:k.due}).eq("id",p).eq("user_id",i.id);if(L)throw L}catch(L){console.error("Error updating task:",L),await pr("update","tasks",p,k)}else await pr("update","tasks",p,k)};return{tasks:e,loading:n,addTask:g,updateTask:d,deleteTask:async p=>{if(i)if(t(y=>y.filter(b=>b.id!==p)),await gw("tasks",p),navigator.onLine)try{const{error:y}=await Wt.from("tasks").delete().eq("id",p).eq("user_id",i.id);if(y)throw y}catch(y){console.error("Error deleting task:",y),await pr("delete","tasks",p,{})}else await pr("delete","tasks",p,{})},toggleTaskComplete:async p=>{const y=e.find(k=>k.id===p);if(!y)return;const b=y.status==="completed"?"pending":"completed";await d(p,{status:b}),b==="completed"&&a?a(y.energy):b==="pending"&&l&&l(y.energy),s({title:b==="completed"?"Task completed! ":"Task reopened",description:y.title})},autoFixMissedTasks:async()=>{const p=e.filter(y=>y.status==="missed");for(const y of p)await d(y.id,{status:"pending",due:"Tomorrow"});s({title:"Tasks rescheduled",description:`${p.length} task(s) moved to tomorrow`})},reload:f,registerXPCallbacks:u}}var C2={};(function e(t,n,r,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!t.OffscreenCanvas)return!1;try{var oe=new OffscreenCanvas(1,1),K=oe.getContext("2d");K.fillRect(0,0,1,1);var B=oe.transferToImageBitmap();K.createPattern(B,"no-repeat")}catch{return!1}return!0}();function l(){}function c(oe){var K=n.exports.Promise,B=K!==void 0?K:t.Promise;return typeof B=="function"?new B(oe):(oe(l,l),null)}var u=function(oe,K){return{transform:function(B){if(oe)return B;if(K.has(B))return K.get(B);var X=new OffscreenCanvas(B.width,B.height),ne=X.getContext("2d");return ne.drawImage(B,0,0),K.set(B,X),X},clear:function(){K.clear()}}}(o,new Map),f=function(){var oe=Math.floor(16.666666666666668),K,B,X={},ne=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(K=function(Z){var te=Math.random();return X[te]=requestAnimationFrame(function E(T){ne===T||ne+oe-1<T?(ne=T,delete X[te],Z()):X[te]=requestAnimationFrame(E)}),te},B=function(Z){X[Z]&&cancelAnimationFrame(X[Z])}):(K=function(Z){return setTimeout(Z,oe)},B=function(Z){return clearTimeout(Z)}),{frame:K,cancel:B}}(),g=function(){var oe,K,B={};function X(ne){function Z(te,E){ne.postMessage({options:te||{},callback:E})}ne.init=function(E){var T=E.transferControlToOffscreen();ne.postMessage({canvas:T},[T])},ne.fire=function(E,T,S){if(K)return Z(E,null),K;var _=Math.random().toString(36).slice(2);return K=c(function(C){function P(O){O.data.callback===_&&(delete B[_],ne.removeEventListener("message",P),K=null,u.clear(),S(),C())}ne.addEventListener("message",P),Z(E,_),B[_]=P.bind(null,{data:{callback:_}})}),K},ne.reset=function(){ne.postMessage({reset:!0});for(var E in B)B[E](),delete B[E]}}return function(){if(oe)return oe;if(!r&&s){var ne=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{oe=new Worker(URL.createObjectURL(new Blob([ne])))}catch(Z){return typeof console<"u"&&typeof console.warn=="function"&&console.warn(" Could not load worker",Z),null}X(oe)}return oe}}(),d={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function m(oe,K){return K?K(oe):oe}function v(oe){return oe!=null}function h(oe,K,B){return m(oe&&v(oe[K])?oe[K]:d[K],B)}function p(oe){return oe<0?0:Math.floor(oe)}function y(oe,K){return Math.floor(Math.random()*(K-oe))+oe}function b(oe){return parseInt(oe,16)}function k(oe){return oe.map(L)}function L(oe){var K=String(oe).replace(/[^0-9a-f]/gi,"");return K.length<6&&(K=K[0]+K[0]+K[1]+K[1]+K[2]+K[2]),{r:b(K.substring(0,2)),g:b(K.substring(2,4)),b:b(K.substring(4,6))}}function j(oe){var K=h(oe,"origin",Object);return K.x=h(K,"x",Number),K.y=h(K,"y",Number),K}function D(oe){oe.width=document.documentElement.clientWidth,oe.height=document.documentElement.clientHeight}function q(oe){var K=oe.getBoundingClientRect();oe.width=K.width,oe.height=K.height}function z(oe){var K=document.createElement("canvas");return K.style.position="fixed",K.style.top="0px",K.style.left="0px",K.style.pointerEvents="none",K.style.zIndex=oe,K}function ee(oe,K,B,X,ne,Z,te,E,T){oe.save(),oe.translate(K,B),oe.rotate(Z),oe.scale(X,ne),oe.arc(0,0,1,te,E,T),oe.restore()}function $(oe){var K=oe.angle*(Math.PI/180),B=oe.spread*(Math.PI/180);return{x:oe.x,y:oe.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:oe.startVelocity*.5+Math.random()*oe.startVelocity,angle2D:-K+(.5*B-Math.random()*B),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:oe.color,shape:oe.shape,tick:0,totalTicks:oe.ticks,decay:oe.decay,drift:oe.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:oe.gravity*3,ovalScalar:.6,scalar:oe.scalar,flat:oe.flat}}function H(oe,K){K.x+=Math.cos(K.angle2D)*K.velocity+K.drift,K.y+=Math.sin(K.angle2D)*K.velocity+K.gravity,K.velocity*=K.decay,K.flat?(K.wobble=0,K.wobbleX=K.x+10*K.scalar,K.wobbleY=K.y+10*K.scalar,K.tiltSin=0,K.tiltCos=0,K.random=1):(K.wobble+=K.wobbleSpeed,K.wobbleX=K.x+10*K.scalar*Math.cos(K.wobble),K.wobbleY=K.y+10*K.scalar*Math.sin(K.wobble),K.tiltAngle+=.1,K.tiltSin=Math.sin(K.tiltAngle),K.tiltCos=Math.cos(K.tiltAngle),K.random=Math.random()+2);var B=K.tick++/K.totalTicks,X=K.x+K.random*K.tiltCos,ne=K.y+K.random*K.tiltSin,Z=K.wobbleX+K.random*K.tiltCos,te=K.wobbleY+K.random*K.tiltSin;if(oe.fillStyle="rgba("+K.color.r+", "+K.color.g+", "+K.color.b+", "+(1-B)+")",oe.beginPath(),a&&K.shape.type==="path"&&typeof K.shape.path=="string"&&Array.isArray(K.shape.matrix))oe.fill(fe(K.shape.path,K.shape.matrix,K.x,K.y,Math.abs(Z-X)*.1,Math.abs(te-ne)*.1,Math.PI/10*K.wobble));else if(K.shape.type==="bitmap"){var E=Math.PI/10*K.wobble,T=Math.abs(Z-X)*.1,S=Math.abs(te-ne)*.1,_=K.shape.bitmap.width*K.scalar,C=K.shape.bitmap.height*K.scalar,P=new DOMMatrix([Math.cos(E)*T,Math.sin(E)*T,-Math.sin(E)*S,Math.cos(E)*S,K.x,K.y]);P.multiplySelf(new DOMMatrix(K.shape.matrix));var O=oe.createPattern(u.transform(K.shape.bitmap),"no-repeat");O.setTransform(P),oe.globalAlpha=1-B,oe.fillStyle=O,oe.fillRect(K.x-_/2,K.y-C/2,_,C),oe.globalAlpha=1}else if(K.shape==="circle")oe.ellipse?oe.ellipse(K.x,K.y,Math.abs(Z-X)*K.ovalScalar,Math.abs(te-ne)*K.ovalScalar,Math.PI/10*K.wobble,0,2*Math.PI):ee(oe,K.x,K.y,Math.abs(Z-X)*K.ovalScalar,Math.abs(te-ne)*K.ovalScalar,Math.PI/10*K.wobble,0,2*Math.PI);else if(K.shape==="star")for(var U=Math.PI/2*3,M=4*K.scalar,J=8*K.scalar,pe=K.x,de=K.y,he=5,xe=Math.PI/he;he--;)pe=K.x+Math.cos(U)*J,de=K.y+Math.sin(U)*J,oe.lineTo(pe,de),U+=xe,pe=K.x+Math.cos(U)*M,de=K.y+Math.sin(U)*M,oe.lineTo(pe,de),U+=xe;else oe.moveTo(Math.floor(K.x),Math.floor(K.y)),oe.lineTo(Math.floor(K.wobbleX),Math.floor(ne)),oe.lineTo(Math.floor(Z),Math.floor(te)),oe.lineTo(Math.floor(X),Math.floor(K.wobbleY));return oe.closePath(),oe.fill(),K.tick<K.totalTicks}function ae(oe,K,B,X,ne){var Z=K.slice(),te=oe.getContext("2d"),E,T,S=c(function(_){function C(){E=T=null,te.clearRect(0,0,X.width,X.height),u.clear(),ne(),_()}function P(){r&&!(X.width===i.width&&X.height===i.height)&&(X.width=oe.width=i.width,X.height=oe.height=i.height),!X.width&&!X.height&&(B(oe),X.width=oe.width,X.height=oe.height),te.clearRect(0,0,X.width,X.height),Z=Z.filter(function(O){return H(te,O)}),Z.length?E=f.frame(P):C()}E=f.frame(P),T=C});return{addFettis:function(_){return Z=Z.concat(_),S},canvas:oe,promise:S,reset:function(){E&&f.cancel(E),T&&T()}}}function Y(oe,K){var B=!oe,X=!!h(K||{},"resize"),ne=!1,Z=h(K,"disableForReducedMotion",Boolean),te=s&&!!h(K||{},"useWorker"),E=te?g():null,T=B?D:q,S=oe&&E?!!oe.__confetti_initialized:!1,_=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,C;function P(U,M,J){for(var pe=h(U,"particleCount",p),de=h(U,"angle",Number),he=h(U,"spread",Number),xe=h(U,"startVelocity",Number),ve=h(U,"decay",Number),ce=h(U,"gravity",Number),ge=h(U,"drift",Number),Pe=h(U,"colors",k),ke=h(U,"ticks",Number),Re=h(U,"shapes"),Fe=h(U,"scalar"),Ue=!!h(U,"flat"),Me=j(U),Be=pe,De=[],lt=oe.width*Me.x,Je=oe.height*Me.y;Be--;)De.push($({x:lt,y:Je,angle:de,spread:he,startVelocity:xe,color:Pe[Be%Pe.length],shape:Re[y(0,Re.length)],ticks:ke,decay:ve,gravity:ce,drift:ge,scalar:Fe,flat:Ue}));return C?C.addFettis(De):(C=ae(oe,De,T,M,J),C.promise)}function O(U){var M=Z||h(U,"disableForReducedMotion",Boolean),J=h(U,"zIndex",Number);if(M&&_)return c(function(xe){xe()});B&&C?oe=C.canvas:B&&!oe&&(oe=z(J),document.body.appendChild(oe)),X&&!S&&T(oe);var pe={width:oe.width,height:oe.height};E&&!S&&E.init(oe),S=!0,E&&(oe.__confetti_initialized=!0);function de(){if(E){var xe={getBoundingClientRect:function(){if(!B)return oe.getBoundingClientRect()}};T(xe),E.postMessage({resize:{width:xe.width,height:xe.height}});return}pe.width=pe.height=null}function he(){C=null,X&&(ne=!1,t.removeEventListener("resize",de)),B&&oe&&(document.body.contains(oe)&&document.body.removeChild(oe),oe=null,S=!1)}return X&&!ne&&(ne=!0,t.addEventListener("resize",de,!1)),E?E.fire(U,pe,he):P(U,pe,he)}return O.reset=function(){E&&E.reset(),C&&C.reset()},O}var Q;function ie(){return Q||(Q=Y(null,{useWorker:!0,resize:!0})),Q}function fe(oe,K,B,X,ne,Z,te){var E=new Path2D(oe),T=new Path2D;T.addPath(E,new DOMMatrix(K));var S=new Path2D;return S.addPath(T,new DOMMatrix([Math.cos(te)*ne,Math.sin(te)*ne,-Math.sin(te)*Z,Math.cos(te)*Z,B,X])),S}function W(oe){if(!a)throw new Error("path confetti are not supported in this browser");var K,B;typeof oe=="string"?K=oe:(K=oe.path,B=oe.matrix);var X=new Path2D(K),ne=document.createElement("canvas"),Z=ne.getContext("2d");if(!B){for(var te=1e3,E=te,T=te,S=0,_=0,C,P,O=0;O<te;O+=2)for(var U=0;U<te;U+=2)Z.isPointInPath(X,O,U,"nonzero")&&(E=Math.min(E,O),T=Math.min(T,U),S=Math.max(S,O),_=Math.max(_,U));C=S-E,P=_-T;var M=10,J=Math.min(M/C,M/P);B=[J,0,0,J,-Math.round(C/2+E)*J,-Math.round(P/2+T)*J]}return{type:"path",path:K,matrix:B}}function se(oe){var K,B=1,X="#000000",ne='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof oe=="string"?K=oe:(K=oe.text,B="scalar"in oe?oe.scalar:B,ne="fontFamily"in oe?oe.fontFamily:ne,X="color"in oe?oe.color:X);var Z=10*B,te=""+Z+"px "+ne,E=new OffscreenCanvas(Z,Z),T=E.getContext("2d");T.font=te;var S=T.measureText(K),_=Math.ceil(S.actualBoundingBoxRight+S.actualBoundingBoxLeft),C=Math.ceil(S.actualBoundingBoxAscent+S.actualBoundingBoxDescent),P=2,O=S.actualBoundingBoxLeft+P,U=S.actualBoundingBoxAscent+P;_+=P+P,C+=P+P,E=new OffscreenCanvas(_,C),T=E.getContext("2d"),T.font=te,T.fillStyle=X,T.fillText(K,O,U);var M=1/B;return{type:"bitmap",bitmap:E.transferToImageBitmap(),matrix:[M,0,0,M,-_*M/2,-C*M/2]}}n.exports=function(){return ie().apply(this,arguments)},n.exports.reset=function(){ie().reset()},n.exports.create=Y,n.exports.shapeFromPath=W,n.exports.shapeFromText=se})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),C2,!1);const pz=C2.exports;C2.exports.create;function AS(e){return 1e3+Math.floor(e/10)*1e3}function g1(e){return 50+Math.floor(e/10)*25}function E2(){const[e,t]=R.useState(null),[n,r]=R.useState(!0),{user:i}=tl(),s=R.useCallback(async()=>{if(!i){t(null),r(!1);return}try{const{data:u,error:f}=await Wt.from("user_progress").select("*").eq("user_id",i.id).maybeSingle();if(f)throw f;if(u)t(u);else{const{data:g,error:d}=await Wt.from("user_progress").insert({user_id:i.id}).select().single();if(d)throw d;t(g)}}catch(u){console.error("Error loading progress:",u)}finally{r(!1)}},[i]);R.useEffect(()=>{s()},[s]);const a=()=>{const f={origin:{y:.7},zIndex:9999};function g(d,m){pz({...f,...m,particleCount:Math.floor(200*d)})}g(.25,{spread:26,startVelocity:55,origin:{x:.2,y:.7}}),g(.2,{spread:60,origin:{x:.5,y:.7}}),g(.35,{spread:100,decay:.91,scalar:.8,origin:{x:.8,y:.7}}),g(.1,{spread:120,startVelocity:25,decay:.92,scalar:1.2,origin:{x:.5,y:.5}}),g(.1,{spread:120,startVelocity:45,origin:{x:.5,y:.6}})};return{progress:e,loading:n,addXP:async u=>{if(!i||!e)return{leveledUp:!1,newLevel:0};const f=g1(e.current_level),g=u*f;let d=e.current_xp+g,m=e.current_level,v=!1;for(;m<100;){const h=AS(m);if(d>=h)d-=h,m++,v=!0;else break}m>=100&&(m=100,d=0);try{const{error:h}=await Wt.from("user_progress").update({current_xp:d,current_level:m,total_xp_earned:e.total_xp_earned+g}).eq("user_id",i.id);if(h)throw h;return t(p=>p?{...p,current_xp:d,current_level:m,total_xp_earned:p.total_xp_earned+g}:null),v&&a(),{leveledUp:v,newLevel:m}}catch(h){return console.error("Error updating progress:",h),{leveledUp:!1,newLevel:e.current_level}}},removeXP:async u=>{if(!i||!e)return;const f=g1(e.current_level),g=u*f,d=Math.max(0,e.current_xp-g);try{const{error:m}=await Wt.from("user_progress").update({current_xp:d,total_xp_earned:Math.max(0,e.total_xp_earned-g)}).eq("user_id",i.id);if(m)throw m;t(v=>v?{...v,current_xp:d,total_xp_earned:Math.max(0,v.total_xp_earned-g)}:null)}catch(m){console.error("Error removing XP:",m)}},getXPProgress:()=>{if(!e)return{current:0,required:1e3,percentage:0};const u=AS(e.current_level),f=Math.min(e.current_xp/u*100,100);return{current:e.current_xp,required:u,percentage:f}},getXPPerEnergy:()=>e?g1(e.current_level):50,reload:s}}const mz=({task:e,onEdit:t,onMoveToQuadrant:n})=>{const r=Object.values(R0).filter(i=>i.id!==e.quadrant);return x.jsxs(JN,{children:[x.jsx(QN,{asChild:!0,children:x.jsx("button",{className:"p-2 rounded-full hover:bg-secondary transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",onClick:i=>i.stopPropagation(),children:x.jsx(SO,{size:18,className:"text-muted-foreground"})})}),x.jsxs(k2,{align:"end",className:"w-48",children:[x.jsxs(Sg,{onClick:i=>{i.stopPropagation(),t()},className:"min-h-[44px]",children:[x.jsx(UO,{className:"mr-2 h-4 w-4"}),"Modify Task"]}),x.jsx(nT,{}),x.jsxs(oz,{children:[x.jsxs(eT,{className:"min-h-[44px]",children:[x.jsx(p4,{className:"mr-2 h-4 w-4"}),"Move to Quadrant"]}),x.jsx(tT,{children:r.map(i=>x.jsxs(Sg,{onClick:s=>{s.stopPropagation(),n(i.id)},className:"min-h-[44px]",children:[i.icon," ",i.title]},i.id))})]})]})]})},gz=({task:e,onClick:t,onToggleComplete:n,onEdit:r,onMoveToQuadrant:i})=>{const s=a=>{a.stopPropagation(),n?.()};return x.jsxs("div",{onClick:t,className:"bg-card/90 backdrop-blur-sm p-3.5 rounded-pill-sm shadow-soft border border-border/50 flex justify-between items-center group cursor-pointer hover:scale-[1.02] hover:shadow-md transition-all duration-200",children:[x.jsxs("div",{className:`flex-1 min-w-0 ${e.status==="completed"?"opacity-50":""}`,children:[x.jsx("p",{className:`text-sm font-bold truncate ${e.status==="missed"?"text-destructive":e.status==="completed"?"text-muted-foreground line-through":"text-foreground"}`,children:e.title}),x.jsxs("div",{className:"flex gap-2 text-[10px] mt-1 text-muted-foreground font-bold uppercase tracking-wide",children:[x.jsx("span",{className:"truncate",children:e.due}),x.jsx("span",{children:""}),x.jsxs("span",{children:[e.energy,""]}),x.jsx("span",{children:""}),x.jsxs("span",{children:[e.duration,"min"]})]})]}),x.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0",children:[r&&i&&x.jsx(mz,{task:e,onEdit:r,onMoveToQuadrant:i}),x.jsx("button",{onClick:s,className:"p-2 rounded-full transition-colors min-w-[44px] min-h-[44px] flex items-center justify-center",title:e.status==="completed"?"Mark as pending":"Mark as completed",children:e.status==="completed"?x.jsx(v4,{size:20,className:"text-green-500 fill-green-500/20"}):x.jsx(y4,{size:20,className:"text-border group-hover:text-green-500 transition-colors"})})]})]})},vz=({quadrant:e,tasks:t,onTaskClick:n,onToggleComplete:r,onEditTask:i,onMoveToQuadrant:s})=>{const a=t.filter(o=>o.quadrant===e.id);return x.jsxs("div",{className:`p-4 rounded-pill border-2 ${e.bgClass} min-h-[180px] shadow-soft transition-all hover:shadow-md`,children:[x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx("span",{className:"text-xl drop-shadow-sm",children:e.icon}),x.jsx("h3",{className:`font-bold uppercase text-[10px] tracking-widest ${e.colorClass} opacity-80`,children:e.title}),x.jsx("span",{className:"ml-auto bg-background/50 px-2 py-0.5 rounded-full text-[10px] font-bold text-muted-foreground",children:a.length})]}),x.jsxs("div",{className:"space-y-2",children:[a.map(o=>x.jsx(gz,{task:o,onClick:()=>n(o),onToggleComplete:()=>r(o.id),onEdit:()=>i(o),onMoveToQuadrant:l=>s(o.id,l)},o.id)),a.length===0&&x.jsx("p",{className:"text-xs text-muted-foreground italic opacity-60 text-center py-4",children:"No tasks here"})]})]})};function tn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Li(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Gr(e,t){const n=tn(e);return isNaN(t)?Li(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ks(e,t){const n=tn(e);if(isNaN(t))return Li(e,NaN);if(!t)return n;const r=n.getDate(),i=Li(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const N2=6048e5,yz=864e5;let wz={};function Mf(){return wz}function oa(e,t){const n=Mf(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=tn(e),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Zl(e){return oa(e,{weekStartsOn:1})}function iT(e){const t=tn(e),n=t.getFullYear(),r=Li(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Zl(r),s=Li(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Zl(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function Lu(e){const t=tn(e);return t.setHours(0,0,0,0),t}function Ag(e){const t=tn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Zs(e,t){const n=Lu(e),r=Lu(t),i=+n-Ag(n),s=+r-Ag(r);return Math.round((i-s)/yz)}function bz(e){const t=iT(e),n=Li(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Zl(n)}function bw(e,t){const n=t*7;return Gr(e,n)}function xz(e,t){return ks(e,t*12)}function _z(e){let t;return e.forEach(function(n){const r=tn(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function Sz(e){let t;return e.forEach(n=>{const r=tn(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function si(e,t){const n=Lu(e),r=Lu(t);return+n==+r}function T2(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Az(e){if(!T2(e)&&typeof e!="number")return!1;const t=tn(e);return!isNaN(Number(t))}function ef(e,t){const n=tn(e),r=tn(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function kz(e,t,n){const r=oa(e,n),i=oa(t,n),s=+r-Ag(r),a=+i-Ag(i);return Math.round((s-a)/N2)}function P2(e){const t=tn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function ui(e){const t=tn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function sT(e){const t=tn(e),n=Li(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function R2(e,t){const n=Mf(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=tn(e),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function aT(e){return R2(e,{weekStartsOn:1})}const Cz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ez=(e,t,n)=>{let r;const i=Cz[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function v1(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const Nz={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Tz={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Pz={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rz={date:v1({formats:Nz,defaultWidth:"full"}),time:v1({formats:Tz,defaultWidth:"full"}),dateTime:v1({formats:Pz,defaultWidth:"full"})},Lz={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Iz=(e,t,n,r)=>Lz[e];function qd(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=n?.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=n?.width?String(n.width):e.defaultWidth;i=e.values[o]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const Mz={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Oz={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},jz={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Dz={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Fz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bz={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Uz=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$z={ordinalNumber:Uz,era:qd({values:Mz,defaultWidth:"wide"}),quarter:qd({values:Oz,defaultWidth:"wide",argumentCallback:e=>e-1}),month:qd({values:jz,defaultWidth:"wide"}),day:qd({values:Dz,defaultWidth:"wide"}),dayPeriod:qd({values:Fz,defaultWidth:"wide",formattingValues:Bz,defaultFormattingWidth:"wide"})};function Hd(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?qz(o,f=>f.test(a)):zz(o,f=>f.test(a));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const u=t.slice(a.length);return{value:c,rest:u}}}function zz(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function qz(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Hz(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=t.slice(i.length);return{value:a,rest:o}}}const Wz=/^(\d+)(th|st|nd|rd)?/i,Vz=/\d+/i,Gz={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Yz={any:[/^b/i,/^(a|c)/i]},Kz={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Xz={any:[/1/i,/2/i,/3/i,/4/i]},Zz={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jz={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Qz={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eq={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tq={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nq={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rq={ordinalNumber:Hz({matchPattern:Wz,parsePattern:Vz,valueCallback:e=>parseInt(e,10)}),era:Hd({matchPatterns:Gz,defaultMatchWidth:"wide",parsePatterns:Yz,defaultParseWidth:"any"}),quarter:Hd({matchPatterns:Kz,defaultMatchWidth:"wide",parsePatterns:Xz,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Hd({matchPatterns:Zz,defaultMatchWidth:"wide",parsePatterns:Jz,defaultParseWidth:"any"}),day:Hd({matchPatterns:Qz,defaultMatchWidth:"wide",parsePatterns:eq,defaultParseWidth:"any"}),dayPeriod:Hd({matchPatterns:tq,defaultMatchWidth:"any",parsePatterns:nq,defaultParseWidth:"any"})},oT={code:"en-US",formatDistance:Ez,formatLong:Rz,formatRelative:Iz,localize:$z,match:rq,options:{weekStartsOn:0,firstWeekContainsDate:1}};function iq(e){const t=tn(e);return Zs(t,sT(t))+1}function lT(e){const t=tn(e),n=+Zl(t)-+bz(t);return Math.round(n/N2)+1}function cT(e,t){const n=tn(e),r=n.getFullYear(),i=Mf(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,a=Li(e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=oa(a,t),l=Li(e,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=oa(l,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function sq(e,t){const n=Mf(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,i=cT(e,t),s=Li(e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),oa(s,t)}function uT(e,t){const n=tn(e),r=+oa(n,t)-+sq(n,t);return Math.round(r/N2)+1}function dn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const ho={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return dn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):dn(n+1,2)},d(e,t){return dn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return dn(e.getHours()%12||12,t.length)},H(e,t){return dn(e.getHours(),t.length)},m(e,t){return dn(e.getMinutes(),t.length)},s(e,t){return dn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return dn(i,t.length)}},Dc={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},kS={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ho.y(e,t)},Y:function(e,t,n,r){const i=cT(e,r),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return dn(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):dn(s,t.length)},R:function(e,t){const n=iT(e);return dn(n,t.length)},u:function(e,t){const n=e.getFullYear();return dn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return dn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return dn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return ho.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return dn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=uT(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):dn(i,t.length)},I:function(e,t,n){const r=lT(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):dn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):ho.d(e,t)},D:function(e,t,n){const r=iq(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):dn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return dn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return dn(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return dn(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=Dc.noon:r===0?i=Dc.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=Dc.evening:r>=12?i=Dc.afternoon:r>=4?i=Dc.morning:i=Dc.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ho.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):ho.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):dn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):dn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):ho.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):ho.s(e,t)},S:function(e,t){return ho.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return ES(r);case"XXXX":case"XX":return Nl(r);case"XXXXX":case"XXX":default:return Nl(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return ES(r);case"xxxx":case"xx":return Nl(r);case"xxxxx":case"xxx":default:return Nl(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+CS(r,":");case"OOOO":default:return"GMT"+Nl(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+CS(r,":");case"zzzz":default:return"GMT"+Nl(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return dn(r,t.length)},T:function(e,t,n){const r=e.getTime();return dn(r,t.length)}};function CS(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+dn(s,2)}function ES(e,t){return e%60===0?(e>0?"-":"+")+dn(Math.abs(e)/60,2):Nl(e,t)}function Nl(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=dn(Math.trunc(r/60),2),s=dn(r%60,2);return n+i+t+s}const NS=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},dT=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},aq=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return NS(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",NS(r,t)).replace("{{time}}",dT(i,t))},oq={p:dT,P:aq},lq=/^D+$/,cq=/^Y+$/,uq=["D","DD","YY","YYYY"];function dq(e){return lq.test(e)}function hq(e){return cq.test(e)}function fq(e,t,n){const r=pq(e,t,n);if(console.warn(r),uq.includes(e))throw new RangeError(r)}function pq(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mq=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gq=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,vq=/^'([^]*?)'?$/,yq=/''/g,wq=/[a-zA-Z]/;function dr(e,t,n){const r=Mf(),i=n?.locale??r.locale??oT,s=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,o=tn(e);if(!Az(o))throw new RangeError("Invalid time value");let l=t.match(gq).map(u=>{const f=u[0];if(f==="p"||f==="P"){const g=oq[f];return g(u,i.formatLong)}return u}).join("").match(mq).map(u=>{if(u==="''")return{isToken:!1,value:"'"};const f=u[0];if(f==="'")return{isToken:!1,value:bq(u)};if(kS[f])return{isToken:!0,value:u};if(f.match(wq))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:u}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(u=>{if(!u.isToken)return u.value;const f=u.value;(!n?.useAdditionalWeekYearTokens&&hq(f)||!n?.useAdditionalDayOfYearTokens&&dq(f))&&fq(f,t,String(e));const g=kS[f[0]];return g(o,f,i.localize,c)}).join("")}function bq(e){const t=e.match(vq);return t?t[1].replace(yq,"'"):e}function xq(e){const t=tn(e),n=t.getFullYear(),r=t.getMonth(),i=Li(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function _q(e){return Math.trunc(+tn(e)/1e3)}function Sq(e){const t=tn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function Aq(e,t){return kz(Sq(e),ui(e),t)+1}function xw(e,t){const n=tn(e),r=tn(t);return n.getTime()>r.getTime()}function hT(e,t){const n=tn(e),r=tn(t);return+n<+r}function L2(e,t){const n=tn(e),r=tn(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function kq(e,t){const n=tn(e),r=tn(t);return n.getFullYear()===r.getFullYear()}function y1(e,t){return Gr(e,-t)}function w1(e,t){const n=tn(e),r=n.getFullYear(),i=n.getDate(),s=Li(e,0);s.setFullYear(r,t,15),s.setHours(0,0,0,0);const a=xq(s);return n.setMonth(t,Math.min(i,a)),n}function TS(e,t){const n=tn(e);return isNaN(+n)?Li(e,NaN):(n.setFullYear(t),n)}var L0="Dialog",[fT,XZ]=Qi(L0),[Cq,Ps]=fT(L0),pT=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=R.useRef(null),l=R.useRef(null),[c,u]=$a({prop:r,defaultProp:i??!1,onChange:s,caller:L0});return x.jsx(Cq,{scope:t,triggerRef:o,contentRef:l,contentId:Ti(),titleId:Ti(),descriptionId:Ti(),open:c,onOpenChange:u,onOpenToggle:R.useCallback(()=>u(f=>!f),[u]),modal:a,children:n})};pT.displayName=L0;var mT="DialogTrigger",gT=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ps(mT,n),s=Xt(t,i.triggerRef);return x.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":O2(i.open),...r,ref:s,onClick:Ke(e.onClick,i.onOpenToggle)})});gT.displayName=mT;var I2="DialogPortal",[Eq,vT]=fT(I2,{forceMount:void 0}),yT=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=Ps(I2,t);return x.jsx(Eq,{scope:t,forceMount:n,children:R.Children.map(r,a=>x.jsx(ji,{present:n||s.open,children:x.jsx(Gu,{asChild:!0,container:i,children:a})}))})};yT.displayName=I2;var kg="DialogOverlay",wT=R.forwardRef((e,t)=>{const n=vT(kg,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Ps(kg,e.__scopeDialog);return s.modal?x.jsx(ji,{present:r||s.open,children:x.jsx(Tq,{...i,ref:t})}):null});wT.displayName=kg;var Nq=Ho("DialogOverlay.RemoveScroll"),Tq=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ps(kg,n);return x.jsx(Pf,{as:Nq,allowPinchZoom:!0,shards:[i.contentRef],children:x.jsx(At.div,{"data-state":O2(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Jl="DialogContent",bT=R.forwardRef((e,t)=>{const n=vT(Jl,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=Ps(Jl,e.__scopeDialog);return x.jsx(ji,{present:r||s.open,children:s.modal?x.jsx(Pq,{...i,ref:t}):x.jsx(Rq,{...i,ref:t})})});bT.displayName=Jl;var Pq=R.forwardRef((e,t)=>{const n=Ps(Jl,e.__scopeDialog),r=R.useRef(null),i=Xt(t,n.contentRef,r);return R.useEffect(()=>{const s=r.current;if(s)return E0(s)},[]),x.jsx(xT,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Ke(e.onFocusOutside,s=>s.preventDefault())})}),Rq=R.forwardRef((e,t)=>{const n=Ps(Jl,e.__scopeDialog),r=R.useRef(!1),i=R.useRef(!1);return x.jsx(xT,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),xT=R.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=Ps(Jl,n),l=R.useRef(null),c=Xt(t,l);return C0(),x.jsxs(x.Fragment,{children:[x.jsx(Nf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:x.jsx(lc,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":O2(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),x.jsxs(x.Fragment,{children:[x.jsx(Lq,{titleId:o.titleId}),x.jsx(Mq,{contentRef:l,descriptionId:o.descriptionId})]})]})}),M2="DialogTitle",_T=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ps(M2,n);return x.jsx(At.h2,{id:i.titleId,...r,ref:t})});_T.displayName=M2;var ST="DialogDescription",AT=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ps(ST,n);return x.jsx(At.p,{id:i.descriptionId,...r,ref:t})});AT.displayName=ST;var kT="DialogClose",CT=R.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=Ps(kT,n);return x.jsx(At.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});CT.displayName=kT;function O2(e){return e?"open":"closed"}var ET="DialogTitleWarning",[ZZ,NT]=kM(ET,{contentName:Jl,titleName:M2,docsSlug:"dialog"}),Lq=({titleId:e})=>{const t=NT(ET),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return R.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Iq="DialogDescriptionWarning",Mq=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NT(Iq).contentName}}.`;return R.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},Oq=pT,jq=gT,Dq=yT,TT=wT,PT=bT,RT=_T,LT=AT,Fq=CT;const tf=Oq,Cg=jq,Bq=Dq,IT=R.forwardRef(({className:e,...t},n)=>x.jsx(TT,{ref:n,className:$t("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));IT.displayName=TT.displayName;const Iu=R.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(Bq,{children:[x.jsx(IT,{}),x.jsxs(PT,{ref:r,className:$t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,x.jsxs(Fq,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[x.jsx(Fh,{className:"h-4 w-4"}),x.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Iu.displayName=PT.displayName;const Mu=({className:e,...t})=>x.jsx("div",{className:$t("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Mu.displayName="DialogHeader";const Ou=R.forwardRef(({className:e,...t},n)=>x.jsx(RT,{ref:n,className:$t("text-lg font-semibold leading-none tracking-tight",e),...t}));Ou.displayName=RT.displayName;const Uq=R.forwardRef(({className:e,...t},n)=>x.jsx(LT,{ref:n,className:$t("text-sm text-muted-foreground",e),...t}));Uq.displayName=LT.displayName;const _w=Xb("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Qt=R.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?EM:"button";return x.jsx(a,{className:$t(_w({variant:t,size:n,className:e})),ref:s,...i})});Qt.displayName="Button";const Cs=R.forwardRef(({className:e,type:t,...n},r)=>x.jsx("input",{type:t,className:$t("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));Cs.displayName="Input";var $q="Label",MT=R.forwardRef((e,t)=>x.jsx(At.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MT.displayName=$q;var OT=MT;const zq=Xb("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ws=R.forwardRef(({className:e,...t},n)=>x.jsx(OT,{ref:n,className:$t(zq(),e),...t}));ws.displayName=OT.displayName;function PS(e,[t,n]){return Math.min(n,Math.max(t,e))}function qq(e){const t=R.useRef({value:e,previous:e});return R.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Hq=[" ","Enter","ArrowUp","ArrowDown"],Wq=[" ","Enter"],Ql="Select",[I0,M0,Vq]=o0(Ql),[ed,JZ]=Qi(Ql,[Vq,el]),O0=el(),[Gq,rl]=ed(Ql),[Yq,Kq]=ed(Ql),jT=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:g,required:d,form:m}=e,v=O0(t),[h,p]=R.useState(null),[y,b]=R.useState(null),[k,L]=R.useState(!1),j=g2(c),[D,q]=$a({prop:r,defaultProp:i??!1,onChange:s,caller:Ql}),[z,ee]=$a({prop:a,defaultProp:o,onChange:l,caller:Ql}),$=R.useRef(null),H=h?m||!!h.closest("form"):!0,[ae,Y]=R.useState(new Set),Q=Array.from(ae).map(ie=>ie.props.value).join(";");return x.jsx(p0,{...v,children:x.jsxs(Gq,{required:d,scope:t,trigger:h,onTriggerChange:p,valueNode:y,onValueNodeChange:b,valueNodeHasChildren:k,onValueNodeHasChildrenChange:L,contentId:Ti(),value:z,onValueChange:ee,open:D,onOpenChange:q,dir:j,triggerPointerDownPosRef:$,disabled:g,children:[x.jsx(I0.Provider,{scope:t,children:x.jsx(Yq,{scope:e.__scopeSelect,onNativeOptionAdd:R.useCallback(ie=>{Y(fe=>new Set(fe).add(ie))},[]),onNativeOptionRemove:R.useCallback(ie=>{Y(fe=>{const W=new Set(fe);return W.delete(ie),W})},[]),children:n})}),H?x.jsxs(aP,{"aria-hidden":!0,required:d,tabIndex:-1,name:u,autoComplete:f,value:z,onChange:ie=>ee(ie.target.value),disabled:g,form:m,children:[z===void 0?x.jsx("option",{value:""}):null,Array.from(ae)]},Q):null]})})};jT.displayName=Ql;var DT="SelectTrigger",FT=R.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=O0(n),a=rl(DT,n),o=a.disabled||r,l=Xt(t,a.onTriggerChange),c=M0(n),u=R.useRef("touch"),[f,g,d]=lP(v=>{const h=c().filter(b=>!b.disabled),p=h.find(b=>b.value===a.value),y=cP(h,v,p);y!==void 0&&a.onValueChange(y.value)}),m=v=>{o||(a.onOpenChange(!0),d()),v&&(a.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return x.jsx(Af,{asChild:!0,...s,children:x.jsx(At.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":oP(a.value)?"":void 0,...i,ref:l,onClick:Ke(i.onClick,v=>{v.currentTarget.focus(),u.current!=="mouse"&&m(v)}),onPointerDown:Ke(i.onPointerDown,v=>{u.current=v.pointerType;const h=v.target;h.hasPointerCapture(v.pointerId)&&h.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(m(v),v.preventDefault())}),onKeyDown:Ke(i.onKeyDown,v=>{const h=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&g(v.key),!(h&&v.key===" ")&&Hq.includes(v.key)&&(m(),v.preventDefault())})})})});FT.displayName=DT;var BT="SelectValue",UT=R.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,l=rl(BT,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,f=Xt(t,l.onValueNodeChange);return wr(()=>{c(u)},[c,u]),x.jsx(At.span,{...o,ref:f,style:{pointerEvents:"none"},children:oP(l.value)?x.jsx(x.Fragment,{children:a}):s})});UT.displayName=BT;var Xq="SelectIcon",$T=R.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return x.jsx(At.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});$T.displayName=Xq;var Zq="SelectPortal",zT=e=>x.jsx(Gu,{asChild:!0,...e});zT.displayName=Zq;var ec="SelectContent",qT=R.forwardRef((e,t)=>{const n=rl(ec,e.__scopeSelect),[r,i]=R.useState();if(wr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?oc.createPortal(x.jsx(HT,{scope:e.__scopeSelect,children:x.jsx(I0.Slot,{scope:e.__scopeSelect,children:x.jsx("div",{children:e.children})})}),s):null}return x.jsx(WT,{...e,ref:t})});qT.displayName=ec;var fs=10,[HT,il]=ed(ec),Jq="SelectContentImpl",Qq=Ho("SelectContent.RemoveScroll"),WT=R.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:g,collisionPadding:d,sticky:m,hideWhenDetached:v,avoidCollisions:h,...p}=e,y=rl(ec,n),[b,k]=R.useState(null),[L,j]=R.useState(null),D=Xt(t,E=>k(E)),[q,z]=R.useState(null),[ee,$]=R.useState(null),H=M0(n),[ae,Y]=R.useState(!1),Q=R.useRef(!1);R.useEffect(()=>{if(b)return E0(b)},[b]),C0();const ie=R.useCallback(E=>{const[T,...S]=H().map(P=>P.ref.current),[_]=S.slice(-1),C=document.activeElement;for(const P of E)if(P===C||(P?.scrollIntoView({block:"nearest"}),P===T&&L&&(L.scrollTop=0),P===_&&L&&(L.scrollTop=L.scrollHeight),P?.focus(),document.activeElement!==C))return},[H,L]),fe=R.useCallback(()=>ie([q,b]),[ie,q,b]);R.useEffect(()=>{ae&&fe()},[ae,fe]);const{onOpenChange:W,triggerPointerDownPosRef:se}=y;R.useEffect(()=>{if(b){let E={x:0,y:0};const T=_=>{E={x:Math.abs(Math.round(_.pageX)-(se.current?.x??0)),y:Math.abs(Math.round(_.pageY)-(se.current?.y??0))}},S=_=>{E.x<=10&&E.y<=10?_.preventDefault():b.contains(_.target)||W(!1),document.removeEventListener("pointermove",T),se.current=null};return se.current!==null&&(document.addEventListener("pointermove",T),document.addEventListener("pointerup",S,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",T),document.removeEventListener("pointerup",S,{capture:!0})}}},[b,W,se]),R.useEffect(()=>{const E=()=>W(!1);return window.addEventListener("blur",E),window.addEventListener("resize",E),()=>{window.removeEventListener("blur",E),window.removeEventListener("resize",E)}},[W]);const[oe,K]=lP(E=>{const T=H().filter(C=>!C.disabled),S=T.find(C=>C.ref.current===document.activeElement),_=cP(T,E,S);_&&setTimeout(()=>_.ref.current.focus())}),B=R.useCallback((E,T,S)=>{const _=!Q.current&&!S;(y.value!==void 0&&y.value===T||_)&&(z(E),_&&(Q.current=!0))},[y.value]),X=R.useCallback(()=>b?.focus(),[b]),ne=R.useCallback((E,T,S)=>{const _=!Q.current&&!S;(y.value!==void 0&&y.value===T||_)&&$(E)},[y.value]),Z=r==="popper"?Sw:VT,te=Z===Sw?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:g,collisionPadding:d,sticky:m,hideWhenDetached:v,avoidCollisions:h}:{};return x.jsx(HT,{scope:n,content:b,viewport:L,onViewportChange:j,itemRefCallback:B,selectedItem:q,onItemLeave:X,itemTextRefCallback:ne,focusSelectedItem:fe,selectedItemText:ee,position:r,isPositioned:ae,searchRef:oe,children:x.jsx(Pf,{as:Qq,allowPinchZoom:!0,children:x.jsx(Nf,{asChild:!0,trapped:y.open,onMountAutoFocus:E=>{E.preventDefault()},onUnmountAutoFocus:Ke(i,E=>{y.trigger?.focus({preventScroll:!0}),E.preventDefault()}),children:x.jsx(lc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:E=>E.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:x.jsx(Z,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:E=>E.preventDefault(),...p,...te,onPlaced:()=>Y(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Ke(p.onKeyDown,E=>{const T=E.ctrlKey||E.altKey||E.metaKey;if(E.key==="Tab"&&E.preventDefault(),!T&&E.key.length===1&&K(E.key),["ArrowUp","ArrowDown","Home","End"].includes(E.key)){let _=H().filter(C=>!C.disabled).map(C=>C.ref.current);if(["ArrowUp","End"].includes(E.key)&&(_=_.slice().reverse()),["ArrowUp","ArrowDown"].includes(E.key)){const C=E.target,P=_.indexOf(C);_=_.slice(P+1)}setTimeout(()=>ie(_)),E.preventDefault()}})})})})})})});WT.displayName=Jq;var eH="SelectItemAlignedPosition",VT=R.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=rl(ec,n),a=il(ec,n),[o,l]=R.useState(null),[c,u]=R.useState(null),f=Xt(t,D=>u(D)),g=M0(n),d=R.useRef(!1),m=R.useRef(!0),{viewport:v,selectedItem:h,selectedItemText:p,focusSelectedItem:y}=a,b=R.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&v&&h&&p){const D=s.trigger.getBoundingClientRect(),q=c.getBoundingClientRect(),z=s.valueNode.getBoundingClientRect(),ee=p.getBoundingClientRect();if(s.dir!=="rtl"){const C=ee.left-q.left,P=z.left-C,O=D.left-P,U=D.width+O,M=Math.max(U,q.width),J=window.innerWidth-fs,pe=PS(P,[fs,Math.max(fs,J-M)]);o.style.minWidth=U+"px",o.style.left=pe+"px"}else{const C=q.right-ee.right,P=window.innerWidth-z.right-C,O=window.innerWidth-D.right-P,U=D.width+O,M=Math.max(U,q.width),J=window.innerWidth-fs,pe=PS(P,[fs,Math.max(fs,J-M)]);o.style.minWidth=U+"px",o.style.right=pe+"px"}const $=g(),H=window.innerHeight-fs*2,ae=v.scrollHeight,Y=window.getComputedStyle(c),Q=parseInt(Y.borderTopWidth,10),ie=parseInt(Y.paddingTop,10),fe=parseInt(Y.borderBottomWidth,10),W=parseInt(Y.paddingBottom,10),se=Q+ie+ae+W+fe,oe=Math.min(h.offsetHeight*5,se),K=window.getComputedStyle(v),B=parseInt(K.paddingTop,10),X=parseInt(K.paddingBottom,10),ne=D.top+D.height/2-fs,Z=H-ne,te=h.offsetHeight/2,E=h.offsetTop+te,T=Q+ie+E,S=se-T;if(T<=ne){const C=$.length>0&&h===$[$.length-1].ref.current;o.style.bottom="0px";const P=c.clientHeight-v.offsetTop-v.offsetHeight,O=Math.max(Z,te+(C?X:0)+P+fe),U=T+O;o.style.height=U+"px"}else{const C=$.length>0&&h===$[0].ref.current;o.style.top="0px";const O=Math.max(ne,Q+v.offsetTop+(C?B:0)+te)+S;o.style.height=O+"px",v.scrollTop=T-ne+v.offsetTop}o.style.margin=`${fs}px 0`,o.style.minHeight=oe+"px",o.style.maxHeight=H+"px",r?.(),requestAnimationFrame(()=>d.current=!0)}},[g,s.trigger,s.valueNode,o,c,v,h,p,s.dir,r]);wr(()=>b(),[b]);const[k,L]=R.useState();wr(()=>{c&&L(window.getComputedStyle(c).zIndex)},[c]);const j=R.useCallback(D=>{D&&m.current===!0&&(b(),y?.(),m.current=!1)},[b,y]);return x.jsx(nH,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:d,onScrollButtonChange:j,children:x.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:x.jsx(At.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});VT.displayName=eH;var tH="SelectPopperPosition",Sw=R.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=fs,...s}=e,a=O0(n);return x.jsx(m0,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Sw.displayName=tH;var[nH,j2]=ed(ec,{}),Aw="SelectViewport",GT=R.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=il(Aw,n),a=j2(Aw,n),o=Xt(t,s.onViewportChange),l=R.useRef(0);return x.jsxs(x.Fragment,{children:[x.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),x.jsx(I0.Slot,{scope:n,children:x.jsx(At.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ke(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=a;if(g?.current&&f){const d=Math.abs(l.current-u.scrollTop);if(d>0){const m=window.innerHeight-fs*2,v=parseFloat(f.style.minHeight),h=parseFloat(f.style.height),p=Math.max(v,h);if(p<m){const y=p+d,b=Math.min(m,y),k=y-b;f.style.height=b+"px",f.style.bottom==="0px"&&(u.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});GT.displayName=Aw;var YT="SelectGroup",[rH,iH]=ed(YT),sH=R.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ti();return x.jsx(rH,{scope:n,id:i,children:x.jsx(At.div,{role:"group","aria-labelledby":i,...r,ref:t})})});sH.displayName=YT;var KT="SelectLabel",XT=R.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=iH(KT,n);return x.jsx(At.div,{id:i.id,...r,ref:t})});XT.displayName=KT;var Eg="SelectItem",[aH,ZT]=ed(Eg),JT=R.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,o=rl(Eg,n),l=il(Eg,n),c=o.value===r,[u,f]=R.useState(s??""),[g,d]=R.useState(!1),m=Xt(t,y=>l.itemRefCallback?.(y,r,i)),v=Ti(),h=R.useRef("touch"),p=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return x.jsx(aH,{scope:n,value:r,disabled:i,textId:v,isSelected:c,onItemTextChange:R.useCallback(y=>{f(b=>b||(y?.textContent??"").trim())},[]),children:x.jsx(I0.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:x.jsx(At.div,{role:"option","aria-labelledby":v,"data-highlighted":g?"":void 0,"aria-selected":c&&g,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:m,onFocus:Ke(a.onFocus,()=>d(!0)),onBlur:Ke(a.onBlur,()=>d(!1)),onClick:Ke(a.onClick,()=>{h.current!=="mouse"&&p()}),onPointerUp:Ke(a.onPointerUp,()=>{h.current==="mouse"&&p()}),onPointerDown:Ke(a.onPointerDown,y=>{h.current=y.pointerType}),onPointerMove:Ke(a.onPointerMove,y=>{h.current=y.pointerType,i?l.onItemLeave?.():h.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ke(a.onPointerLeave,y=>{y.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:Ke(a.onKeyDown,y=>{l.searchRef?.current!==""&&y.key===" "||(Wq.includes(y.key)&&p(),y.key===" "&&y.preventDefault())})})})})});JT.displayName=Eg;var th="SelectItemText",QT=R.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=rl(th,n),o=il(th,n),l=ZT(th,n),c=Kq(th,n),[u,f]=R.useState(null),g=Xt(t,p=>f(p),l.onItemTextChange,p=>o.itemTextRefCallback?.(p,l.value,l.disabled)),d=u?.textContent,m=R.useMemo(()=>x.jsx("option",{value:l.value,disabled:l.disabled,children:d},l.value),[l.disabled,l.value,d]),{onNativeOptionAdd:v,onNativeOptionRemove:h}=c;return wr(()=>(v(m),()=>h(m)),[v,h,m]),x.jsxs(x.Fragment,{children:[x.jsx(At.span,{id:l.textId,...s,ref:g}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?oc.createPortal(s.children,a.valueNode):null]})});QT.displayName=th;var eP="SelectItemIndicator",tP=R.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return ZT(eP,n).isSelected?x.jsx(At.span,{"aria-hidden":!0,...r,ref:t}):null});tP.displayName=eP;var kw="SelectScrollUpButton",nP=R.forwardRef((e,t)=>{const n=il(kw,e.__scopeSelect),r=j2(kw,e.__scopeSelect),[i,s]=R.useState(!1),a=Xt(t,r.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?x.jsx(iP,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});nP.displayName=kw;var Cw="SelectScrollDownButton",rP=R.forwardRef((e,t)=>{const n=il(Cw,e.__scopeSelect),r=j2(Cw,e.__scopeSelect),[i,s]=R.useState(!1),a=Xt(t,r.onScrollButtonChange);return wr(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?x.jsx(iP,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});rP.displayName=Cw;var iP=R.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=il("SelectScrollButton",n),a=R.useRef(null),o=M0(n),l=R.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return R.useEffect(()=>()=>l(),[l]),wr(()=>{o().find(u=>u.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[o]),x.jsx(At.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ke(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Ke(i.onPointerMove,()=>{s.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Ke(i.onPointerLeave,()=>{l()})})}),oH="SelectSeparator",sP=R.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return x.jsx(At.div,{"aria-hidden":!0,...r,ref:t})});sP.displayName=oH;var Ew="SelectArrow",lH=R.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=O0(n),s=rl(Ew,n),a=il(Ew,n);return s.open&&a.position==="popper"?x.jsx(g0,{...i,...r,ref:t}):null});lH.displayName=Ew;var cH="SelectBubbleInput",aP=R.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const i=R.useRef(null),s=Xt(r,i),a=qq(t);return R.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==t&&u){const f=new Event("change",{bubbles:!0});u.call(o,t),o.dispatchEvent(f)}},[a,t]),x.jsx(At.select,{...n,style:{...WE,...n.style},ref:s,defaultValue:t})});aP.displayName=cH;function oP(e){return e===""||e===void 0}function lP(e){const t=Zr(e),n=R.useRef(""),r=R.useRef(0),i=R.useCallback(a=>{const o=n.current+a;t(o),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[t]),s=R.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return R.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function cP(e,t,n){const i=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=uH(e,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function uH(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var dH=jT,uP=FT,hH=UT,fH=$T,pH=zT,dP=qT,mH=GT,hP=XT,fP=JT,gH=QT,vH=tP,pP=nP,mP=rP,gP=sP;const Ng=dH,Tg=hH,nf=R.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(uP,{ref:r,className:$t("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,x.jsx(fH,{asChild:!0,children:x.jsx(u0,{className:"h-4 w-4 opacity-50"})})]}));nf.displayName=uP.displayName;const vP=R.forwardRef(({className:e,...t},n)=>x.jsx(pP,{ref:n,className:$t("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(Qb,{className:"h-4 w-4"})}));vP.displayName=pP.displayName;const yP=R.forwardRef(({className:e,...t},n)=>x.jsx(mP,{ref:n,className:$t("flex cursor-default items-center justify-center py-1",e),...t,children:x.jsx(u0,{className:"h-4 w-4"})}));yP.displayName=mP.displayName;const rf=R.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>x.jsx(pH,{children:x.jsxs(dP,{ref:i,className:$t("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[x.jsx(vP,{}),x.jsx(mH,{className:$t("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),x.jsx(yP,{})]})}));rf.displayName=dP.displayName;const yH=R.forwardRef(({className:e,...t},n)=>x.jsx(hP,{ref:n,className:$t("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));yH.displayName=hP.displayName;const sf=R.forwardRef(({className:e,children:t,...n},r)=>x.jsxs(fP,{ref:r,className:$t("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[x.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:x.jsx(vH,{children:x.jsx(Zb,{className:"h-4 w-4"})})}),x.jsx(gH,{children:t})]}));sf.displayName=fP.displayName;const wH=R.forwardRef(({className:e,...t},n)=>x.jsx(gP,{ref:n,className:$t("-mx-1 my-1 h-px bg-muted",e),...t}));wH.displayName=gP.displayName;var kt=function(){return kt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},kt.apply(this,arguments)};function bH(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function wP(e,t,n){for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Of(e){return e.mode==="multiple"}function jf(e){return e.mode==="range"}function j0(e){return e.mode==="single"}var xH={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function _H(e,t){return dr(e,"LLLL y",t)}function SH(e,t){return dr(e,"d",t)}function AH(e,t){return dr(e,"LLLL",t)}function kH(e){return"".concat(e)}function CH(e,t){return dr(e,"cccccc",t)}function EH(e,t){return dr(e,"yyyy",t)}var NH=Object.freeze({__proto__:null,formatCaption:_H,formatDay:SH,formatMonthCaption:AH,formatWeekNumber:kH,formatWeekdayName:CH,formatYearCaption:EH}),TH=function(e,t,n){return dr(e,"do MMMM (EEEE)",n)},PH=function(){return"Month: "},RH=function(){return"Go to next month"},LH=function(){return"Go to previous month"},IH=function(e,t){return dr(e,"cccc",t)},MH=function(e){return"Week n. ".concat(e)},OH=function(){return"Year: "},jH=Object.freeze({__proto__:null,labelDay:TH,labelMonthDropdown:PH,labelNext:RH,labelPrevious:LH,labelWeekNumber:MH,labelWeekday:IH,labelYearDropdown:OH});function DH(){var e="buttons",t=xH,n=oT,r={},i={},s=1,a={},o=new Date;return{captionLayout:e,classNames:t,formatters:NH,labels:jH,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function FH(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,s=e.fromDate,a=e.toDate;return r?s=ui(r):t&&(s=new Date(t,0,1)),i?a=P2(i):n&&(a=new Date(n,11,31)),{fromDate:s?Lu(s):void 0,toDate:a?Lu(a):void 0}}var bP=R.createContext(void 0);function BH(e){var t,n=e.initialProps,r=DH(),i=FH(n),s=i.fromDate,a=i.toDate,o=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var l;(j0(n)||Of(n)||jf(n))&&(l=n.onSelect);var c=kt(kt(kt({},r),n),{captionLayout:o,classNames:kt(kt({},r.classNames),n.classNames),components:kt({},n.components),formatters:kt(kt({},r.formatters),n.formatters),fromDate:s,labels:kt(kt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:kt(kt({},r.modifiers),n.modifiers),modifiersClassNames:kt(kt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:kt(kt({},r.styles),n.styles),toDate:a});return x.jsx(bP.Provider,{value:c,children:e.children})}function _n(){var e=R.useContext(bP);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function xP(e){var t=_n(),n=t.locale,r=t.classNames,i=t.styles,s=t.formatters.formatCaption;return x.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:n})})}function UH(e){return x.jsx("svg",kt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:x.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function _P(e){var t,n,r=e.onChange,i=e.value,s=e.children,a=e.caption,o=e.className,l=e.style,c=_n(),u=(n=(t=c.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:UH;return x.jsxs("div",{className:o,style:l,children:[x.jsx("span",{className:c.classNames.vhidden,children:e["aria-label"]}),x.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:s}),x.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[a,x.jsx(u,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function $H(e){var t,n=_n(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,o=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,u=n.labels.labelMonthDropdown;if(!r)return x.jsx(x.Fragment,{});if(!i)return x.jsx(x.Fragment,{});var f=[];if(kq(r,i))for(var g=ui(r),d=r.getMonth();d<=i.getMonth();d++)f.push(w1(g,d));else for(var g=ui(new Date),d=0;d<=11;d++)f.push(w1(g,d));var m=function(h){var p=Number(h.target.value),y=w1(ui(e.displayMonth),p);e.onChange(y)},v=(t=c?.Dropdown)!==null&&t!==void 0?t:_P;return x.jsx(v,{name:"months","aria-label":u(),className:l.dropdown_month,style:s.dropdown_month,onChange:m,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:a}),children:f.map(function(h){return x.jsx("option",{value:h.getMonth(),children:o(h,{locale:a})},h.getMonth())})})}function zH(e){var t,n=e.displayMonth,r=_n(),i=r.fromDate,s=r.toDate,a=r.locale,o=r.styles,l=r.classNames,c=r.components,u=r.formatters.formatYearCaption,f=r.labels.labelYearDropdown,g=[];if(!i)return x.jsx(x.Fragment,{});if(!s)return x.jsx(x.Fragment,{});for(var d=i.getFullYear(),m=s.getFullYear(),v=d;v<=m;v++)g.push(TS(sT(new Date),v));var h=function(y){var b=TS(ui(n),Number(y.target.value));e.onChange(b)},p=(t=c?.Dropdown)!==null&&t!==void 0?t:_P;return x.jsx(p,{name:"years","aria-label":f(),className:l.dropdown_year,style:o.dropdown_year,onChange:h,value:n.getFullYear(),caption:u(n,{locale:a}),children:g.map(function(y){return x.jsx("option",{value:y.getFullYear(),children:u(y,{locale:a})},y.getFullYear())})})}function qH(e,t){var n=R.useState(e),r=n[0],i=n[1],s=t===void 0?r:t;return[s,i]}function HH(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,s=e.toDate,a=e.fromDate,o=e.numberOfMonths,l=o===void 0?1:o;if(s&&ef(s,i)<0){var c=-1*(l-1);i=ks(s,c)}return a&&ef(i,a)<0&&(i=a),ui(i)}function WH(){var e=_n(),t=HH(e),n=qH(t,e.month),r=n[0],i=n[1],s=function(a){var o;if(!e.disableNavigation){var l=ui(a);i(l),(o=e.onMonthChange)===null||o===void 0||o.call(e,l)}};return[r,s]}function VH(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=ui(e),s=ui(ks(i,r)),a=ef(s,i),o=[],l=0;l<a;l++){var c=ks(i,l);o.push(c)}return n&&(o=o.reverse()),o}function GH(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=ui(e);if(!n)return ks(o,a);var l=ef(n,e);if(!(l<s))return ks(o,a)}}function YH(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=ui(e);if(!n)return ks(o,-a);var l=ef(o,n);if(!(l<=0))return ks(o,-a)}}var SP=R.createContext(void 0);function KH(e){var t=_n(),n=WH(),r=n[0],i=n[1],s=VH(r,t),a=GH(r,t),o=YH(r,t),l=function(f){return s.some(function(g){return L2(f,g)})},c=function(f,g){l(f)||(g&&hT(f,g)?i(ks(f,1+t.numberOfMonths*-1)):i(f))},u={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:c,previousMonth:o,nextMonth:a,isDateDisplayed:l};return x.jsx(SP.Provider,{value:u,children:e.children})}function Df(){var e=R.useContext(SP);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function RS(e){var t,n=_n(),r=n.classNames,i=n.styles,s=n.components,a=Df().goToMonth,o=function(u){a(ks(u,e.displayIndex?-e.displayIndex:0))},l=(t=s?.CaptionLabel)!==null&&t!==void 0?t:xP,c=x.jsx(l,{id:e.id,displayMonth:e.displayMonth});return x.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[x.jsx("div",{className:r.vhidden,children:c}),x.jsx($H,{onChange:o,displayMonth:e.displayMonth}),x.jsx(zH,{onChange:o,displayMonth:e.displayMonth})]})}function XH(e){return x.jsx("svg",kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:x.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ZH(e){return x.jsx("svg",kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:x.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Pg=R.forwardRef(function(e,t){var n=_n(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];e.className&&s.push(e.className);var a=s.join(" "),o=kt(kt({},i.button_reset),i.button);return e.style&&Object.assign(o,e.style),x.jsx("button",kt({},e,{ref:t,type:"button",className:a,style:o}))});function JH(e){var t,n,r=_n(),i=r.dir,s=r.locale,a=r.classNames,o=r.styles,l=r.labels,c=l.labelPrevious,u=l.labelNext,f=r.components;if(!e.nextMonth&&!e.previousMonth)return x.jsx(x.Fragment,{});var g=c(e.previousMonth,{locale:s}),d=[a.nav_button,a.nav_button_previous].join(" "),m=u(e.nextMonth,{locale:s}),v=[a.nav_button,a.nav_button_next].join(" "),h=(t=f?.IconRight)!==null&&t!==void 0?t:ZH,p=(n=f?.IconLeft)!==null&&n!==void 0?n:XH;return x.jsxs("div",{className:a.nav,style:o.nav,children:[!e.hidePrevious&&x.jsx(Pg,{name:"previous-month","aria-label":g,className:d,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?x.jsx(h,{className:a.nav_icon,style:o.nav_icon}):x.jsx(p,{className:a.nav_icon,style:o.nav_icon})}),!e.hideNext&&x.jsx(Pg,{name:"next-month","aria-label":m,className:v,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?x.jsx(p,{className:a.nav_icon,style:o.nav_icon}):x.jsx(h,{className:a.nav_icon,style:o.nav_icon})})]})}function LS(e){var t=_n().numberOfMonths,n=Df(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,o=a.findIndex(function(m){return L2(e.displayMonth,m)}),l=o===0,c=o===a.length-1,u=t>1&&(l||!c),f=t>1&&(c||!l),g=function(){r&&s(r)},d=function(){i&&s(i)};return x.jsx(JH,{displayMonth:e.displayMonth,hideNext:u,hidePrevious:f,nextMonth:i,previousMonth:r,onPreviousClick:g,onNextClick:d})}function QH(e){var t,n=_n(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,o=n.components,l=(t=o?.CaptionLabel)!==null&&t!==void 0?t:xP,c;return i?c=x.jsx(l,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?c=x.jsx(RS,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?c=x.jsxs(x.Fragment,{children:[x.jsx(RS,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),x.jsx(LS,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):c=x.jsxs(x.Fragment,{children:[x.jsx(l,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),x.jsx(LS,{displayMonth:e.displayMonth,id:e.id})]}),x.jsx("div",{className:r.caption,style:s.caption,children:c})}function eW(e){var t=_n(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?x.jsx("tfoot",{className:i,style:r.tfoot,children:x.jsx("tr",{children:x.jsx("td",{colSpan:8,children:n})})}):x.jsx(x.Fragment,{})}function tW(e,t,n){for(var r=n?Zl(new Date):oa(new Date,{locale:e,weekStartsOn:t}),i=[],s=0;s<7;s++){var a=Gr(r,s);i.push(a)}return i}function nW(){var e=_n(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,s=e.weekStartsOn,a=e.ISOWeek,o=e.formatters.formatWeekdayName,l=e.labels.labelWeekday,c=tW(i,s,a);return x.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&x.jsx("td",{style:n.head_cell,className:t.head_cell}),c.map(function(u,f){return x.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":l(u,{locale:i}),children:o(u,{locale:i})},f)})]})}function rW(){var e,t=_n(),n=t.classNames,r=t.styles,i=t.components,s=(e=i?.HeadRow)!==null&&e!==void 0?e:nW;return x.jsx("thead",{style:r.head,className:n.head,children:x.jsx(s,{})})}function iW(e){var t=_n(),n=t.locale,r=t.formatters.formatDay;return x.jsx(x.Fragment,{children:r(e.date,{locale:n})})}var D2=R.createContext(void 0);function sW(e){if(!Of(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return x.jsx(D2.Provider,{value:t,children:e.children})}return x.jsx(aW,{initialProps:e.initialProps,children:e.children})}function aW(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,s=t.max,a=function(c,u,f){var g,d;(g=t.onDayClick)===null||g===void 0||g.call(t,c,u,f);var m=!!(u.selected&&i&&r?.length===i);if(!m){var v=!!(!u.selected&&s&&r?.length===s);if(!v){var h=r?wP([],r):[];if(u.selected){var p=h.findIndex(function(y){return si(c,y)});h.splice(p,1)}else h.push(c);(d=t.onSelect)===null||d===void 0||d.call(t,h,c,u,f)}}},o={disabled:[]};r&&o.disabled.push(function(c){var u=s&&r.length>s-1,f=r.some(function(g){return si(g,c)});return!!(u&&!f)});var l={selected:r,onDayClick:a,modifiers:o};return x.jsx(D2.Provider,{value:l,children:n})}function F2(){var e=R.useContext(D2);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function oW(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?si(i,e)&&si(r,e)?void 0:si(i,e)?{from:i,to:void 0}:si(r,e)?void 0:xw(r,e)?{from:e,to:i}:{from:r,to:e}:i?xw(e,i)?{from:i,to:e}:{from:e,to:i}:r?hT(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var B2=R.createContext(void 0);function lW(e){if(!jf(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return x.jsx(B2.Provider,{value:t,children:e.children})}return x.jsx(cW,{initialProps:e.initialProps,children:e.children})}function cW(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},s=i.from,a=i.to,o=t.min,l=t.max,c=function(d,m,v){var h,p;(h=t.onDayClick)===null||h===void 0||h.call(t,d,m,v);var y=oW(d,r);(p=t.onSelect)===null||p===void 0||p.call(t,y,d,m,v)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(u.range_start=[s],a?(u.range_end=[a],si(s,a)||(u.range_middle=[{after:s,before:a}])):u.range_end=[s]):a&&(u.range_start=[a],u.range_end=[a]),o&&(s&&!a&&u.disabled.push({after:y1(s,o-1),before:Gr(s,o-1)}),s&&a&&u.disabled.push({after:s,before:Gr(s,o-1)}),!s&&a&&u.disabled.push({after:y1(a,o-1),before:Gr(a,o-1)})),l){if(s&&!a&&(u.disabled.push({before:Gr(s,-l+1)}),u.disabled.push({after:Gr(s,l-1)})),s&&a){var f=Zs(a,s)+1,g=l-f;u.disabled.push({before:y1(s,g)}),u.disabled.push({after:Gr(a,g)})}!s&&a&&(u.disabled.push({before:Gr(a,-l+1)}),u.disabled.push({after:Gr(a,l-1)}))}return x.jsx(B2.Provider,{value:{selected:r,onDayClick:c,modifiers:u},children:n})}function U2(){var e=R.useContext(B2);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function Lm(e){return Array.isArray(e)?wP([],e):e!==void 0?[e]:[]}function uW(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=Lm(i)}),t}var Es;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Es||(Es={}));var dW=Es.Selected,Ca=Es.Disabled,hW=Es.Hidden,fW=Es.Today,b1=Es.RangeEnd,x1=Es.RangeMiddle,_1=Es.RangeStart,pW=Es.Outside;function mW(e,t,n){var r,i=(r={},r[dW]=Lm(e.selected),r[Ca]=Lm(e.disabled),r[hW]=Lm(e.hidden),r[fW]=[e.today],r[b1]=[],r[x1]=[],r[_1]=[],r[pW]=[],r);return e.fromDate&&i[Ca].push({before:e.fromDate}),e.toDate&&i[Ca].push({after:e.toDate}),Of(e)?i[Ca]=i[Ca].concat(t.modifiers[Ca]):jf(e)&&(i[Ca]=i[Ca].concat(n.modifiers[Ca]),i[_1]=n.modifiers[_1],i[x1]=n.modifiers[x1],i[b1]=n.modifiers[b1]),i}var AP=R.createContext(void 0);function gW(e){var t=_n(),n=F2(),r=U2(),i=mW(t,n,r),s=uW(t.modifiers),a=kt(kt({},i),s);return x.jsx(AP.Provider,{value:a,children:e.children})}function kP(){var e=R.useContext(AP);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function vW(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function yW(e){return!!(e&&typeof e=="object"&&"from"in e)}function wW(e){return!!(e&&typeof e=="object"&&"after"in e)}function bW(e){return!!(e&&typeof e=="object"&&"before"in e)}function xW(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function _W(e,t){var n,r=t.from,i=t.to;if(r&&i){var s=Zs(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=Zs(e,r)>=0&&Zs(i,e)>=0;return a}return i?si(i,e):r?si(r,e):!1}function SW(e){return T2(e)}function AW(e){return Array.isArray(e)&&e.every(T2)}function kW(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(SW(n))return si(e,n);if(AW(n))return n.includes(e);if(yW(n))return _W(e,n);if(xW(n))return n.dayOfWeek.includes(e.getDay());if(vW(n)){var r=Zs(n.before,e),i=Zs(n.after,e),s=r>0,a=i<0,o=xw(n.before,n.after);return o?a&&s:s||a}return wW(n)?Zs(e,n.after)>0:bW(n)?Zs(n.before,e)>0:typeof n=="function"?n(e):!1})}function $2(e,t,n){var r=Object.keys(t).reduce(function(s,a){var o=t[a];return kW(e,o)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!L2(e,n)&&(i.outside=!0),i}function CW(e,t){for(var n=ui(e[0]),r=P2(e[e.length-1]),i,s,a=n;a<=r;){var o=$2(a,t),l=!o.disabled&&!o.hidden;if(!l){a=Gr(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=Gr(a,1)}return s||i}var EW=365;function CP(e,t){var n=t.moveBy,r=t.direction,i=t.context,s=t.modifiers,a=t.retry,o=a===void 0?{count:0,lastFocused:e}:a,l=i.weekStartsOn,c=i.fromDate,u=i.toDate,f=i.locale,g={day:Gr,week:bw,month:ks,year:xz,startOfWeek:function(h){return i.ISOWeek?Zl(h):oa(h,{locale:f,weekStartsOn:l})},endOfWeek:function(h){return i.ISOWeek?aT(h):R2(h,{locale:f,weekStartsOn:l})}},d=g[n](e,r==="after"?1:-1);r==="before"&&c?d=_z([c,d]):r==="after"&&u&&(d=Sz([u,d]));var m=!0;if(s){var v=$2(d,s);m=!v.disabled&&!v.hidden}return m?d:o.count>EW?o.lastFocused:CP(d,{moveBy:n,direction:r,context:i,modifiers:s,retry:kt(kt({},o),{count:o.count+1})})}var EP=R.createContext(void 0);function NW(e){var t=Df(),n=kP(),r=R.useState(),i=r[0],s=r[1],a=R.useState(),o=a[0],l=a[1],c=CW(t.displayMonths,n),u=i??(o&&t.isDateDisplayed(o))?o:c,f=function(){l(i),s(void 0)},g=function(h){s(h)},d=_n(),m=function(h,p){if(i){var y=CP(i,{moveBy:h,direction:p,context:d,modifiers:n});si(i,y)||(t.goToDate(y,i),g(y))}},v={focusedDay:i,focusTarget:u,blur:f,focus:g,focusDayAfter:function(){return m("day","after")},focusDayBefore:function(){return m("day","before")},focusWeekAfter:function(){return m("week","after")},focusWeekBefore:function(){return m("week","before")},focusMonthBefore:function(){return m("month","before")},focusMonthAfter:function(){return m("month","after")},focusYearBefore:function(){return m("year","before")},focusYearAfter:function(){return m("year","after")},focusStartOfWeek:function(){return m("startOfWeek","before")},focusEndOfWeek:function(){return m("endOfWeek","after")}};return x.jsx(EP.Provider,{value:v,children:e.children})}function z2(){var e=R.useContext(EP);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function TW(e,t){var n=kP(),r=$2(e,n,t);return r}var q2=R.createContext(void 0);function PW(e){if(!j0(e.initialProps)){var t={selected:void 0};return x.jsx(q2.Provider,{value:t,children:e.children})}return x.jsx(RW,{initialProps:e.initialProps,children:e.children})}function RW(e){var t=e.initialProps,n=e.children,r=function(s,a,o){var l,c,u;if((l=t.onDayClick)===null||l===void 0||l.call(t,s,a,o),a.selected&&!t.required){(c=t.onSelect)===null||c===void 0||c.call(t,void 0,s,a,o);return}(u=t.onSelect)===null||u===void 0||u.call(t,s,s,a,o)},i={selected:t.selected,onDayClick:r};return x.jsx(q2.Provider,{value:i,children:n})}function NP(){var e=R.useContext(q2);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function LW(e,t){var n=_n(),r=NP(),i=F2(),s=U2(),a=z2(),o=a.focusDayAfter,l=a.focusDayBefore,c=a.focusWeekAfter,u=a.focusWeekBefore,f=a.blur,g=a.focus,d=a.focusMonthBefore,m=a.focusMonthAfter,v=a.focusYearBefore,h=a.focusYearAfter,p=a.focusStartOfWeek,y=a.focusEndOfWeek,b=function(fe){var W,se,oe,K;j0(n)?(W=r.onDayClick)===null||W===void 0||W.call(r,e,t,fe):Of(n)?(se=i.onDayClick)===null||se===void 0||se.call(i,e,t,fe):jf(n)?(oe=s.onDayClick)===null||oe===void 0||oe.call(s,e,t,fe):(K=n.onDayClick)===null||K===void 0||K.call(n,e,t,fe)},k=function(fe){var W;g(e),(W=n.onDayFocus)===null||W===void 0||W.call(n,e,t,fe)},L=function(fe){var W;f(),(W=n.onDayBlur)===null||W===void 0||W.call(n,e,t,fe)},j=function(fe){var W;(W=n.onDayMouseEnter)===null||W===void 0||W.call(n,e,t,fe)},D=function(fe){var W;(W=n.onDayMouseLeave)===null||W===void 0||W.call(n,e,t,fe)},q=function(fe){var W;(W=n.onDayPointerEnter)===null||W===void 0||W.call(n,e,t,fe)},z=function(fe){var W;(W=n.onDayPointerLeave)===null||W===void 0||W.call(n,e,t,fe)},ee=function(fe){var W;(W=n.onDayTouchCancel)===null||W===void 0||W.call(n,e,t,fe)},$=function(fe){var W;(W=n.onDayTouchEnd)===null||W===void 0||W.call(n,e,t,fe)},H=function(fe){var W;(W=n.onDayTouchMove)===null||W===void 0||W.call(n,e,t,fe)},ae=function(fe){var W;(W=n.onDayTouchStart)===null||W===void 0||W.call(n,e,t,fe)},Y=function(fe){var W;(W=n.onDayKeyUp)===null||W===void 0||W.call(n,e,t,fe)},Q=function(fe){var W;switch(fe.key){case"ArrowLeft":fe.preventDefault(),fe.stopPropagation(),n.dir==="rtl"?o():l();break;case"ArrowRight":fe.preventDefault(),fe.stopPropagation(),n.dir==="rtl"?l():o();break;case"ArrowDown":fe.preventDefault(),fe.stopPropagation(),c();break;case"ArrowUp":fe.preventDefault(),fe.stopPropagation(),u();break;case"PageUp":fe.preventDefault(),fe.stopPropagation(),fe.shiftKey?v():d();break;case"PageDown":fe.preventDefault(),fe.stopPropagation(),fe.shiftKey?h():m();break;case"Home":fe.preventDefault(),fe.stopPropagation(),p();break;case"End":fe.preventDefault(),fe.stopPropagation(),y();break}(W=n.onDayKeyDown)===null||W===void 0||W.call(n,e,t,fe)},ie={onClick:b,onFocus:k,onBlur:L,onKeyDown:Q,onKeyUp:Y,onMouseEnter:j,onMouseLeave:D,onPointerEnter:q,onPointerLeave:z,onTouchCancel:ee,onTouchEnd:$,onTouchMove:H,onTouchStart:ae};return ie}function IW(){var e=_n(),t=NP(),n=F2(),r=U2(),i=j0(e)?t.selected:Of(e)?n.selected:jf(e)?r.selected:void 0;return i}function MW(e){return Object.values(Es).includes(e)}function OW(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(MW(r)){var s=e.classNames["day_".concat(r)];s&&n.push(s)}}),n}function jW(e,t){var n=kt({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=kt(kt({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function DW(e,t,n){var r,i,s,a=_n(),o=z2(),l=TW(e,t),c=LW(e,l),u=IW(),f=!!(a.onDayClick||a.mode!=="default");R.useEffect(function(){var j;l.outside||o.focusedDay&&f&&si(o.focusedDay,e)&&((j=n.current)===null||j===void 0||j.focus())},[o.focusedDay,e,n,f,l.outside]);var g=OW(a,l).join(" "),d=jW(a,l),m=!!(l.outside&&!a.showOutsideDays||l.hidden),v=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:iW,h=x.jsx(v,{date:e,displayMonth:t,activeModifiers:l}),p={style:d,className:g,children:h,role:"gridcell"},y=o.focusTarget&&si(o.focusTarget,e)&&!l.outside,b=o.focusedDay&&si(o.focusedDay,e),k=kt(kt(kt({},p),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=b||y?0:-1,r)),c),L={isButton:f,isHidden:m,activeModifiers:l,selectedDays:u,buttonProps:k,divProps:p};return L}function FW(e){var t=R.useRef(null),n=DW(e.date,e.displayMonth,t);return n.isHidden?x.jsx("div",{role:"gridcell"}):n.isButton?x.jsx(Pg,kt({name:"day",ref:t},n.buttonProps)):x.jsx("div",kt({},n.divProps))}function BW(e){var t=e.number,n=e.dates,r=_n(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,o=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,u=c(Number(t),{locale:o});if(!i)return x.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:u});var f=l(Number(t),{locale:o}),g=function(d){i(t,n,d)};return x.jsx(Pg,{name:"week-number","aria-label":f,className:a.weeknumber,style:s.weeknumber,onClick:g,children:u})}function UW(e){var t,n,r=_n(),i=r.styles,s=r.classNames,a=r.showWeekNumber,o=r.components,l=(t=o?.Day)!==null&&t!==void 0?t:FW,c=(n=o?.WeekNumber)!==null&&n!==void 0?n:BW,u;return a&&(u=x.jsx("td",{className:s.cell,style:i.cell,children:x.jsx(c,{number:e.weekNumber,dates:e.dates})})),x.jsxs("tr",{className:s.row,style:i.row,children:[u,e.dates.map(function(f){return x.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:x.jsx(l,{displayMonth:e.displayMonth,date:f})},_q(f))})]})}function IS(e,t,n){for(var r=n?.ISOWeek?aT(t):R2(t,n),i=n?.ISOWeek?Zl(e):oa(e,n),s=Zs(r,i),a=[],o=0;o<=s;o++)a.push(Gr(i,o));var l=a.reduce(function(c,u){var f=n?.ISOWeek?lT(u):uT(u,n),g=c.find(function(d){return d.weekNumber===f});return g?(g.dates.push(u),c):(c.push({weekNumber:f,dates:[u]}),c)},[]);return l}function $W(e,t){var n=IS(ui(e),P2(e),t);if(t?.useFixedWeeks){var r=Aq(e,t);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=bw(s,6-r),o=IS(bw(s,1),a,t);n.push.apply(n,o)}}return n}function zW(e){var t,n,r,i=_n(),s=i.locale,a=i.classNames,o=i.styles,l=i.hideHead,c=i.fixedWeeks,u=i.components,f=i.weekStartsOn,g=i.firstWeekContainsDate,d=i.ISOWeek,m=$W(e.displayMonth,{useFixedWeeks:!!c,ISOWeek:d,locale:s,weekStartsOn:f,firstWeekContainsDate:g}),v=(t=u?.Head)!==null&&t!==void 0?t:rW,h=(n=u?.Row)!==null&&n!==void 0?n:UW,p=(r=u?.Footer)!==null&&r!==void 0?r:eW;return x.jsxs("table",{id:e.id,className:a.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!l&&x.jsx(v,{}),x.jsx("tbody",{className:a.tbody,style:o.tbody,children:m.map(function(y){return x.jsx(h,{displayMonth:e.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),x.jsx(p,{displayMonth:e.displayMonth})]})}function qW(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var HW=qW()?R.useLayoutEffect:R.useEffect,S1=!1,WW=0;function MS(){return"react-day-picker-".concat(++WW)}function VW(e){var t,n=e??(S1?MS():null),r=R.useState(n),i=r[0],s=r[1];return HW(function(){i===null&&s(MS())},[]),R.useEffect(function(){S1===!1&&(S1=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function GW(e){var t,n,r=_n(),i=r.dir,s=r.classNames,a=r.styles,o=r.components,l=Df().displayMonths,c=VW(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,f=[s.month],g=a.month,d=e.displayIndex===0,m=e.displayIndex===l.length-1,v=!d&&!m;i==="rtl"&&(t=[d,m],m=t[0],d=t[1]),d&&(f.push(s.caption_start),g=kt(kt({},g),a.caption_start)),m&&(f.push(s.caption_end),g=kt(kt({},g),a.caption_end)),v&&(f.push(s.caption_between),g=kt(kt({},g),a.caption_between));var h=(n=o?.Caption)!==null&&n!==void 0?n:QH;return x.jsxs("div",{className:f.join(" "),style:g,children:[x.jsx(h,{id:c,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),x.jsx(zW,{id:u,"aria-labelledby":c,displayMonth:e.displayMonth})]},e.displayIndex)}function YW(e){var t=_n(),n=t.classNames,r=t.styles;return x.jsx("div",{className:n.months,style:r.months,children:e.children})}function KW(e){var t,n,r=e.initialProps,i=_n(),s=z2(),a=Df(),o=R.useState(!1),l=o[0],c=o[1];R.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var u=[i.classNames.root,i.className];i.numberOfMonths>1&&u.push(i.classNames.multiple_months),i.showWeekNumber&&u.push(i.classNames.with_weeknumber);var f=kt(kt({},i.styles.root),i.style),g=Object.keys(r).filter(function(m){return m.startsWith("data-")}).reduce(function(m,v){var h;return kt(kt({},m),(h={},h[v]=r[v],h))},{}),d=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:YW;return x.jsx("div",kt({className:u.join(" "),style:f,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},g,{children:x.jsx(d,{children:a.displayMonths.map(function(m,v){return x.jsx(GW,{displayIndex:v,displayMonth:m},v)})})}))}function XW(e){var t=e.children,n=bH(e,["children"]);return x.jsx(BH,{initialProps:n,children:x.jsx(KH,{children:x.jsx(PW,{initialProps:n,children:x.jsx(sW,{initialProps:n,children:x.jsx(lW,{initialProps:n,children:x.jsx(gW,{children:x.jsx(NW,{children:t})})})})})})})}function ZW(e){return x.jsx(XW,kt({},e,{children:x.jsx(KW,{initialProps:e})}))}function H2({className:e,classNames:t,showOutsideDays:n=!0,...r}){return x.jsx(ZW,{showOutsideDays:n,className:$t("p-3 pointer-events-auto",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:$t(_w({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:$t(_w({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({...i})=>x.jsx(xO,{className:"h-4 w-4"}),IconRight:({...i})=>x.jsx(Jb,{className:"h-4 w-4"})},...r})}H2.displayName="Calendar";var D0="Popover",[TP,QZ]=Qi(D0,[el]),Ff=el(),[JW,sl]=TP(D0),PP=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=e,o=Ff(t),l=R.useRef(null),[c,u]=R.useState(!1),[f,g]=$a({prop:r,defaultProp:i??!1,onChange:s,caller:D0});return x.jsx(p0,{...o,children:x.jsx(JW,{scope:t,contentId:Ti(),triggerRef:l,open:f,onOpenChange:g,onOpenToggle:R.useCallback(()=>g(d=>!d),[g]),hasCustomAnchor:c,onCustomAnchorAdd:R.useCallback(()=>u(!0),[]),onCustomAnchorRemove:R.useCallback(()=>u(!1),[]),modal:a,children:n})})};PP.displayName=D0;var RP="PopoverAnchor",QW=R.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=sl(RP,n),s=Ff(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return R.useEffect(()=>(a(),()=>o()),[a,o]),x.jsx(Af,{...s,...r,ref:t})});QW.displayName=RP;var LP="PopoverTrigger",IP=R.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=sl(LP,n),s=Ff(n),a=Xt(t,i.triggerRef),o=x.jsx(At.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":FP(i.open),...r,ref:a,onClick:Ke(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:x.jsx(Af,{asChild:!0,...s,children:o})});IP.displayName=LP;var W2="PopoverPortal",[eV,tV]=TP(W2,{forceMount:void 0}),MP=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,s=sl(W2,t);return x.jsx(eV,{scope:t,forceMount:n,children:x.jsx(ji,{present:n||s.open,children:x.jsx(Gu,{asChild:!0,container:i,children:r})})})};MP.displayName=W2;var ju="PopoverContent",OP=R.forwardRef((e,t)=>{const n=tV(ju,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=sl(ju,e.__scopePopover);return x.jsx(ji,{present:r||s.open,children:s.modal?x.jsx(rV,{...i,ref:t}):x.jsx(iV,{...i,ref:t})})});OP.displayName=ju;var nV=Ho("PopoverContent.RemoveScroll"),rV=R.forwardRef((e,t)=>{const n=sl(ju,e.__scopePopover),r=R.useRef(null),i=Xt(t,r),s=R.useRef(!1);return R.useEffect(()=>{const a=r.current;if(a)return E0(a)},[]),x.jsx(Pf,{as:nV,allowPinchZoom:!0,children:x.jsx(jP,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ke(e.onCloseAutoFocus,a=>{a.preventDefault(),s.current||n.triggerRef.current?.focus()}),onPointerDownOutside:Ke(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0,c=o.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ke(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),iV=R.forwardRef((e,t)=>{const n=sl(ju,e.__scopePopover),r=R.useRef(!1),i=R.useRef(!1);return x.jsx(jP,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;n.triggerRef.current?.contains(a)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),jP=R.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:u,...f}=e,g=sl(ju,n),d=Ff(n);return C0(),x.jsx(Nf,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:x.jsx(lc,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:u,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>g.onOpenChange(!1),children:x.jsx(m0,{"data-state":FP(g.open),role:"dialog",id:g.contentId,...d,...f,ref:t,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),DP="PopoverClose",sV=R.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=sl(DP,n);return x.jsx(At.button,{type:"button",...r,ref:t,onClick:Ke(e.onClick,()=>i.onOpenChange(!1))})});sV.displayName=DP;var aV="PopoverArrow",oV=R.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Ff(n);return x.jsx(g0,{...i,...r,ref:t})});oV.displayName=aV;function FP(e){return e?"open":"closed"}var lV=PP,cV=IP,uV=MP,BP=OP;const dV=lV,hV=cV,UP=R.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>x.jsx(uV,{children:x.jsx(BP,{ref:i,align:t,sideOffset:n,className:$t("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));UP.displayName=BP.displayName;const V2=({value:e,onChange:t})=>{const[n,r]=R.useState("date"),[i,s]=R.useState(!1),[a,o]=R.useState(e),[l,c]=R.useState(e?dr(e,"HH"):"09"),[u,f]=R.useState(e?dr(e,"mm"):"00"),g=p=>{o(p),p&&r("time")},d=p=>{const y=p.target.value.replace(/\D/g,"").slice(0,2),b=parseInt(y)||0;b>=0&&b<=23?c(y):y===""&&c("")},m=p=>{const y=p.target.value.replace(/\D/g,"").slice(0,2),b=parseInt(y)||0;b>=0&&b<=59?f(y):y===""&&f("")},v=()=>{if(a){const p=new Date(a),y=l?parseInt(l):0,b=u?parseInt(u):0;p.setHours(y,b),t(p)}s(!1),r("date")},h=p=>{s(p),p||r("date")};return x.jsxs(dV,{open:i,onOpenChange:h,children:[x.jsx(hV,{asChild:!0,children:x.jsxs(Qt,{variant:"outline",className:$t("w-full justify-start text-left font-normal min-h-[44px]",!e&&"text-muted-foreground"),children:[x.jsx(g4,{className:"mr-2 h-4 w-4"}),e?dr(e,"PPP 'at' p"):x.jsx("span",{children:"Pick date & time"})]})}),x.jsx(UP,{className:"w-auto p-0",align:"start",children:n==="date"?x.jsx("div",{className:"p-0",children:x.jsx(H2,{mode:"single",selected:a,onSelect:g,initialFocus:!0,className:$t("p-3 pointer-events-auto"),disabled:p=>p<new Date(new Date().setHours(0,0,0,0))})}):x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[x.jsx(w4,{className:"h-4 w-4"}),x.jsx("span",{children:"Enter Time"})]}),x.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[x.jsx(Cs,{type:"text",inputMode:"numeric",value:l,onChange:d,placeholder:"HH",className:"w-[70px] text-center text-lg font-bold min-h-[44px]",maxLength:2}),x.jsx("span",{className:"text-lg font-bold",children:":"}),x.jsx(Cs,{type:"text",inputMode:"numeric",value:u,onChange:m,placeholder:"MM",className:"w-[70px] text-center text-lg font-bold min-h-[44px]",maxLength:2})]}),x.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"24-hour format (00-23 : 00-59)"}),x.jsx("div",{className:"text-sm text-muted-foreground text-center",children:a&&x.jsxs("span",{children:[dr(a,"EEEE, MMMM d, yyyy")," at ",l||"00",":",u||"00"]})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Qt,{variant:"outline",onClick:()=>r("date"),className:"flex-1 min-h-[44px]",children:"Back"}),x.jsx(Qt,{onClick:v,className:"flex-1 min-h-[44px]",children:"Confirm"})]})]})})]})},fV=({onAddTask:e})=>{const[t,n]=R.useState(!1),[r,i]=R.useState(""),[s,a]=R.useState("Q1_DO"),[o,l]=R.useState(3),[c,u]=R.useState(30),[f,g]=R.useState(),[d,m]=R.useState(!1),v=async h=>{if(h.preventDefault(),!(!r.trim()||!f)){m(!0);try{const p=dr(f,"MMM d, h:mm a");await e({title:r.trim(),quadrant:s,energy:o,duration:c,status:"pending",due:p}),i(""),a("Q1_DO"),l(3),u(30),g(void 0),n(!1)}finally{m(!1)}}};return x.jsxs(tf,{open:t,onOpenChange:n,children:[x.jsx(Cg,{asChild:!0,children:x.jsx("button",{className:"border border-border p-2.5 rounded-pill text-muted-foreground shadow-soft hover:shadow-md transition-all bg-blue-400 hover:bg-blue-300",children:x.jsx(jO,{size:20})})}),x.jsxs(Iu,{className:"sm:max-w-[425px]",children:[x.jsx(Mu,{children:x.jsx(Ou,{children:"Add New Task"})}),x.jsxs("form",{onSubmit:v,className:"space-y-4 mt-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(ws,{htmlFor:"title",children:"Task Title"}),x.jsx(Cs,{id:"title",value:r,onChange:h=>i(h.target.value),placeholder:"Enter task title...",required:!0,className:"min-h-[44px]"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(ws,{htmlFor:"quadrant",children:"Quadrant"}),x.jsxs(Ng,{value:s,onValueChange:h=>a(h),children:[x.jsx(nf,{className:"min-h-[44px]",children:x.jsx(Tg,{placeholder:"Select quadrant"})}),x.jsx(rf,{children:Object.values(R0).map(h=>x.jsxs(sf,{value:h.id,children:[h.icon," ",h.title]},h.id))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(ws,{htmlFor:"energy",children:"Energy (1-5)"}),x.jsxs(Ng,{value:o.toString(),onValueChange:h=>l(parseInt(h)),children:[x.jsx(nf,{className:"min-h-[44px]",children:x.jsx(Tg,{})}),x.jsx(rf,{children:[1,2,3,4,5].map(h=>x.jsxs(sf,{value:h.toString(),children:[h," "]},h))})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(ws,{htmlFor:"duration",children:"Duration (min)"}),x.jsx(Cs,{id:"duration",type:"number",min:5,max:480,value:c,onChange:h=>u(parseInt(h.target.value)||30),className:"min-h-[44px]"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(ws,{children:"Due Date"}),x.jsx(V2,{value:f,onChange:g})]}),x.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[x.jsx(Qt,{type:"button",variant:"outline",onClick:()=>n(!1),className:"min-h-[44px]",children:"Cancel"}),x.jsxs(Qt,{type:"submit",disabled:d||!f,className:"min-h-[44px]",children:[d&&x.jsx(sa,{className:"mr-2 animate-spin",size:16}),"Add Task"]})]})]})]})]})},pV=({task:e,open:t,onOpenChange:n,onUpdateTask:r,onDeleteTask:i})=>{const[s,a]=R.useState(""),[o,l]=R.useState("Q1_DO"),[c,u]=R.useState(3),[f,g]=R.useState(30),[d,m]=R.useState(),[v,h]=R.useState(!1);R.useEffect(()=>{if(e&&(a(e.title),l(e.quadrant),u(e.energy),g(e.duration),e.due)){const b=new Date(e.due);isNaN(b.getTime())?m(void 0):m(b)}},[e]);const p=async b=>{if(b.preventDefault(),!(!e||!s.trim())){h(!0);try{const k=d?dr(d,"MMM d, h:mm a"):e.due;await r(e.id,{title:s.trim(),quadrant:o,energy:c,duration:f,due:k}),n(!1)}finally{h(!1)}}},y=async()=>{if(e){h(!0);try{await i(e.id),n(!1)}finally{h(!1)}}};return e?x.jsx(tf,{open:t,onOpenChange:n,children:x.jsxs(Iu,{className:"sm:max-w-[425px]",children:[x.jsx(Mu,{children:x.jsx(Ou,{children:"Modify Task"})}),x.jsxs("form",{onSubmit:p,className:"space-y-4 mt-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(ws,{htmlFor:"edit-title",children:"Task Title"}),x.jsx(Cs,{id:"edit-title",value:s,onChange:b=>a(b.target.value),placeholder:"Enter task title...",required:!0,className:"min-h-[44px]"})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(ws,{htmlFor:"edit-quadrant",children:"Quadrant"}),x.jsxs(Ng,{value:o,onValueChange:b=>l(b),children:[x.jsx(nf,{className:"min-h-[44px]",children:x.jsx(Tg,{placeholder:"Select quadrant"})}),x.jsx(rf,{children:Object.values(R0).map(b=>x.jsxs(sf,{value:b.id,children:[b.icon," ",b.title]},b.id))})]})]}),x.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx(ws,{htmlFor:"edit-energy",children:"Energy (1-5)"}),x.jsxs(Ng,{value:c.toString(),onValueChange:b=>u(parseInt(b)),children:[x.jsx(nf,{className:"min-h-[44px]",children:x.jsx(Tg,{})}),x.jsx(rf,{children:[1,2,3,4,5].map(b=>x.jsxs(sf,{value:b.toString(),children:[b," "]},b))})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(ws,{htmlFor:"edit-duration",children:"Duration (min)"}),x.jsx(Cs,{id:"edit-duration",type:"number",min:5,max:480,value:f,onChange:b=>g(parseInt(b.target.value)||30),className:"min-h-[44px]"})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(ws,{children:"Due Date"}),x.jsx(V2,{value:d,onChange:m})]}),x.jsxs("div",{className:"flex flex-col gap-2 pt-4",children:[x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Qt,{type:"button",variant:"outline",onClick:()=>n(!1),className:"flex-1 min-h-[44px]",children:"Cancel"}),x.jsxs(Qt,{type:"submit",disabled:v,className:"flex-1 min-h-[44px]",children:[v&&x.jsx(sa,{className:"mr-2 animate-spin",size:16}),"Save Changes"]})]}),x.jsx(Qt,{type:"button",variant:"destructive",onClick:y,disabled:v,className:"w-full min-h-[44px]",children:"Delete Task"})]})]})]})}):null};var F0="Collapsible",[mV,eJ]=Qi(F0),[gV,G2]=mV(F0),$P=R.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=e,[l,c]=$a({prop:r,defaultProp:i??!1,onChange:a,caller:F0});return x.jsx(gV,{scope:n,disabled:s,contentId:Ti(),open:l,onOpenToggle:R.useCallback(()=>c(u=>!u),[c]),children:x.jsx(At.div,{"data-state":K2(l),"data-disabled":s?"":void 0,...o,ref:t})})});$P.displayName=F0;var zP="CollapsibleTrigger",qP=R.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=G2(zP,n);return x.jsx(At.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":K2(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Ke(e.onClick,i.onOpenToggle)})});qP.displayName=zP;var Y2="CollapsibleContent",HP=R.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=G2(Y2,e.__scopeCollapsible);return x.jsx(ji,{present:n||i.open,children:({present:s})=>x.jsx(vV,{...r,ref:t,present:s})})});HP.displayName=Y2;var vV=R.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,a=G2(Y2,n),[o,l]=R.useState(r),c=R.useRef(null),u=Xt(t,c),f=R.useRef(0),g=f.current,d=R.useRef(0),m=d.current,v=a.open||o,h=R.useRef(v),p=R.useRef(void 0);return R.useEffect(()=>{const y=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(y)},[]),wr(()=>{const y=c.current;if(y){p.current=p.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const b=y.getBoundingClientRect();f.current=b.height,d.current=b.width,h.current||(y.style.transitionDuration=p.current.transitionDuration,y.style.animationName=p.current.animationName),l(r)}},[a.open,r]),x.jsx(At.div,{"data-state":K2(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!v,...s,ref:u,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":m?`${m}px`:void 0,...e.style},children:v&&i})});function K2(e){return e?"open":"closed"}var yV=$P;const wV=yV,bV=qP,xV=HP,_V=({tasks:e,onReschedule:t,onComplete:n})=>{const[r,i]=R.useState(null),[s,a]=R.useState(),[o,l]=R.useState(!0),c=e.filter(f=>f.status==="missed");if(c.length===0)return null;const u=async f=>{if(s){const g=dr(s,"MMM d, h:mm a");await t(f,g),i(null),a(void 0)}};return x.jsx(wV,{open:o,onOpenChange:l,children:x.jsxs("div",{className:"bg-missed/10 border-2 border-missed rounded-xl p-4 animate-fade-in",children:[x.jsx(bV,{className:"w-full",children:x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(qO,{className:"text-missed",size:20}),x.jsxs("h3",{className:"text-base font-bold text-missed",children:["Missed Tasks (",c.length,")"]})]}),o?x.jsx(Qb,{className:"text-missed",size:20}):x.jsx(u0,{className:"text-missed",size:20})]})}),x.jsx(xV,{children:x.jsx("div",{className:"mt-3 space-y-2",children:c.map(f=>x.jsxs("div",{className:"bg-card rounded-lg p-3 flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-3",children:[x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsx("p",{className:"font-medium text-foreground truncate",children:f.title}),x.jsxs("p",{className:"text-xs text-muted-foreground",children:["Due: ",f.due]})]}),r===f.id?x.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 w-full sm:w-auto",children:[x.jsx("div",{className:"flex-1 sm:w-48",children:x.jsx(V2,{value:s,onChange:a})}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx(Qt,{size:"sm",onClick:()=>u(f.id),disabled:!s,className:"flex-1 sm:flex-none min-h-[44px]",children:"Save"}),x.jsx(Qt,{size:"sm",variant:"outline",onClick:()=>{i(null),a(void 0)},className:"flex-1 sm:flex-none min-h-[44px]",children:"Cancel"})]})]}):x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(Qt,{size:"sm",variant:"outline",onClick:()=>i(f.id),className:"flex-1 sm:flex-none min-h-[44px] gap-1",children:[x.jsx(g4,{size:14}),"Reschedule"]}),x.jsxs(Qt,{size:"sm",onClick:()=>n(f.id),className:"flex-1 sm:flex-none min-h-[44px] gap-1",children:[x.jsx(Zb,{size:14}),"Complete"]})]})]},f.id))})})]})})},OS={Q1_DO:"bg-quadrant-urgent",Q2_SCHEDULE:"bg-quadrant-schedule",Q3_DELEGATE:"bg-quadrant-delegate",Q4_ELIMINATE:"bg-quadrant-eliminate"};function SV(e){if(!e)return null;const t=e.match(/(\w+)\s+(\d+),?\s*(\d{4})?/i);if(t){const[,r,i,s]=t,o=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"].findIndex(l=>r.toLowerCase().startsWith(l));if(o>=0){const l=s?parseInt(s):new Date().getFullYear();return new Date(l,o,parseInt(i))}}const n=new Date(e);return isNaN(n.getTime())?null:n}const AV=({tasks:e})=>{const[t,n]=R.useState(!1),[r,i]=R.useState(),s=R.useMemo(()=>{const l={};return e.forEach(c=>{const u=SV(c.due);if(u){const f=dr(u,"yyyy-MM-dd");l[f]||(l[f]=[]),l[f].push(c)}}),l},[e]),a=R.useMemo(()=>{if(!r)return[];const l=dr(r,"yyyy-MM-dd");return s[l]||[]},[r,s]),o=l=>{const c=dr(l,"yyyy-MM-dd"),u=s[c]||[],f={Q1_DO:0,Q2_SCHEDULE:0,Q3_DELEGATE:0,Q4_ELIMINATE:0};u.forEach(d=>{f[d.quadrant]++});const g=[];return Object.keys(f).forEach(d=>{const m=f[d];if(m>0)for(let v=0;v<Math.min(m,5);v++)g.push({color:OS[d],count:m})}),x.jsxs("div",{className:"flex flex-col items-center",children:[x.jsx("span",{children:l.getDate()}),g.length>0&&x.jsx("div",{className:"flex gap-0.5 mt-0.5 flex-wrap justify-center max-w-[24px]",children:g.slice(0,6).map((d,m)=>x.jsx("div",{className:$t("w-1.5 h-1.5 rounded-full",d.color)},m))})]})};return x.jsxs(tf,{open:t,onOpenChange:n,children:[x.jsx(Cg,{asChild:!0,children:x.jsx("button",{className:"border border-border p-2.5 rounded-pill text-muted-foreground shadow-soft hover:shadow-md transition-all bg-gradient-to-br from-primary/20 to-primary/10 hover:from-primary/30 hover:to-primary/20",children:x.jsx(bO,{size:20,className:"text-primary"})})}),x.jsxs(Iu,{className:"sm:max-w-[500px] max-h-[90vh] overflow-y-auto",children:[x.jsx(Mu,{children:x.jsx(Ou,{children:"Task Calendar"})}),x.jsxs("div",{className:"mt-4",children:[x.jsx(H2,{mode:"single",selected:r,onSelect:i,className:"rounded-md border pointer-events-auto",components:{DayContent:({date:l})=>o(l)}}),x.jsxs("div",{className:"flex flex-wrap gap-3 mt-4 text-xs",children:[x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-quadrant-urgent"}),x.jsx("span",{children:"Do First"})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-quadrant-schedule"}),x.jsx("span",{children:"Schedule"})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-quadrant-delegate"}),x.jsx("span",{children:"Delegate"})]}),x.jsxs("div",{className:"flex items-center gap-1",children:[x.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-quadrant-eliminate"}),x.jsx("span",{children:"Eliminate"})]})]}),r&&a.length>0&&x.jsxs("div",{className:"mt-4 p-3 bg-card rounded-lg border",children:[x.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["Tasks for ",dr(r,"MMMM d, yyyy")]}),x.jsx("div",{className:"space-y-2",children:a.map(l=>x.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[x.jsx("div",{className:$t("w-2 h-2 rounded-full",OS[l.quadrant])}),x.jsx("span",{className:l.status==="completed"?"line-through text-muted-foreground":"",children:l.title}),l.status==="completed"&&x.jsx("span",{className:"text-xs text-primary",children:""})]},l.id))})]}),r&&a.length===0&&x.jsxs("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg text-center text-sm text-muted-foreground",children:["No tasks for ",dr(r,"MMMM d, yyyy")]})]})]})]})};var X2="Progress",Z2=100,[kV,tJ]=Qi(X2),[CV,EV]=kV(X2),WP=R.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=NV,...a}=e;(i||i===0)&&!jS(i)&&console.error(TV(`${i}`,"Progress"));const o=jS(i)?i:Z2;r!==null&&!DS(r,o)&&console.error(PV(`${r}`,"Progress"));const l=DS(r,o)?r:null,c=Rg(l)?s(l,o):void 0;return x.jsx(CV,{scope:n,value:l,max:o,children:x.jsx(At.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":Rg(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":YP(l,o),"data-value":l??void 0,"data-max":o,...a,ref:t})})});WP.displayName=X2;var VP="ProgressIndicator",GP=R.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=EV(VP,n);return x.jsx(At.div,{"data-state":YP(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});GP.displayName=VP;function NV(e,t){return`${Math.round(e/t*100)}%`}function YP(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Rg(e){return typeof e=="number"}function jS(e){return Rg(e)&&!isNaN(e)&&e>0}function DS(e,t){return Rg(e)&&!isNaN(e)&&e<=t&&e>=0}function TV(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Z2}\`.`}function PV(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Z2} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var KP=WP,RV=GP;const Nw=R.forwardRef(({className:e,value:t,...n},r)=>x.jsx(KP,{ref:r,className:$t("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:x.jsx(RV,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Nw.displayName=KP.displayName;const XP=({size:e="compact"})=>{const{progress:t,loading:n,getXPProgress:r,getXPPerEnergy:i}=E2();if(n||!t)return null;const{current:s,required:a,percentage:o}=r(),l=i();return e==="large"?x.jsxs("div",{className:"bg-card/90 backdrop-blur-sm rounded-2xl p-4 sm:p-5 shadow-soft border border-border/50",children:[x.jsxs("div",{className:"flex items-center justify-between mb-3",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-glow",children:x.jsx("span",{className:"text-base font-black text-white",children:t.current_level})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-xs font-bold uppercase tracking-widest text-muted-foreground",children:"Level"}),x.jsxs("p",{className:"text-lg font-black text-foreground",children:[t.current_level," / 100"]})]})]}),x.jsxs("div",{className:"flex items-center gap-1.5 text-amber-500 bg-amber-500/10 px-3 py-1.5 rounded-full",children:[x.jsx(ug,{size:16}),x.jsxs("span",{className:"text-sm font-bold",children:[l," XP/"]})]})]}),x.jsxs("div",{className:"space-y-2",children:[x.jsx(Nw,{value:o,className:"h-4 bg-secondary"}),x.jsxs("div",{className:"flex justify-between text-xs font-bold text-muted-foreground uppercase tracking-wide",children:[x.jsxs("span",{children:[s.toLocaleString()," XP"]}),x.jsxs("span",{children:[a.toLocaleString()," XP needed"]})]})]})]}):x.jsxs("div",{className:"bg-card/80 backdrop-blur-sm rounded-pill p-3 shadow-soft border border-border/50",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center shadow-glow",children:x.jsx("span",{className:"text-xs font-black text-white",children:t.current_level})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-muted-foreground",children:"Level"}),x.jsxs("p",{className:"text-sm font-black text-foreground",children:[t.current_level," / 100"]})]})]}),x.jsxs("div",{className:"flex items-center gap-1 text-amber-500",children:[x.jsx(ug,{size:14}),x.jsxs("span",{className:"text-xs font-bold",children:[l," XP/"]})]})]}),x.jsxs("div",{className:"space-y-1",children:[x.jsx(Nw,{value:o,className:"h-2 bg-secondary"}),x.jsxs("div",{className:"flex justify-between text-[9px] font-bold text-muted-foreground uppercase tracking-wide",children:[x.jsxs("span",{children:[s.toLocaleString()," XP"]}),x.jsxs("span",{children:[a.toLocaleString()," XP"]})]})]})]})},LV=({onTaskClick:e})=>{const{tasks:t,loading:n,addTask:r,updateTask:i,deleteTask:s,toggleTaskComplete:a,registerXPCallbacks:o}=rT(),{addXP:l,removeXP:c,getXPPerEnergy:u}=E2(),{toast:f}=Qo(),[g,d]=R.useState(null),[m,v]=R.useState(!1);R.useEffect(()=>{o(async j=>{const D=u(),q=j*D,z=await l(j);f({title:z.leveledUp?` Level Up! Level ${z.newLevel}`:`+${q} XP earned!`,description:z.leveledUp?"Congratulations on reaching a new level!":`Energy ${j}  = ${q} XP`})},async j=>{const D=u(),q=j*D;await c(j),f({title:`-${q} XP`,description:"Task marked as incomplete",variant:"destructive"})})},[l,c,u,o,f]);const h=k=>{d(k),v(!0)},p=async(k,L)=>{await i(k,{quadrant:L})},y=async(k,L)=>{await i(k,{due:L,status:"pending"}),f({title:"Task rescheduled",description:"The task has been rescheduled"})},b=async k=>{const L=t.find(j=>j.id===k);if(L){await i(k,{status:"completed"});const j=u(),D=L.energy*j,q=await l(L.energy);f({title:q.leveledUp?` Level Up! Level ${q.newLevel}`:`Task completed! +${D} XP`,description:L.title})}};return n?x.jsx("div",{className:"flex items-center justify-center py-12",children:x.jsx(sa,{className:"animate-spin text-muted-foreground"})}):x.jsxs("div",{className:"space-y-4 sm:space-y-6 animate-fade-in pb-24 px-2 sm:px-0",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 px-1",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-quadrant-schedule",children:"Your Flow"}),x.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground font-medium tracking-tight",children:"Tasks Dashboard"})]}),x.jsxs("div",{className:"flex gap-2 w-full sm:w-auto",children:[x.jsx(AV,{tasks:t}),x.jsx(fV,{onAddTask:r})]})]}),x.jsx(XP,{size:"large"}),x.jsx(_V,{tasks:t,onReschedule:y,onComplete:b}),x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:Object.values(R0).map(k=>x.jsx(vz,{quadrant:k,tasks:t,onTaskClick:e,onToggleComplete:a,onEditTask:h,onMoveToQuadrant:p},k.id))}),x.jsx(pV,{task:g,open:m,onOpenChange:v,onUpdateTask:i,onDeleteTask:s})]})},IV="modulepreload",MV=function(e){return"/"+e},FS={},Ws=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=Promise.allSettled(n.map(l=>{if(l=MV(l),l in FS)return;FS[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":IV,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((g,d)=>{f.addEventListener("load",g),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return t().catch(s)})};var OV={640:(e,t,n)=>{n.d(t,{AnnotationLayer:()=>Z,FreeTextAnnotationElement:()=>$,InkAnnotationElement:()=>W,StampAnnotationElement:()=>X});var r=n(266),i=n(473),s=n(780);function a(te){return Math.floor(Math.max(0,Math.min(1,te))*255).toString(16).padStart(2,"0")}function o(te){return Math.max(0,Math.min(255,255*te))}class l{static CMYK_G([E,T,S,_]){return["G",1-Math.min(1,.3*E+.59*S+.11*T+_)]}static G_CMYK([E]){return["CMYK",0,0,0,1-E]}static G_RGB([E]){return["RGB",E,E,E]}static G_rgb([E]){return E=o(E),[E,E,E]}static G_HTML([E]){const T=a(E);return`#${T}${T}${T}`}static RGB_G([E,T,S]){return["G",.3*E+.59*T+.11*S]}static RGB_rgb(E){return E.map(o)}static RGB_HTML(E){return`#${E.map(a).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([E,T,S,_]){return["RGB",1-Math.min(1,E+_),1-Math.min(1,S+_),1-Math.min(1,T+_)]}static CMYK_rgb([E,T,S,_]){return[o(1-Math.min(1,E+_)),o(1-Math.min(1,S+_)),o(1-Math.min(1,T+_))]}static CMYK_HTML(E){const T=this.CMYK_RGB(E).slice(1);return this.RGB_HTML(T)}static RGB_CMYK([E,T,S]){const _=1-E,C=1-T,P=1-S,O=Math.min(_,C,P);return["CMYK",_,C,P,O]}}var c=n(160);const u=1e3,f=9,g=new WeakSet;function d(te){return{width:te[2]-te[0],height:te[3]-te[1]}}class m{static create(E){switch(E.data.annotationType){case r.AnnotationType.LINK:return new h(E);case r.AnnotationType.TEXT:return new p(E);case r.AnnotationType.WIDGET:switch(E.data.fieldType){case"Tx":return new b(E);case"Btn":return E.data.radioButton?new j(E):E.data.checkBox?new L(E):new D(E);case"Ch":return new q(E);case"Sig":return new k(E)}return new y(E);case r.AnnotationType.POPUP:return new z(E);case r.AnnotationType.FREETEXT:return new $(E);case r.AnnotationType.LINE:return new H(E);case r.AnnotationType.SQUARE:return new ae(E);case r.AnnotationType.CIRCLE:return new Y(E);case r.AnnotationType.POLYLINE:return new Q(E);case r.AnnotationType.CARET:return new fe(E);case r.AnnotationType.INK:return new W(E);case r.AnnotationType.POLYGON:return new ie(E);case r.AnnotationType.HIGHLIGHT:return new se(E);case r.AnnotationType.UNDERLINE:return new oe(E);case r.AnnotationType.SQUIGGLY:return new K(E);case r.AnnotationType.STRIKEOUT:return new B(E);case r.AnnotationType.STAMP:return new X(E);case r.AnnotationType.FILEATTACHMENT:return new ne(E);default:return new v(E)}}}class v{#e=!1;constructor(E,{isRenderable:T=!1,ignoreBorder:S=!1,createQuadrilaterals:_=!1}={}){this.isRenderable=T,this.data=E.data,this.layer=E.layer,this.linkService=E.linkService,this.downloadManager=E.downloadManager,this.imageResourcesPath=E.imageResourcesPath,this.renderForms=E.renderForms,this.svgFactory=E.svgFactory,this.annotationStorage=E.annotationStorage,this.enableScripting=E.enableScripting,this.hasJSActions=E.hasJSActions,this._fieldObjects=E.fieldObjects,this.parent=E.parent,T&&(this.container=this._createContainer(S)),_&&this._createQuadrilaterals()}static _hasPopupData({titleObj:E,contentsObj:T,richText:S}){return!!(E?.str||T?.str||S?.str)}get hasPopupData(){return v._hasPopupData(this.data)}_createContainer(E){const{data:T,parent:{page:S,viewport:_}}=this,C=document.createElement("section");C.setAttribute("data-annotation-id",T.id),this instanceof y||(C.tabIndex=u),C.style.zIndex=this.parent.zIndex++,this.data.popupRef&&C.setAttribute("aria-haspopup","dialog"),T.noRotate&&C.classList.add("norotate");const{pageWidth:P,pageHeight:O,pageX:U,pageY:M}=_.rawDims;if(!T.rect||this instanceof z){const{rotation:xe}=T;return!T.hasOwnCanvas&&xe!==0&&this.setRotation(xe,C),C}const{width:J,height:pe}=d(T.rect),de=r.Util.normalizeRect([T.rect[0],S.view[3]-T.rect[1]+S.view[1],T.rect[2],S.view[3]-T.rect[3]+S.view[1]]);if(!E&&T.borderStyle.width>0){C.style.borderWidth=`${T.borderStyle.width}px`;const xe=T.borderStyle.horizontalCornerRadius,ve=T.borderStyle.verticalCornerRadius;if(xe>0||ve>0){const ge=`calc(${xe}px * var(--scale-factor)) / calc(${ve}px * var(--scale-factor))`;C.style.borderRadius=ge}else if(this instanceof j){const ge=`calc(${J}px * var(--scale-factor)) / calc(${pe}px * var(--scale-factor))`;C.style.borderRadius=ge}switch(T.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:C.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:C.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:C.style.borderBottomStyle="solid";break}const ce=T.borderColor||null;ce?(this.#e=!0,C.style.borderColor=r.Util.makeHexColor(ce[0]|0,ce[1]|0,ce[2]|0)):C.style.borderWidth=0}C.style.left=`${100*(de[0]-U)/P}%`,C.style.top=`${100*(de[1]-M)/O}%`;const{rotation:he}=T;return T.hasOwnCanvas||he===0?(C.style.width=`${100*J/P}%`,C.style.height=`${100*pe/O}%`):this.setRotation(he,C),C}setRotation(E,T=this.container){if(!this.data.rect)return;const{pageWidth:S,pageHeight:_}=this.parent.viewport.rawDims,{width:C,height:P}=d(this.data.rect);let O,U;E%180===0?(O=100*C/S,U=100*P/_):(O=100*P/S,U=100*C/_),T.style.width=`${O}%`,T.style.height=`${U}%`,T.setAttribute("data-main-rotation",(360-E)%360)}get _commonActions(){const E=(T,S,_)=>{const C=_.detail[T],P=C[0],O=C.slice(1);_.target.style[S]=l[`${P}_HTML`](O),this.annotationStorage.setValue(this.data.id,{[S]:l[`${P}_rgb`](O)})};return(0,r.shadow)(this,"_commonActions",{display:T=>{const{display:S}=T.detail,_=S%2===1;this.container.style.visibility=_?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:_,noPrint:S===1||S===2})},print:T=>{this.annotationStorage.setValue(this.data.id,{noPrint:!T.detail.print})},hidden:T=>{const{hidden:S}=T.detail;this.container.style.visibility=S?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:S,noView:S})},focus:T=>{setTimeout(()=>T.target.focus({preventScroll:!1}),0)},userName:T=>{T.target.title=T.detail.userName},readonly:T=>{T.target.disabled=T.detail.readonly},required:T=>{this._setRequired(T.target,T.detail.required)},bgColor:T=>{E("bgColor","backgroundColor",T)},fillColor:T=>{E("fillColor","backgroundColor",T)},fgColor:T=>{E("fgColor","color",T)},textColor:T=>{E("textColor","color",T)},borderColor:T=>{E("borderColor","borderColor",T)},strokeColor:T=>{E("strokeColor","borderColor",T)},rotation:T=>{const S=T.detail.rotation;this.setRotation(S),this.annotationStorage.setValue(this.data.id,{rotation:S})}})}_dispatchEventFromSandbox(E,T){const S=this._commonActions;for(const _ of Object.keys(T.detail))(E[_]||S[_])?.(T)}_setDefaultPropertiesFromJS(E){if(!this.enableScripting)return;const T=this.annotationStorage.getRawValue(this.data.id);if(!T)return;const S=this._commonActions;for(const[_,C]of Object.entries(T)){const P=S[_];if(P){const O={detail:{[_]:C},target:E};P(O),delete T[_]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:E}=this.data;if(!E)return;const[T,S,_,C]=this.data.rect;if(E.length===1){const[,{x:ve,y:ce},{x:ge,y:Pe}]=E[0];if(_===ve&&C===ce&&T===ge&&S===Pe)return}const{style:P}=this.container;let O;if(this.#e){const{borderColor:ve,borderWidth:ce}=P;P.borderWidth=0,O=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${ve}" stroke-width="${ce}">`],this.container.classList.add("hasBorder")}const U=_-T,M=C-S,{svgFactory:J}=this,pe=J.createElement("svg");pe.classList.add("quadrilateralsContainer"),pe.setAttribute("width",0),pe.setAttribute("height",0);const de=J.createElement("defs");pe.append(de);const he=J.createElement("clipPath"),xe=`clippath_${this.data.id}`;he.setAttribute("id",xe),he.setAttribute("clipPathUnits","objectBoundingBox"),de.append(he);for(const[,{x:ve,y:ce},{x:ge,y:Pe}]of E){const ke=J.createElement("rect"),Re=(ge-T)/U,Fe=(C-ce)/M,Ue=(ve-ge)/U,Me=(ce-Pe)/M;ke.setAttribute("x",Re),ke.setAttribute("y",Fe),ke.setAttribute("width",Ue),ke.setAttribute("height",Me),he.append(ke),O?.push(`<rect vector-effect="non-scaling-stroke" x="${Re}" y="${Fe}" width="${Ue}" height="${Me}"/>`)}this.#e&&(O.push("</g></svg>')"),P.backgroundImage=O.join("")),this.container.append(pe),this.container.style.clipPath=`url(#${xe})`}_createPopup(){const{container:E,data:T}=this;E.setAttribute("aria-haspopup","dialog");const S=new z({data:{color:T.color,titleObj:T.titleObj,modificationDate:T.modificationDate,contentsObj:T.contentsObj,richText:T.richText,parentRect:T.rect,borderStyle:0,id:`popup_${T.id}`,rotation:T.rotation},parent:this.parent,elements:[this]});this.parent.div.append(S.render())}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(E,T=null){const S=[];if(this._fieldObjects){const _=this._fieldObjects[E];if(_)for(const{page:C,id:P,exportValues:O}of _){if(C===-1||P===T)continue;const U=typeof O=="string"?O:null,M=document.querySelector(`[data-element-id="${P}"]`);if(M&&!g.has(M)){(0,r.warn)(`_getElementsByName - element not allowed: ${P}`);continue}S.push({id:P,exportValue:U,domElement:M})}return S}for(const _ of document.getElementsByName(E)){const{exportValue:C}=_,P=_.getAttribute("data-element-id");P!==T&&g.has(_)&&S.push({id:P,exportValue:C,domElement:_})}return S}show(){this.container&&(this.container.hidden=!1),this.popup?.maybeShow()}hide(){this.container&&(this.container.hidden=!0),this.popup?.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const E=this.getElementsToTriggerPopup();if(Array.isArray(E))for(const T of E)T.classList.add("highlightArea");else E.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:E,data:{id:T}}=this;this.container.addEventListener("dblclick",()=>{this.linkService.eventBus?.dispatch("switchannotationeditormode",{source:this,mode:E,editId:T})})}}class h extends v{constructor(E,T=null){super(E,{isRenderable:!0,ignoreBorder:!!T?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=E.data.isTooltipOnly}render(){const{data:E,linkService:T}=this,S=document.createElement("a");S.setAttribute("data-element-id",E.id);let _=!1;return E.url?(T.addLinkAttributes(S,E.url,E.newWindow),_=!0):E.action?(this._bindNamedAction(S,E.action),_=!0):E.attachment?(this.#t(S,E.attachment,E.attachmentDest),_=!0):E.setOCGState?(this.#n(S,E.setOCGState),_=!0):E.dest?(this._bindLink(S,E.dest),_=!0):(E.actions&&(E.actions.Action||E.actions["Mouse Up"]||E.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(S,E),_=!0),E.resetForm?(this._bindResetFormAction(S,E.resetForm),_=!0):this.isTooltipOnly&&!_&&(this._bindLink(S,""),_=!0)),this.container.classList.add("linkAnnotation"),_&&this.container.append(S),this.container}#e(){this.container.setAttribute("data-internal-link","")}_bindLink(E,T){E.href=this.linkService.getDestinationHash(T),E.onclick=()=>(T&&this.linkService.goToDestination(T),!1),(T||T==="")&&this.#e()}_bindNamedAction(E,T){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeNamedAction(T),!1),this.#e()}#t(E,T,S=null){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.downloadManager?.openOrDownloadData(T.content,T.filename,S),!1),this.#e()}#n(E,T){E.href=this.linkService.getAnchorUrl(""),E.onclick=()=>(this.linkService.executeSetOCGState(T),!1),this.#e()}_bindJSAction(E,T){E.href=this.linkService.getAnchorUrl("");const S=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const _ of Object.keys(T.actions)){const C=S.get(_);C&&(E[C]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T.id,name:_}}),!1))}E.onclick||(E.onclick=()=>!1),this.#e()}_bindResetFormAction(E,T){const S=E.onclick;if(S||(E.href=this.linkService.getAnchorUrl("")),this.#e(),!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),S||(E.onclick=()=>!1);return}E.onclick=()=>{S?.();const{fields:_,refs:C,include:P}=T,O=[];if(_.length!==0||C.length!==0){const J=new Set(C);for(const pe of _){const de=this._fieldObjects[pe]||[];for(const{id:he}of de)J.add(he)}for(const pe of Object.values(this._fieldObjects))for(const de of pe)J.has(de.id)===P&&O.push(de)}else for(const J of Object.values(this._fieldObjects))O.push(...J);const U=this.annotationStorage,M=[];for(const J of O){const{id:pe}=J;switch(M.push(pe),J.type){case"text":{const he=J.defaultValue||"";U.setValue(pe,{value:he});break}case"checkbox":case"radiobutton":{const he=J.defaultValue===J.exportValues;U.setValue(pe,{value:he});break}case"combobox":case"listbox":{const he=J.defaultValue||"";U.setValue(pe,{value:he});break}default:continue}const de=document.querySelector(`[data-element-id="${pe}"]`);if(de){if(!g.has(de)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${pe}`);continue}}else continue;de.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:M,name:"ResetForm"}}),!1}}}class p extends v{constructor(E){super(E,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const E=document.createElement("img");return E.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",E.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),E.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(E),this.container}}class y extends v{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(E){this.data.hasOwnCanvas&&(E.previousSibling?.nodeName==="CANVAS"&&(E.previousSibling.hidden=!0),E.hidden=!1)}_getKeyModifier(E){return r.FeatureTest.platform.isMac?E.metaKey:E.ctrlKey}_setEventListener(E,T,S,_,C){S.includes("mouse")?E.addEventListener(S,P=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_,value:C(P),shift:P.shiftKey,modifier:this._getKeyModifier(P)}})}):E.addEventListener(S,P=>{if(S==="blur"){if(!T.focused||!P.relatedTarget)return;T.focused=!1}else if(S==="focus"){if(T.focused)return;T.focused=!0}C&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:_,value:C(P)}})})}_setEventListeners(E,T,S,_){for(const[C,P]of S)(P==="Action"||this.data.actions?.[P])&&((P==="Focus"||P==="Blur")&&(T||={focused:!1}),this._setEventListener(E,T,C,P,_),P==="Focus"&&!this.data.actions?.Blur?this._setEventListener(E,T,"blur","Blur",null):P==="Blur"&&!this.data.actions?.Focus&&this._setEventListener(E,T,"focus","Focus",null))}_setBackgroundColor(E){const T=this.data.backgroundColor||null;E.style.backgroundColor=T===null?"transparent":r.Util.makeHexColor(T[0],T[1],T[2])}_setTextStyle(E){const T=["left","center","right"],{fontColor:S}=this.data.defaultAppearanceData,_=this.data.defaultAppearanceData.fontSize||f,C=E.style;let P;const O=2,U=M=>Math.round(10*M)/10;if(this.data.multiLine){const M=Math.abs(this.data.rect[3]-this.data.rect[1]-O),J=Math.round(M/(r.LINE_FACTOR*_))||1,pe=M/J;P=Math.min(_,U(pe/r.LINE_FACTOR))}else{const M=Math.abs(this.data.rect[3]-this.data.rect[1]-O);P=Math.min(_,U(M/r.LINE_FACTOR))}C.fontSize=`calc(${P}px * var(--scale-factor))`,C.color=r.Util.makeHexColor(S[0],S[1],S[2]),this.data.textAlignment!==null&&(C.textAlign=T[this.data.textAlignment])}_setRequired(E,T){T?E.setAttribute("required",!0):E.removeAttribute("required"),E.setAttribute("aria-required",T)}}class b extends y{constructor(E){const T=E.renderForms||E.data.hasOwnCanvas||!E.data.hasAppearance&&!!E.data.fieldValue;super(E,{isRenderable:T})}setPropertyOnSiblings(E,T,S,_){const C=this.annotationStorage;for(const P of this._getElementsByName(E.name,E.id))P.domElement&&(P.domElement[T]=S),C.setValue(P.id,{[_]:S})}render(){const E=this.annotationStorage,T=this.data.id;this.container.classList.add("textWidgetAnnotation");let S=null;if(this.renderForms){const _=E.getValue(T,{value:this.data.fieldValue});let C=_.value||"";const P=E.getValue(T,{charLimit:this.data.maxLen}).charLimit;P&&C.length>P&&(C=C.slice(0,P));let O=_.formattedValue||this.data.textContent?.join(`
`)||null;O&&this.data.comb&&(O=O.replaceAll(/\s+/g,""));const U={userValue:C,formattedValue:O,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(S=document.createElement("textarea"),S.textContent=O??C,this.data.doNotScroll&&(S.style.overflowY="hidden")):(S=document.createElement("input"),S.type="text",S.setAttribute("value",O??C),this.data.doNotScroll&&(S.style.overflowX="hidden")),this.data.hasOwnCanvas&&(S.hidden=!0),g.add(S),S.setAttribute("data-element-id",T),S.disabled=this.data.readOnly,S.name=this.data.fieldName,S.tabIndex=u,this._setRequired(S,this.data.required),P&&(S.maxLength=P),S.addEventListener("input",J=>{E.setValue(T,{value:J.target.value}),this.setPropertyOnSiblings(S,"value",J.target.value,"value"),U.formattedValue=null}),S.addEventListener("resetform",J=>{const pe=this.data.defaultFieldValue??"";S.value=U.userValue=pe,U.formattedValue=null});let M=J=>{const{formattedValue:pe}=U;pe!=null&&(J.target.value=pe),J.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){S.addEventListener("focus",pe=>{if(U.focused)return;const{target:de}=pe;U.userValue&&(de.value=U.userValue),U.lastCommittedValue=de.value,U.commitKey=1,this.data.actions?.Focus||(U.focused=!0)}),S.addEventListener("updatefromsandbox",pe=>{this.showElementAndHideCanvas(pe.target);const de={value(he){U.userValue=he.detail.value??"",E.setValue(T,{value:U.userValue.toString()}),he.target.value=U.userValue},formattedValue(he){const{formattedValue:xe}=he.detail;U.formattedValue=xe,xe!=null&&he.target!==document.activeElement&&(he.target.value=xe),E.setValue(T,{formattedValue:xe})},selRange(he){he.target.setSelectionRange(...he.detail.selRange)},charLimit:he=>{const{charLimit:xe}=he.detail,{target:ve}=he;if(xe===0){ve.removeAttribute("maxLength");return}ve.setAttribute("maxLength",xe);let ce=U.userValue;!ce||ce.length<=xe||(ce=ce.slice(0,xe),ve.value=U.userValue=ce,E.setValue(T,{value:ce}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:ce,willCommit:!0,commitKey:1,selStart:ve.selectionStart,selEnd:ve.selectionEnd}}))}};this._dispatchEventFromSandbox(de,pe)}),S.addEventListener("keydown",pe=>{U.commitKey=1;let de=-1;if(pe.key==="Escape"?de=0:pe.key==="Enter"&&!this.data.multiLine?de=2:pe.key==="Tab"&&(U.commitKey=3),de===-1)return;const{value:he}=pe.target;U.lastCommittedValue!==he&&(U.lastCommittedValue=he,U.userValue=he,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:he,willCommit:!0,commitKey:de,selStart:pe.target.selectionStart,selEnd:pe.target.selectionEnd}}))});const J=M;M=null,S.addEventListener("blur",pe=>{if(!U.focused||!pe.relatedTarget)return;this.data.actions?.Blur||(U.focused=!1);const{value:de}=pe.target;U.userValue=de,U.lastCommittedValue!==de&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:de,willCommit:!0,commitKey:U.commitKey,selStart:pe.target.selectionStart,selEnd:pe.target.selectionEnd}}),J(pe)}),this.data.actions?.Keystroke&&S.addEventListener("beforeinput",pe=>{U.lastCommittedValue=null;const{data:de,target:he}=pe,{value:xe,selectionStart:ve,selectionEnd:ce}=he;let ge=ve,Pe=ce;switch(pe.inputType){case"deleteWordBackward":{const ke=xe.substring(0,ve).match(/\w*[^\w]*$/);ke&&(ge-=ke[0].length);break}case"deleteWordForward":{const ke=xe.substring(ve).match(/^[^\w]*\w*/);ke&&(Pe+=ke[0].length);break}case"deleteContentBackward":ve===ce&&(ge-=1);break;case"deleteContentForward":ve===ce&&(Pe+=1);break}pe.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:xe,change:de||"",willCommit:!1,selStart:ge,selEnd:Pe}})}),this._setEventListeners(S,U,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pe=>pe.target.value)}if(M&&S.addEventListener("blur",M),this.data.comb){const pe=(this.data.rect[2]-this.data.rect[0])/P;S.classList.add("comb"),S.style.letterSpacing=`calc(${pe}px * var(--scale-factor) - 1ch)`}}else S=document.createElement("div"),S.textContent=this.data.fieldValue,S.style.verticalAlign="middle",S.style.display="table-cell",this.data.hasOwnCanvas&&(S.hidden=!0);return this._setTextStyle(S),this._setBackgroundColor(S),this._setDefaultPropertiesFromJS(S),this.container.append(S),this.container}}class k extends y{constructor(E){super(E,{isRenderable:!!E.data.hasOwnCanvas})}}class L extends y{constructor(E){super(E,{isRenderable:E.renderForms})}render(){const E=this.annotationStorage,T=this.data,S=T.id;let _=E.getValue(S,{value:T.exportValue===T.fieldValue}).value;typeof _=="string"&&(_=_!=="Off",E.setValue(S,{value:_})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const C=document.createElement("input");return g.add(C),C.setAttribute("data-element-id",S),C.disabled=T.readOnly,this._setRequired(C,this.data.required),C.type="checkbox",C.name=T.fieldName,_&&C.setAttribute("checked",!0),C.setAttribute("exportValue",T.exportValue),C.tabIndex=u,C.addEventListener("change",P=>{const{name:O,checked:U}=P.target;for(const M of this._getElementsByName(O,S)){const J=U&&M.exportValue===T.exportValue;M.domElement&&(M.domElement.checked=J),E.setValue(M.id,{value:J})}E.setValue(S,{value:U})}),C.addEventListener("resetform",P=>{const O=T.defaultFieldValue||"Off";P.target.checked=O===T.exportValue}),this.enableScripting&&this.hasJSActions&&(C.addEventListener("updatefromsandbox",P=>{const O={value(U){U.target.checked=U.detail.value!=="Off",E.setValue(S,{value:U.target.checked})}};this._dispatchEventFromSandbox(O,P)}),this._setEventListeners(C,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],P=>P.target.checked)),this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.append(C),this.container}}class j extends y{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const E=this.annotationStorage,T=this.data,S=T.id;let _=E.getValue(S,{value:T.fieldValue===T.buttonValue}).value;if(typeof _=="string"&&(_=_!==T.buttonValue,E.setValue(S,{value:_})),_)for(const P of this._getElementsByName(T.fieldName,S))E.setValue(P.id,{value:!1});const C=document.createElement("input");if(g.add(C),C.setAttribute("data-element-id",S),C.disabled=T.readOnly,this._setRequired(C,this.data.required),C.type="radio",C.name=T.fieldName,_&&C.setAttribute("checked",!0),C.tabIndex=u,C.addEventListener("change",P=>{const{name:O,checked:U}=P.target;for(const M of this._getElementsByName(O,S))E.setValue(M.id,{value:!1});E.setValue(S,{value:U})}),C.addEventListener("resetform",P=>{const O=T.defaultFieldValue;P.target.checked=O!=null&&O===T.buttonValue}),this.enableScripting&&this.hasJSActions){const P=T.buttonValue;C.addEventListener("updatefromsandbox",O=>{const U={value:M=>{const J=P===M.detail.value;for(const pe of this._getElementsByName(M.target.name)){const de=J&&pe.id===S;pe.domElement&&(pe.domElement.checked=de),E.setValue(pe.id,{value:de})}}};this._dispatchEventFromSandbox(U,O)}),this._setEventListeners(C,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],O=>O.target.checked)}return this._setBackgroundColor(C),this._setDefaultPropertiesFromJS(C),this.container.append(C),this.container}}class D extends h{constructor(E){super(E,{ignoreBorder:E.data.hasAppearance})}render(){const E=super.render();E.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(E.title=this.data.alternativeText);const T=E.lastChild;return this.enableScripting&&this.hasJSActions&&T&&(this._setDefaultPropertiesFromJS(T),T.addEventListener("updatefromsandbox",S=>{this._dispatchEventFromSandbox({},S)})),E}}class q extends y{constructor(E){super(E,{isRenderable:E.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const E=this.annotationStorage,T=this.data.id,S=E.getValue(T,{value:this.data.fieldValue}),_=document.createElement("select");g.add(_),_.setAttribute("data-element-id",T),_.disabled=this.data.readOnly,this._setRequired(_,this.data.required),_.name=this.data.fieldName,_.tabIndex=u;let C=this.data.combo&&this.data.options.length>0;this.data.combo||(_.size=this.data.options.length,this.data.multiSelect&&(_.multiple=!0)),_.addEventListener("resetform",J=>{const pe=this.data.defaultFieldValue;for(const de of _.options)de.selected=de.value===pe});for(const J of this.data.options){const pe=document.createElement("option");pe.textContent=J.displayValue,pe.value=J.exportValue,S.value.includes(J.exportValue)&&(pe.setAttribute("selected",!0),C=!1),_.append(pe)}let P=null;if(C){const J=document.createElement("option");J.value=" ",J.setAttribute("hidden",!0),J.setAttribute("selected",!0),_.prepend(J),P=()=>{J.remove(),_.removeEventListener("input",P),P=null},_.addEventListener("input",P)}const O=J=>{const pe=J?"value":"textContent",{options:de,multiple:he}=_;return he?Array.prototype.filter.call(de,xe=>xe.selected).map(xe=>xe[pe]):de.selectedIndex===-1?null:de[de.selectedIndex][pe]};let U=O(!1);const M=J=>{const pe=J.target.options;return Array.prototype.map.call(pe,de=>({displayValue:de.textContent,exportValue:de.value}))};return this.enableScripting&&this.hasJSActions?(_.addEventListener("updatefromsandbox",J=>{const pe={value(de){P?.();const he=de.detail.value,xe=new Set(Array.isArray(he)?he:[he]);for(const ve of _.options)ve.selected=xe.has(ve.value);E.setValue(T,{value:O(!0)}),U=O(!1)},multipleSelection(de){_.multiple=!0},remove(de){const he=_.options,xe=de.detail.remove;he[xe].selected=!1,_.remove(xe),he.length>0&&Array.prototype.findIndex.call(he,ce=>ce.selected)===-1&&(he[0].selected=!0),E.setValue(T,{value:O(!0),items:M(de)}),U=O(!1)},clear(de){for(;_.length!==0;)_.remove(0);E.setValue(T,{value:null,items:[]}),U=O(!1)},insert(de){const{index:he,displayValue:xe,exportValue:ve}=de.detail.insert,ce=_.children[he],ge=document.createElement("option");ge.textContent=xe,ge.value=ve,ce?ce.before(ge):_.append(ge),E.setValue(T,{value:O(!0),items:M(de)}),U=O(!1)},items(de){const{items:he}=de.detail;for(;_.length!==0;)_.remove(0);for(const xe of he){const{displayValue:ve,exportValue:ce}=xe,ge=document.createElement("option");ge.textContent=ve,ge.value=ce,_.append(ge)}_.options.length>0&&(_.options[0].selected=!0),E.setValue(T,{value:O(!0),items:M(de)}),U=O(!1)},indices(de){const he=new Set(de.detail.indices);for(const xe of de.target.options)xe.selected=he.has(xe.index);E.setValue(T,{value:O(!0)}),U=O(!1)},editable(de){de.target.disabled=!de.detail.editable}};this._dispatchEventFromSandbox(pe,J)}),_.addEventListener("input",J=>{const pe=O(!0);E.setValue(T,{value:pe}),J.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:T,name:"Keystroke",value:U,changeEx:pe,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(_,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],J=>J.target.value)):_.addEventListener("input",function(J){E.setValue(T,{value:O(!0)})}),this.data.combo&&this._setTextStyle(_),this._setBackgroundColor(_),this._setDefaultPropertiesFromJS(_),this.container.append(_),this.container}}class z extends v{constructor(E){const{data:T,elements:S}=E;super(E,{isRenderable:v._hasPopupData(T)}),this.elements=S}render(){this.container.classList.add("popupAnnotation");const E=new ee({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),T=[];for(const S of this.elements)S.popup=E,T.push(S.data.id),S.addHighlightArea();return this.container.setAttribute("aria-controls",T.map(S=>`${r.AnnotationPrefix}${S}`).join(",")),this.container}}class ee{#e=this.#y.bind(this);#t=this.#m.bind(this);#n=this.#w.bind(this);#r=this.#b.bind(this);#i=null;#s=null;#o=null;#a=null;#c=null;#u=null;#f=null;#h=!1;#d=null;#l=null;#p=null;#g=null;#v=!1;constructor({container:E,color:T,elements:S,titleObj:_,modificationDate:C,contentsObj:P,richText:O,parent:U,rect:M,parentRect:J,open:pe}){this.#s=E,this.#g=_,this.#o=P,this.#p=O,this.#u=U,this.#i=T,this.#l=M,this.#f=J,this.#c=S,this.#a=i.PDFDateString.toDateObject(C),this.trigger=S.flatMap(de=>de.getElementsToTriggerPopup());for(const de of this.trigger)de.addEventListener("click",this.#r),de.addEventListener("mouseenter",this.#n),de.addEventListener("mouseleave",this.#t),de.classList.add("popupTriggerArea");for(const de of S)de.container?.addEventListener("keydown",this.#e);this.#s.hidden=!0,pe&&this.#b()}render(){if(this.#d)return;const{page:{view:E},viewport:{rawDims:{pageWidth:T,pageHeight:S,pageX:_,pageY:C}}}=this.#u,P=this.#d=document.createElement("div");if(P.className="popup",this.#i){const ke=P.style.outlineColor=r.Util.makeHexColor(...this.#i);CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?P.style.backgroundColor=`color-mix(in srgb, ${ke} 30%, white)`:P.style.backgroundColor=r.Util.makeHexColor(...this.#i.map(Fe=>Math.floor(.7*(255-Fe)+Fe)))}const O=document.createElement("span");O.className="header";const U=document.createElement("h1");if(O.append(U),{dir:U.dir,str:U.textContent}=this.#g,P.append(O),this.#a){const ke=document.createElement("span");ke.classList.add("popupDate"),ke.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),ke.setAttribute("data-l10n-args",JSON.stringify({date:this.#a.toLocaleDateString(),time:this.#a.toLocaleTimeString()})),O.append(ke)}const M=this.#o,J=this.#p;if(J?.str&&(!M?.str||M.str===J.str))c.XfaLayer.render({xfaHtml:J.html,intent:"richText",div:P}),P.lastChild.classList.add("richText","popupContent");else{const ke=this._formatContents(M);P.append(ke)}let pe=!!this.#f,de=pe?this.#f:this.#l;for(const ke of this.#c)if(!de||r.Util.intersect(ke.data.rect,de)!==null){de=ke.data.rect,pe=!0;break}const he=r.Util.normalizeRect([de[0],E[3]-de[1]+E[1],de[2],E[3]-de[3]+E[1]]),ve=pe?de[2]-de[0]+5:0,ce=he[0]+ve,ge=he[1],{style:Pe}=this.#s;Pe.left=`${100*(ce-_)/T}%`,Pe.top=`${100*(ge-C)/S}%`,this.#s.append(P)}_formatContents({str:E,dir:T}){const S=document.createElement("p");S.classList.add("popupContent"),S.dir=T;const _=E.split(/(?:\r\n?|\n)/);for(let C=0,P=_.length;C<P;++C){const O=_[C];S.append(document.createTextNode(O)),C<P-1&&S.append(document.createElement("br"))}return S}#y(E){E.altKey||E.shiftKey||E.ctrlKey||E.metaKey||(E.key==="Enter"||E.key==="Escape"&&this.#h)&&this.#b()}#b(){this.#h=!this.#h,this.#h?(this.#w(),this.#s.addEventListener("click",this.#r),this.#s.addEventListener("keydown",this.#e)):(this.#m(),this.#s.removeEventListener("click",this.#r),this.#s.removeEventListener("keydown",this.#e))}#w(){this.#d||this.render(),this.isVisible?this.#h&&this.#s.classList.add("focused"):(this.#s.hidden=!1,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)+1e3)}#m(){this.#s.classList.remove("focused"),!(this.#h||!this.isVisible)&&(this.#s.hidden=!0,this.#s.style.zIndex=parseInt(this.#s.style.zIndex)-1e3)}forceHide(){this.#v=this.isVisible,this.#v&&(this.#s.hidden=!0)}maybeShow(){this.#v&&(this.#v=!1,this.#s.hidden=!1)}get isVisible(){return this.#s.hidden===!1}}class $ extends v{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.textContent=E.data.textContent,this.textPosition=E.data.textPosition,this.annotationEditorType=r.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const E=document.createElement("div");E.classList.add("annotationTextContent"),E.setAttribute("role","comment");for(const T of this.textContent){const S=document.createElement("span");S.textContent=T,E.append(S)}this.container.append(E)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}class H extends v{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("lineAnnotation");const E=this.data,{width:T,height:S}=d(E.rect),_=this.svgFactory.create(T,S,!0),C=this.#e=this.svgFactory.createElement("svg:line");return C.setAttribute("x1",E.rect[2]-E.lineCoordinates[0]),C.setAttribute("y1",E.rect[3]-E.lineCoordinates[1]),C.setAttribute("x2",E.rect[2]-E.lineCoordinates[2]),C.setAttribute("y2",E.rect[3]-E.lineCoordinates[3]),C.setAttribute("stroke-width",E.borderStyle.width||1),C.setAttribute("stroke","transparent"),C.setAttribute("fill","transparent"),_.append(C),this.container.append(_),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ae extends v{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("squareAnnotation");const E=this.data,{width:T,height:S}=d(E.rect),_=this.svgFactory.create(T,S,!0),C=E.borderStyle.width,P=this.#e=this.svgFactory.createElement("svg:rect");return P.setAttribute("x",C/2),P.setAttribute("y",C/2),P.setAttribute("width",T-C),P.setAttribute("height",S-C),P.setAttribute("stroke-width",C||1),P.setAttribute("stroke","transparent"),P.setAttribute("fill","transparent"),_.append(P),this.container.append(_),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Y extends v{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){this.container.classList.add("circleAnnotation");const E=this.data,{width:T,height:S}=d(E.rect),_=this.svgFactory.create(T,S,!0),C=E.borderStyle.width,P=this.#e=this.svgFactory.createElement("svg:ellipse");return P.setAttribute("cx",T/2),P.setAttribute("cy",S/2),P.setAttribute("rx",T/2-C/2),P.setAttribute("ry",S/2-C/2),P.setAttribute("stroke-width",C||1),P.setAttribute("stroke","transparent"),P.setAttribute("fill","transparent"),_.append(P),this.container.append(_),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class Q extends v{#e=null;constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const E=this.data,{width:T,height:S}=d(E.rect),_=this.svgFactory.create(T,S,!0);let C=[];for(const O of E.vertices){const U=O.x-E.rect[0],M=E.rect[3]-O.y;C.push(U+","+M)}C=C.join(" ");const P=this.#e=this.svgFactory.createElement(this.svgElementName);return P.setAttribute("points",C),P.setAttribute("stroke-width",E.borderStyle.width||1),P.setAttribute("stroke","transparent"),P.setAttribute("fill","transparent"),_.append(P),this.container.append(_),!E.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class ie extends Q{constructor(E){super(E),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class fe extends v{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class W extends v{#e=[];constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=r.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const E=this.data,{width:T,height:S}=d(E.rect),_=this.svgFactory.create(T,S,!0);for(const C of E.inkLists){let P=[];for(const U of C){const M=U.x-E.rect[0],J=E.rect[3]-U.y;P.push(`${M},${J}`)}P=P.join(" ");const O=this.svgFactory.createElement(this.svgElementName);this.#e.push(O),O.setAttribute("points",P),O.setAttribute("stroke-width",E.borderStyle.width||1),O.setAttribute("stroke","transparent"),O.setAttribute("fill","transparent"),!E.popupRef&&this.hasPopupData&&this._createPopup(),_.append(O)}return this.container.append(_),this.container}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}}class se extends v{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class oe extends v{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class K extends v{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class B extends v{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class X extends v{constructor(E){super(E,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class ne extends v{#e=null;constructor(E){super(E,{isRenderable:!0});const{filename:T,content:S}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(T,!0),this.content=S,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:T,content:S})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:E,data:T}=this;let S;T.hasAppearance||T.fillAlpha===0?S=document.createElement("div"):(S=document.createElement("img"),S.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(T.name)?"paperclip":"pushpin"}.svg`,T.fillAlpha&&T.fillAlpha<1&&(S.style=`filter: opacity(${Math.round(T.fillAlpha*100)}%);`)),S.addEventListener("dblclick",this.#t.bind(this)),this.#e=S;const{isMac:_}=r.FeatureTest.platform;return E.addEventListener("keydown",C=>{C.key==="Enter"&&(_?C.metaKey:C.ctrlKey)&&this.#t()}),!T.popupRef&&this.hasPopupData?this._createPopup():S.classList.add("popupTriggerArea"),E.append(S),E}getElementsToTriggerPopup(){return this.#e}addHighlightArea(){this.container.classList.add("highlightArea")}#t(){this.downloadManager?.openOrDownloadData(this.content,this.filename)}}class Z{#e=null;#t=null;#n=new Map;constructor({div:E,accessibilityManager:T,annotationCanvasMap:S,page:_,viewport:C}){this.div=E,this.#e=T,this.#t=S,this.page=_,this.viewport=C,this.zIndex=0}#r(E,T){const S=E.firstChild||E;S.id=`${r.AnnotationPrefix}${T}`,this.div.append(E),this.#e?.moveElementInDOM(this.div,E,S,!1)}async render(E){const{annotations:T}=E,S=this.div;(0,i.setLayerDimensions)(S,this.viewport);const _=new Map,C={data:null,layer:S,linkService:E.linkService,downloadManager:E.downloadManager,imageResourcesPath:E.imageResourcesPath||"",renderForms:E.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:E.annotationStorage||new s.AnnotationStorage,enableScripting:E.enableScripting===!0,hasJSActions:E.hasJSActions,fieldObjects:E.fieldObjects,parent:this,elements:null};for(const P of T){if(P.noHTML)continue;const O=P.annotationType===r.AnnotationType.POPUP;if(O){const J=_.get(P.id);if(!J)continue;C.elements=J}else{const{width:J,height:pe}=d(P.rect);if(J<=0||pe<=0)continue}C.data=P;const U=m.create(C);if(!U.isRenderable)continue;if(!O&&P.popupRef){const J=_.get(P.popupRef);J?J.push(U):_.set(P.popupRef,[U])}U.annotationEditorType>0&&this.#n.set(U.data.id,U);const M=U.render();P.hidden&&(M.style.visibility="hidden"),this.#r(M,P.id)}this.#i()}update({viewport:E}){const T=this.div;this.viewport=E,(0,i.setLayerDimensions)(T,{rotation:E.rotation}),this.#i(),T.hidden=!1}#i(){if(!this.#t)return;const E=this.div;for(const[T,S]of this.#t){const _=E.querySelector(`[data-annotation-id="${T}"]`);if(!_)continue;const{firstChild:C}=_;C?C.nodeName==="CANVAS"?C.replaceWith(S):C.before(S):_.append(S)}this.#t.clear()}getEditableAnnotations(){return Array.from(this.#n.values())}getEditableAnnotation(E){return this.#n.get(E)}}},780:(e,t,n)=>{n.d(t,{AnnotationStorage:()=>o,PrintAnnotationStorage:()=>l,SerializableEmpty:()=>a});var r=n(266),i=n(115),s=n(825);const a=Object.freeze({map:null,hash:"",transfer:void 0});class o{#e=!1;#t=new Map;constructor(){this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(u,f){const g=this.#t.get(u);return g===void 0?f:Object.assign(f,g)}getRawValue(u){return this.#t.get(u)}remove(u){if(this.#t.delete(u),this.#t.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const f of this.#t.values())if(f instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(u,f){const g=this.#t.get(u);let d=!1;if(g!==void 0)for(const[m,v]of Object.entries(f))g[m]!==v&&(d=!0,g[m]=v);else d=!0,this.#t.set(u,f);d&&this.#n(),f instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(f.constructor._type)}has(u){return this.#t.has(u)}getAll(){return this.#t.size>0?(0,r.objectFromMap)(this.#t):null}setAll(u){for(const[f,g]of Object.entries(u))this.setValue(f,g)}get size(){return this.#t.size}#n(){this.#e||(this.#e=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this.#e&&(this.#e=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new l(this)}get serializable(){if(this.#t.size===0)return a;const u=new Map,f=new s.MurmurHash3_64,g=[],d=Object.create(null);let m=!1;for(const[v,h]of this.#t){const p=h instanceof i.AnnotationEditor?h.serialize(!1,d):h;p&&(u.set(v,p),f.update(`${v}:${JSON.stringify(p)}`),m||=!!p.bitmap)}if(m)for(const v of u.values())v.bitmap&&g.push(v.bitmap);return u.size>0?{map:u,hash:f.hexdigest(),transfer:g}:a}}class l extends o{#e;constructor(u){super();const{map:f,hash:g,transfer:d}=u.serializable,m=structuredClone(f,d?{transfer:d}:null);this.#e={map:m,hash:g,transfer:d}}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}},406:(e,t,n)=>{n.a(e,async(r,i)=>{try{let H=function(S){if(typeof S=="string"||S instanceof URL?S={url:S}:(0,s.isArrayBuffer)(S)&&(S={data:S}),typeof S!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!S.url&&!S.data&&!S.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const _=new ie,{docId:C}=_,P=S.url?Y(S.url):null,O=S.data?Q(S.data):null,U=S.httpHeaders||null,M=S.withCredentials===!0,J=S.password??null,pe=S.range instanceof fe?S.range:null,de=Number.isInteger(S.rangeChunkSize)&&S.rangeChunkSize>0?S.rangeChunkSize:L;let he=S.worker instanceof B?S.worker:null;const xe=S.verbosity,ve=typeof S.docBaseUrl=="string"&&!(0,o.isDataScheme)(S.docBaseUrl)?S.docBaseUrl:null,ce=typeof S.cMapUrl=="string"?S.cMapUrl:null,ge=S.cMapPacked!==!1,Pe=S.CMapReaderFactory||z,ke=typeof S.standardFontDataUrl=="string"?S.standardFontDataUrl:null,Re=S.StandardFontDataFactory||$,Fe=S.stopAtErrors!==!0,Ue=Number.isInteger(S.maxImageSize)&&S.maxImageSize>-1?S.maxImageSize:-1,Me=S.isEvalSupported!==!1,Be=typeof S.isOffscreenCanvasSupported=="boolean"?S.isOffscreenCanvasSupported:!s.isNodeJS,De=Number.isInteger(S.canvasMaxAreaInBytes)?S.canvasMaxAreaInBytes:-1,lt=typeof S.disableFontFace=="boolean"?S.disableFontFace:s.isNodeJS,Je=S.fontExtraProperties===!0,Qe=S.enableXfa===!0,We=S.ownerDocument||globalThis.document,Et=S.disableRange===!0,Xe=S.disableStream===!0,Lt=S.disableAutoFetch===!0,Ze=S.pdfBug===!0,nt=pe?pe.length:S.length??NaN,_t=typeof S.useSystemFonts=="boolean"?S.useSystemFonts:!s.isNodeJS&&!lt,vt=typeof S.useWorkerFetch=="boolean"?S.useWorkerFetch:Pe===o.DOMCMapReaderFactory&&Re===o.DOMStandardFontDataFactory&&ce&&ke&&(0,o.isValidFetchUrl)(ce,document.baseURI)&&(0,o.isValidFetchUrl)(ke,document.baseURI),rt=S.canvasFactory||new q({ownerDocument:We}),Ht=S.filterFactory||new ee({docId:C,ownerDocument:We}),wt=null;(0,s.setVerbosityLevel)(xe);const ut={canvasFactory:rt,filterFactory:Ht};if(vt||(ut.cMapReaderFactory=new Pe({baseUrl:ce,isCompressed:ge}),ut.standardFontDataFactory=new Re({baseUrl:ke})),!he){const et={verbosity:xe,port:f.GlobalWorkerOptions.workerPort};he=et.port?B.fromPort(et):new B(et),_._worker=he}const bt={docId:C,apiVersion:"4.0.379",data:O,password:J,disableAutoFetch:Lt,rangeChunkSize:de,length:nt,docBaseUrl:ve,enableXfa:Qe,evaluatorOptions:{maxImageSize:Ue,disableFontFace:lt,ignoreErrors:Fe,isEvalSupported:Me,isOffscreenCanvasSupported:Be,canvasMaxAreaInBytes:De,fontExtraProperties:Je,useSystemFonts:_t,cMapUrl:vt?ce:null,standardFontDataUrl:vt?ke:null}},pn={ignoreErrors:Fe,isEvalSupported:Me,disableFontFace:lt,fontExtraProperties:Je,enableXfa:Qe,ownerDocument:We,disableAutoFetch:Lt,pdfBug:Ze,styleElement:wt};return he.promise.then(function(){if(_.destroyed)throw new Error("Loading aborted");const et=ae(he,bt),Sn=new Promise(function(zt){let an;pe?an=new v.PDFDataTransportStream({length:nt,initialData:pe.initialData,progressiveDone:pe.progressiveDone,contentDispositionFilename:pe.contentDispositionFilename,disableRange:Et,disableStream:Xe},pe):O||(an=(ln=>s.isNodeJS?new y.PDFNodeStream(ln):(0,o.isValidFetchUrl)(ln.url)?new h.PDFFetchStream(ln):new p.PDFNetworkStream(ln))({url:P,length:nt,httpHeaders:U,withCredentials:M,rangeChunkSize:de,disableRange:Et,disableStream:Xe})),zt(an)});return Promise.all([et,Sn]).then(function([zt,an]){if(_.destroyed)throw new Error("Loading aborted");const An=new g.MessageHandler(C,zt,he.port),ln=new X(An,_,an,pn,ut);_._transport=ln,An.send("Ready",null)})}).catch(_._capability.reject),_},Y=function(S){if(S instanceof URL)return S.href;try{return new URL(S,window.location).href}catch{if(s.isNodeJS&&typeof S=="string")return S}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")},Q=function(S){if(s.isNodeJS&&typeof Buffer<"u"&&S instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(S instanceof Uint8Array&&S.byteLength===S.buffer.byteLength)return S;if(typeof S=="string")return(0,s.stringToBytes)(S);if(typeof S=="object"&&!isNaN(S?.length)||(0,s.isArrayBuffer)(S))return new Uint8Array(S);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")};n.d(t,{PDFDataRangeTransport:()=>fe,PDFWorker:()=>B,build:()=>T,getDocument:()=>H,version:()=>E});var s=n(266),a=n(780),o=n(473),l=n(742),c=n(738),u=n(250),f=n(368),g=n(694),d=n(472),m=n(890),v=n(92),h=n(171),p=n(474),y=n(498),b=n(521),k=r([c,y]);[c,y]=k.then?(await k)():k;const L=65536,j=100,D=5e3,q=s.isNodeJS?c.NodeCanvasFactory:o.DOMCanvasFactory,z=s.isNodeJS?c.NodeCMapReaderFactory:o.DOMCMapReaderFactory,ee=s.isNodeJS?c.NodeFilterFactory:o.DOMFilterFactory,$=s.isNodeJS?c.NodeStandardFontDataFactory:o.DOMStandardFontDataFactory;async function ae(S,_){if(S.destroyed)throw new Error("Worker was destroyed");const C=await S.messageHandler.sendWithPromise("GetDocRequest",_,_.data?[_.data.buffer]:null);if(S.destroyed)throw new Error("Worker was destroyed");return C}class ie{static#e=0;constructor(){this._capability=new s.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${ie.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{this._worker?.port&&(this._worker._pendingDestroy=!0),await this._transport?.destroy()}catch(_){throw this._worker?.port&&delete this._worker._pendingDestroy,_}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}class fe{constructor(_,C,P=!1,O=null){this.length=_,this.initialData=C,this.progressiveDone=P,this.contentDispositionFilename=O,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new s.PromiseCapability}addRangeListener(_){this._rangeListeners.push(_)}addProgressListener(_){this._progressListeners.push(_)}addProgressiveReadListener(_){this._progressiveReadListeners.push(_)}addProgressiveDoneListener(_){this._progressiveDoneListeners.push(_)}onDataRange(_,C){for(const P of this._rangeListeners)P(_,C)}onDataProgress(_,C){this._readyCapability.promise.then(()=>{for(const P of this._progressListeners)P(_,C)})}onDataProgressiveRead(_){this._readyCapability.promise.then(()=>{for(const C of this._progressiveReadListeners)C(_)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const _ of this._progressiveDoneListeners)_()})}transportReady(){this._readyCapability.resolve()}requestDataRange(_,C){(0,s.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class W{constructor(_,C){this._pdfInfo=_,this._transport=C}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,s.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(_){return this._transport.getPage(_)}getPageIndex(_){return this._transport.getPageIndex(_)}getDestinations(){return this._transport.getDestinations()}getDestination(_){return this._transport.getDestination(_)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(_=!1){return this._transport.startCleanup(_||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}class se{#e=null;#t=!1;constructor(_,C,P,O=!1){this._pageIndex=_,this._pageInfo=C,this._transport=P,this._stats=O?new o.StatTimer:null,this._pdfBug=O,this.commonObjs=P.commonObjs,this.objs=new ne,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:_,rotation:C=this.rotate,offsetX:P=0,offsetY:O=0,dontFlip:U=!1}={}){return new o.PageViewport({viewBox:this.view,scale:_,rotation:C,offsetX:P,offsetY:O,dontFlip:U})}getAnnotations({intent:_="display"}={}){const C=this._transport.getRenderingIntent(_);return this._transport.getAnnotations(this._pageIndex,C.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,s.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:_,viewport:C,intent:P="display",annotationMode:O=s.AnnotationMode.ENABLE,transform:U=null,background:M=null,optionalContentConfigPromise:J=null,annotationCanvasMap:pe=null,pageColors:de=null,printAnnotationStorage:he=null}){this._stats?.time("Overall");const xe=this._transport.getRenderingIntent(P,O,he);this.#t=!1,this.#r(),J||(J=this._transport.getOptionalContentConfig());let ve=this._intentStates.get(xe.cacheKey);ve||(ve=Object.create(null),this._intentStates.set(xe.cacheKey,ve)),ve.streamReaderCancelTimeout&&(clearTimeout(ve.streamReaderCancelTimeout),ve.streamReaderCancelTimeout=null);const ce=!!(xe.renderingIntent&s.RenderingIntentFlag.PRINT);ve.displayReadyCapability||(ve.displayReadyCapability=new s.PromiseCapability,ve.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(xe));const ge=Re=>{ve.renderTasks.delete(Pe),(this._maybeCleanupAfterRender||ce)&&(this.#t=!0),this.#n(!ce),Re?(Pe.capability.reject(Re),this._abortOperatorList({intentState:ve,reason:Re instanceof Error?Re:new Error(Re)})):Pe.capability.resolve(),this._stats?.timeEnd("Rendering"),this._stats?.timeEnd("Overall")},Pe=new te({callback:ge,params:{canvasContext:_,viewport:C,transform:U,background:M},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:pe,operatorList:ve.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ce,pdfBug:this._pdfBug,pageColors:de});(ve.renderTasks||=new Set).add(Pe);const ke=Pe.task;return Promise.all([ve.displayReadyCapability.promise,J]).then(([Re,Fe])=>{if(this.destroyed){ge();return}this._stats?.time("Rendering"),Pe.initializeGraphics({transparency:Re,optionalContentConfig:Fe}),Pe.operatorListChanged()}).catch(ge),ke}getOperatorList({intent:_="display",annotationMode:C=s.AnnotationMode.ENABLE,printAnnotationStorage:P=null}={}){function O(){M.operatorList.lastChunk&&(M.opListReadCapability.resolve(M.operatorList),M.renderTasks.delete(J))}const U=this._transport.getRenderingIntent(_,C,P,!0);let M=this._intentStates.get(U.cacheKey);M||(M=Object.create(null),this._intentStates.set(U.cacheKey,M));let J;return M.opListReadCapability||(J=Object.create(null),J.operatorListChanged=O,M.opListReadCapability=new s.PromiseCapability,(M.renderTasks||=new Set).add(J),M.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats?.time("Page Request"),this._pumpOperatorList(U)),M.opListReadCapability.promise}streamTextContent({includeMarkedContent:_=!1,disableNormalization:C=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:_===!0,disableNormalization:C===!0},{highWaterMark:100,size(O){return O.items.length}})}getTextContent(_={}){if(this._transport._htmlForXfa)return this.getXfa().then(P=>b.XfaText.textContent(P));const C=this.streamTextContent(_);return new Promise(function(P,O){function U(){M.read().then(function({value:pe,done:de}){if(de){P(J);return}Object.assign(J.styles,pe.styles),J.items.push(...pe.items),U()},O)}const M=C.getReader(),J={items:[],styles:Object.create(null)};U()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const _=[];for(const C of this._intentStates.values())if(this._abortOperatorList({intentState:C,reason:new Error("Page was destroyed."),force:!0}),!C.opListReadCapability)for(const P of C.renderTasks)_.push(P.completed),P.cancel();return this.objs.clear(),this.#t=!1,this.#r(),Promise.all(_)}cleanup(_=!1){this.#t=!0;const C=this.#n(!1);return _&&C&&(this._stats&&=new o.StatTimer),C}#n(_=!1){if(this.#r(),!this.#t||this.destroyed)return!1;if(_)return this.#e=setTimeout(()=>{this.#e=null,this.#n(!1)},D),!1;for(const{renderTasks:C,operatorList:P}of this._intentStates.values())if(C.size>0||!P.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this.#t=!1,!0}#r(){this.#e&&(clearTimeout(this.#e),this.#e=null)}_startRenderPage(_,C){const P=this._intentStates.get(C);P&&(this._stats?.timeEnd("Page Request"),P.displayReadyCapability?.resolve(_))}_renderPageChunk(_,C){for(let P=0,O=_.length;P<O;P++)C.operatorList.fnArray.push(_.fnArray[P]),C.operatorList.argsArray.push(_.argsArray[P]);C.operatorList.lastChunk=_.lastChunk,C.operatorList.separateAnnots=_.separateAnnots;for(const P of C.renderTasks)P.operatorListChanged();_.lastChunk&&this.#n(!0)}_pumpOperatorList({renderingIntent:_,cacheKey:C,annotationStorageSerializable:P}){const{map:O,transfer:U}=P,J=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:_,cacheKey:C,annotationStorage:O},U).getReader(),pe=this._intentStates.get(C);pe.streamReader=J;const de=()=>{J.read().then(({value:he,done:xe})=>{if(xe){pe.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(he,pe),de())},he=>{if(pe.streamReader=null,!this._transport.destroyed){if(pe.operatorList){pe.operatorList.lastChunk=!0;for(const xe of pe.renderTasks)xe.operatorListChanged();this.#n(!0)}if(pe.displayReadyCapability)pe.displayReadyCapability.reject(he);else if(pe.opListReadCapability)pe.opListReadCapability.reject(he);else throw he}})};de()}_abortOperatorList({intentState:_,reason:C,force:P=!1}){if(_.streamReader){if(_.streamReaderCancelTimeout&&(clearTimeout(_.streamReaderCancelTimeout),_.streamReaderCancelTimeout=null),!P){if(_.renderTasks.size>0)return;if(C instanceof o.RenderingCancelledException){let O=j;C.extraDelay>0&&C.extraDelay<1e3&&(O+=C.extraDelay),_.streamReaderCancelTimeout=setTimeout(()=>{_.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:_,reason:C,force:!0})},O);return}}if(_.streamReader.cancel(new s.AbortException(C.message)).catch(()=>{}),_.streamReader=null,!this._transport.destroyed){for(const[O,U]of this._intentStates)if(U===_){this._intentStates.delete(O);break}this.cleanup()}}}get stats(){return this._stats}}class oe{#e=new Set;#t=Promise.resolve();postMessage(_,C){const P={data:structuredClone(_,C?{transfer:C}:null)};this.#t.then(()=>{for(const O of this.#e)O.call(this,P)})}addEventListener(_,C){this.#e.add(C)}removeEventListener(_,C){this.#e.delete(C)}terminate(){this.#e.clear()}}const K={isWorkerDisabled:!1,fakeWorkerId:0};s.isNodeJS&&(K.isWorkerDisabled=!0,f.GlobalWorkerOptions.workerSrc||="./pdf.worker.mjs"),K.isSameOrigin=function(S,_){let C;try{if(C=new URL(S),!C.origin||C.origin==="null")return!1}catch{return!1}const P=new URL(_,C);return C.origin===P.origin},K.createCDNWrapper=function(S){const _=`await import("${S}");`;return URL.createObjectURL(new Blob([_],{type:"text/javascript"}))};class B{static#e;constructor({name:_=null,port:C=null,verbosity:P=(0,s.getVerbosityLevel)()}={}){if(this.name=_,this.destroyed=!1,this.verbosity=P,this._readyCapability=new s.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,C){if(B.#e?.has(C))throw new Error("Cannot use more than one PDFWorker per port.");(B.#e||=new WeakMap).set(C,this),this._initializeFromPort(C);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(_){this._port=_,this._messageHandler=new g.MessageHandler("main","worker",_),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!K.isWorkerDisabled&&!B.#t){let{workerSrc:_}=B;try{K.isSameOrigin(window.location.href,_)||(_=K.createCDNWrapper(new URL(_,window.location).href));const C=new Worker(_,{type:"module"}),P=new g.MessageHandler("main","worker",C),O=()=>{C.removeEventListener("error",U),P.destroy(),C.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},U=()=>{this._webWorker||O()};C.addEventListener("error",U),P.on("test",J=>{if(C.removeEventListener("error",U),this.destroyed){O();return}J?(this._messageHandler=P,this._port=C,this._webWorker=C,this._readyCapability.resolve(),P.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),P.destroy(),C.terminate())}),P.on("ready",J=>{if(C.removeEventListener("error",U),this.destroyed){O();return}try{M()}catch{this._setupFakeWorker()}});const M=()=>{const J=new Uint8Array;P.send("test",J,[J.buffer])};M();return}catch{(0,s.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){K.isWorkerDisabled||((0,s.warn)("Setting up fake worker."),K.isWorkerDisabled=!0),B._setupFakeWorkerGlobal.then(_=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const C=new oe;this._port=C;const P=`fake${K.fakeWorkerId++}`,O=new g.MessageHandler(P+"_worker",P,C);_.setup(O,C);const U=new g.MessageHandler(P,P+"_worker",C);this._messageHandler=U,this._readyCapability.resolve(),U.send("configure",{verbosity:this.verbosity})}).catch(_=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${_.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),B.#e?.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(_){if(!_?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const C=this.#e?.get(_.port);if(C){if(C._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return C}return new B(_)}static get workerSrc(){if(f.GlobalWorkerOptions.workerSrc)return f.GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get#t(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){const _=async()=>this.#t?this.#t:(await import(this.workerSrc)).WorkerMessageHandler;return(0,s.shadow)(this,"_setupFakeWorkerGlobal",_())}}class X{#e=new Map;#t=new Map;#n=new Map;#r=null;constructor(_,C,P,O,U){this.messageHandler=_,this.loadingTask=C,this.commonObjs=new ne,this.fontLoader=new l.FontLoader({ownerDocument:O.ownerDocument,styleElement:O.styleElement}),this._params=O,this.canvasFactory=U.canvasFactory,this.filterFactory=U.filterFactory,this.cMapReaderFactory=U.cMapReaderFactory,this.standardFontDataFactory=U.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=P,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new s.PromiseCapability,this.setupMessageHandler()}#i(_,C=null){const P=this.#e.get(_);if(P)return P;const O=this.messageHandler.sendWithPromise(_,C);return this.#e.set(_,O),O}get annotationStorage(){return(0,s.shadow)(this,"annotationStorage",new a.AnnotationStorage)}getRenderingIntent(_,C=s.AnnotationMode.ENABLE,P=null,O=!1){let U=s.RenderingIntentFlag.DISPLAY,M=a.SerializableEmpty;switch(_){case"any":U=s.RenderingIntentFlag.ANY;break;case"display":break;case"print":U=s.RenderingIntentFlag.PRINT;break;default:(0,s.warn)(`getRenderingIntent - invalid intent: ${_}`)}switch(C){case s.AnnotationMode.DISABLE:U+=s.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case s.AnnotationMode.ENABLE:break;case s.AnnotationMode.ENABLE_FORMS:U+=s.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case s.AnnotationMode.ENABLE_STORAGE:U+=s.RenderingIntentFlag.ANNOTATIONS_STORAGE,M=(U&s.RenderingIntentFlag.PRINT&&P instanceof a.PrintAnnotationStorage?P:this.annotationStorage).serializable;break;default:(0,s.warn)(`getRenderingIntent - invalid annotationMode: ${C}`)}return O&&(U+=s.RenderingIntentFlag.OPLIST),{renderingIntent:U,cacheKey:`${U}_${M.hash}`,annotationStorageSerializable:M}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new s.PromiseCapability,this.#r?.reject(new Error("Worker was destroyed during onPassword callback"));const _=[];for(const P of this.#t.values())_.push(P._destroy());this.#t.clear(),this.#n.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const C=this.messageHandler.sendWithPromise("Terminate",null);return _.push(C),Promise.all(_).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(),this._networkStream?.cancelAllRequests(new s.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:_,loadingTask:C}=this;_.on("GetReader",(P,O)=>{(0,s.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=U=>{this._lastProgress={loaded:U.loaded,total:U.total}},O.onPull=()=>{this._fullReader.read().then(function({value:U,done:M}){if(M){O.close();return}(0,s.assert)(U instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),O.enqueue(new Uint8Array(U),1,[U])}).catch(U=>{O.error(U)})},O.onCancel=U=>{this._fullReader.cancel(U),O.ready.catch(M=>{if(!this.destroyed)throw M})}}),_.on("ReaderHeadersReady",P=>{const O=new s.PromiseCapability,U=this._fullReader;return U.headersReady.then(()=>{(!U.isStreamingSupported||!U.isRangeSupported)&&(this._lastProgress&&C.onProgress?.(this._lastProgress),U.onProgress=M=>{C.onProgress?.({loaded:M.loaded,total:M.total})}),O.resolve({isStreamingSupported:U.isStreamingSupported,isRangeSupported:U.isRangeSupported,contentLength:U.contentLength})},O.reject),O.promise}),_.on("GetRangeReader",(P,O)=>{(0,s.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const U=this._networkStream.getRangeReader(P.begin,P.end);if(!U){O.close();return}O.onPull=()=>{U.read().then(function({value:M,done:J}){if(J){O.close();return}(0,s.assert)(M instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),O.enqueue(new Uint8Array(M),1,[M])}).catch(M=>{O.error(M)})},O.onCancel=M=>{U.cancel(M),O.ready.catch(J=>{if(!this.destroyed)throw J})}}),_.on("GetDoc",({pdfInfo:P})=>{this._numPages=P.numPages,this._htmlForXfa=P.htmlForXfa,delete P.htmlForXfa,C._capability.resolve(new W(P,this))}),_.on("DocException",function(P){let O;switch(P.name){case"PasswordException":O=new s.PasswordException(P.message,P.code);break;case"InvalidPDFException":O=new s.InvalidPDFException(P.message);break;case"MissingPDFException":O=new s.MissingPDFException(P.message);break;case"UnexpectedResponseException":O=new s.UnexpectedResponseException(P.message,P.status);break;case"UnknownErrorException":O=new s.UnknownErrorException(P.message,P.details);break;default:(0,s.unreachable)("DocException - expected a valid Error.")}C._capability.reject(O)}),_.on("PasswordRequest",P=>{if(this.#r=new s.PromiseCapability,C.onPassword){const O=U=>{U instanceof Error?this.#r.reject(U):this.#r.resolve({password:U})};try{C.onPassword(O,P.code)}catch(U){this.#r.reject(U)}}else this.#r.reject(new s.PasswordException(P.message,P.code));return this.#r.promise}),_.on("DataLoaded",P=>{C.onProgress?.({loaded:P.length,total:P.length}),this.downloadInfoCapability.resolve(P)}),_.on("StartRenderPage",P=>{if(this.destroyed)return;this.#t.get(P.pageIndex)._startRenderPage(P.transparency,P.cacheKey)}),_.on("commonobj",([P,O,U])=>{if(this.destroyed||this.commonObjs.has(P))return null;switch(O){case"Font":const M=this._params;if("error"in U){const he=U.error;(0,s.warn)(`Error during font loading: ${he}`),this.commonObjs.resolve(P,he);break}const J=M.pdfBug&&globalThis.FontInspector?.enabled?(he,xe)=>globalThis.FontInspector.fontAdded(he,xe):null,pe=new l.FontFaceObject(U,{isEvalSupported:M.isEvalSupported,disableFontFace:M.disableFontFace,ignoreErrors:M.ignoreErrors,inspectFont:J});this.fontLoader.bind(pe).catch(he=>_.sendWithPromise("FontFallback",{id:P})).finally(()=>{!M.fontExtraProperties&&pe.data&&(pe.data=null),this.commonObjs.resolve(P,pe)});break;case"CopyLocalImage":const{imageRef:de}=U;(0,s.assert)(de,"The imageRef must be defined.");for(const he of this.#t.values())for(const[,xe]of he.objs)if(xe.ref===de)return xe.dataLen?(this.commonObjs.resolve(P,structuredClone(xe)),xe.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(P,U);break;default:throw new Error(`Got unknown common object type ${O}`)}return null}),_.on("obj",([P,O,U,M])=>{if(this.destroyed)return;const J=this.#t.get(O);if(!J.objs.has(P)){if(J._intentStates.size===0){M?.bitmap?.close();return}switch(U){case"Image":J.objs.resolve(P,M),M?.dataLen>s.MAX_IMAGE_SIZE_TO_CACHE&&(J._maybeCleanupAfterRender=!0);break;case"Pattern":J.objs.resolve(P,M);break;default:throw new Error(`Got unknown object type ${U}`)}}}),_.on("DocProgress",P=>{this.destroyed||C.onProgress?.({loaded:P.loaded,total:P.total})}),_.on("FetchBuiltInCMap",P=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(P):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),_.on("FetchStandardFontData",P=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(P):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){this.annotationStorage.size<=0&&(0,s.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:_,transfer:C}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:_,filename:this._fullReader?.filename??null},C).finally(()=>{this.annotationStorage.resetModified()})}getPage(_){if(!Number.isInteger(_)||_<=0||_>this._numPages)return Promise.reject(new Error("Invalid page request."));const C=_-1,P=this.#n.get(C);if(P)return P;const O=this.messageHandler.sendWithPromise("GetPage",{pageIndex:C}).then(U=>{if(this.destroyed)throw new Error("Transport destroyed");const M=new se(C,U,this,this._params.pdfBug);return this.#t.set(C,M),M});return this.#n.set(C,O),O}getPageIndex(_){return typeof _!="object"||_===null||!Number.isInteger(_.num)||_.num<0||!Number.isInteger(_.gen)||_.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:_.num,gen:_.gen})}getAnnotations(_,C){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:_,intent:C})}getFieldObjects(){return this.#i("GetFieldObjects")}hasJSActions(){return this.#i("HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(_){return typeof _!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:_})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return this.#i("GetDocJSActions")}getPageJSActions(_){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:_})}getStructTree(_){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:_})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(_=>new m.OptionalContentConfig(_))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const _="GetMetadata",C=this.#e.get(_);if(C)return C;const P=this.messageHandler.sendWithPromise(_,null).then(O=>({info:O[0],metadata:O[1]?new d.Metadata(O[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}));return this.#e.set(_,P),P}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(_=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const C of this.#t.values())if(!C.cleanup())throw new Error(`startCleanup: Page ${C.pageNumber} is currently rendering.`);this.commonObjs.clear(),_||this.fontLoader.clear(),this.#e.clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:_,enableXfa:C}=this._params;return(0,s.shadow)(this,"loadingParams",{disableAutoFetch:_,enableXfa:C})}}class ne{#e=Object.create(null);#t(_){return this.#e[_]||={capability:new s.PromiseCapability,data:null}}get(_,C=null){if(C){const O=this.#t(_);return O.capability.promise.then(()=>C(O.data)),null}const P=this.#e[_];if(!P?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${_}.`);return P.data}has(_){return this.#e[_]?.capability.settled??!1}resolve(_,C=null){const P=this.#t(_);P.data=C,P.capability.resolve()}clear(){for(const _ in this.#e){const{data:C}=this.#e[_];C?.bitmap?.close()}this.#e=Object.create(null)}*[Symbol.iterator](){for(const _ in this.#e){const{capability:C,data:P}=this.#e[_];C.settled&&(yield[_,P])}}}class Z{#e=null;constructor(_){this.#e=_,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(_=0){this.#e.cancel(null,_)}get separateAnnots(){const{separateAnnots:_}=this.#e.operatorList;if(!_)return!1;const{annotationCanvasMap:C}=this.#e;return _.form||_.canvas&&C?.size>0}}class te{static#e=new WeakSet;constructor({callback:_,params:C,objs:P,commonObjs:O,annotationCanvasMap:U,operatorList:M,pageIndex:J,canvasFactory:pe,filterFactory:de,useRequestAnimationFrame:he=!1,pdfBug:xe=!1,pageColors:ve=null}){this.callback=_,this.params=C,this.objs=P,this.commonObjs=O,this.annotationCanvasMap=U,this.operatorListIdx=null,this.operatorList=M,this._pageIndex=J,this.canvasFactory=pe,this.filterFactory=de,this._pdfBug=xe,this.pageColors=ve,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=he===!0&&typeof window<"u",this.cancelled=!1,this.capability=new s.PromiseCapability,this.task=new Z(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=C.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:_=!1,optionalContentConfig:C}){if(this.cancelled)return;if(this._canvas){if(te.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");te.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:P,viewport:O,transform:U,background:M}=this.params;this.gfx=new u.CanvasGraphics(P,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:C},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:U,viewport:O,transparency:_,background:M}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback?.()}cancel(_=null,C=0){this.running=!1,this.cancelled=!0,this.gfx?.endDrawing(),te.#e.delete(this._canvas),this.callback(_||new o.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,C))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||=this._continueBound;return}this.stepper?.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),te.#e.delete(this._canvas),this.callback())))}}const E="4.0.379",T="9e14d04fd";i()}catch(L){i(L)}})},822:(e,t,n)=>{n.d(t,{BaseCMapReaderFactory:()=>a,BaseCanvasFactory:()=>s,BaseFilterFactory:()=>i,BaseSVGFactory:()=>l,BaseStandardFontDataFactory:()=>o});var r=n(266);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(u){return"none"}addHCMFilter(u,f){return"none"}addHighlightHCMFilter(u,f,g,d){return"none"}destroy(u=!1){}}class s{constructor(){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(u,f){if(u<=0||f<=0)throw new Error("Invalid canvas size");const g=this._createCanvas(u,f);return{canvas:g,context:g.getContext("2d")}}reset(u,f,g){if(!u.canvas)throw new Error("Canvas is not specified");if(f<=0||g<=0)throw new Error("Invalid canvas size");u.canvas.width=f,u.canvas.height=g}destroy(u){if(!u.canvas)throw new Error("Canvas is not specified");u.canvas.width=0,u.canvas.height=0,u.canvas=null,u.context=null}_createCanvas(u,f){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}class a{constructor({baseUrl:u=null,isCompressed:f=!0}){this.constructor===a&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=u,this.isCompressed=f}async fetch({name:u}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!u)throw new Error("CMap name must be specified.");const f=this.baseUrl+u+(this.isCompressed?".bcmap":""),g=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(f,g).catch(d=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${f}`)})}_fetchData(u,f){(0,r.unreachable)("Abstract method `_fetchData` called.")}}class o{constructor({baseUrl:u=null}){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=u}async fetch({filename:u}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!u)throw new Error("Font filename must be specified.");const f=`${this.baseUrl}${u}`;return this._fetchData(f).catch(g=>{throw new Error(`Unable to load font data at: ${f}`)})}_fetchData(u){(0,r.unreachable)("Abstract method `_fetchData` called.")}}class l{constructor(){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(u,f,g=!1){if(u<=0||f<=0)throw new Error("Invalid SVG dimensions");const d=this._createSVG("svg:svg");return d.setAttribute("version","1.1"),g||(d.setAttribute("width",`${u}px`),d.setAttribute("height",`${f}px`)),d.setAttribute("preserveAspectRatio","none"),d.setAttribute("viewBox",`0 0 ${u} ${f}`),d}createElement(u){if(typeof u!="string")throw new Error("Invalid SVG element type");return this._createSVG(u)}_createSVG(u){(0,r.unreachable)("Abstract method `_createSVG` called.")}}},250:(e,t,n)=>{n.d(t,{CanvasGraphics:()=>E});var r=n(266),i=n(473);const s={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function a(T,S){if(!S)return;const _=S[2]-S[0],C=S[3]-S[1],P=new Path2D;P.rect(S[0],S[1],_,C),T.clip(P)}class o{constructor(){this.constructor===o&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class l extends o{constructor(S){super(),this._type=S[1],this._bbox=S[2],this._colorStops=S[3],this._p0=S[4],this._p1=S[5],this._r0=S[6],this._r1=S[7],this.matrix=null}_createGradient(S){let _;this._type==="axial"?_=S.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(_=S.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const C of this._colorStops)_.addColorStop(C[0],C[1]);return _}getPattern(S,_,C,P){let O;if(P===s.STROKE||P===s.FILL){const U=_.current.getClippedPathBoundingBox(P,(0,i.getCurrentTransform)(S))||[0,0,0,0],M=Math.ceil(U[2]-U[0])||1,J=Math.ceil(U[3]-U[1])||1,pe=_.cachedCanvases.getCanvas("pattern",M,J,!0),de=pe.context;de.clearRect(0,0,de.canvas.width,de.canvas.height),de.beginPath(),de.rect(0,0,de.canvas.width,de.canvas.height),de.translate(-U[0],-U[1]),C=r.Util.transform(C,[1,0,0,1,U[0],U[1]]),de.transform(..._.baseTransform),this.matrix&&de.transform(...this.matrix),a(de,this._bbox),de.fillStyle=this._createGradient(de),de.fill(),O=S.createPattern(pe.canvas,"no-repeat");const he=new DOMMatrix(C);O.setTransform(he)}else a(S,this._bbox),O=this._createGradient(S);return O}}function c(T,S,_,C,P,O,U,M){const J=S.coords,pe=S.colors,de=T.data,he=T.width*4;let xe;J[_+1]>J[C+1]&&(xe=_,_=C,C=xe,xe=O,O=U,U=xe),J[C+1]>J[P+1]&&(xe=C,C=P,P=xe,xe=U,U=M,M=xe),J[_+1]>J[C+1]&&(xe=_,_=C,C=xe,xe=O,O=U,U=xe);const ve=(J[_]+S.offsetX)*S.scaleX,ce=(J[_+1]+S.offsetY)*S.scaleY,ge=(J[C]+S.offsetX)*S.scaleX,Pe=(J[C+1]+S.offsetY)*S.scaleY,ke=(J[P]+S.offsetX)*S.scaleX,Re=(J[P+1]+S.offsetY)*S.scaleY;if(ce>=Re)return;const Fe=pe[O],Ue=pe[O+1],Me=pe[O+2],Be=pe[U],De=pe[U+1],lt=pe[U+2],Je=pe[M],Qe=pe[M+1],We=pe[M+2],Et=Math.round(ce),Xe=Math.round(Re);let Lt,Ze,nt,_t,vt,rt,Ht,wt;for(let ut=Et;ut<=Xe;ut++){if(ut<Pe){const zt=ut<ce?0:(ce-ut)/(ce-Pe);Lt=ve-(ve-ge)*zt,Ze=Fe-(Fe-Be)*zt,nt=Ue-(Ue-De)*zt,_t=Me-(Me-lt)*zt}else{let zt;ut>Re?zt=1:Pe===Re?zt=0:zt=(Pe-ut)/(Pe-Re),Lt=ge-(ge-ke)*zt,Ze=Be-(Be-Je)*zt,nt=De-(De-Qe)*zt,_t=lt-(lt-We)*zt}let bt;ut<ce?bt=0:ut>Re?bt=1:bt=(ce-ut)/(ce-Re),vt=ve-(ve-ke)*bt,rt=Fe-(Fe-Je)*bt,Ht=Ue-(Ue-Qe)*bt,wt=Me-(Me-We)*bt;const pn=Math.round(Math.min(Lt,vt)),et=Math.round(Math.max(Lt,vt));let Sn=he*ut+pn*4;for(let zt=pn;zt<=et;zt++)bt=(Lt-zt)/(Lt-vt),bt<0?bt=0:bt>1&&(bt=1),de[Sn++]=Ze-(Ze-rt)*bt|0,de[Sn++]=nt-(nt-Ht)*bt|0,de[Sn++]=_t-(_t-wt)*bt|0,de[Sn++]=255}}function u(T,S,_){const C=S.coords,P=S.colors;let O,U;switch(S.type){case"lattice":const M=S.verticesPerRow,J=Math.floor(C.length/M)-1,pe=M-1;for(O=0;O<J;O++){let de=O*M;for(let he=0;he<pe;he++,de++)c(T,_,C[de],C[de+1],C[de+M],P[de],P[de+1],P[de+M]),c(T,_,C[de+M+1],C[de+1],C[de+M],P[de+M+1],P[de+1],P[de+M])}break;case"triangles":for(O=0,U=C.length;O<U;O+=3)c(T,_,C[O],C[O+1],C[O+2],P[O],P[O+1],P[O+2]);break;default:throw new Error("illegal figure")}}class f extends o{constructor(S){super(),this._coords=S[2],this._colors=S[3],this._figures=S[4],this._bounds=S[5],this._bbox=S[7],this._background=S[8],this.matrix=null}_createMeshCanvas(S,_,C){const M=Math.floor(this._bounds[0]),J=Math.floor(this._bounds[1]),pe=Math.ceil(this._bounds[2])-M,de=Math.ceil(this._bounds[3])-J,he=Math.min(Math.ceil(Math.abs(pe*S[0]*1.1)),3e3),xe=Math.min(Math.ceil(Math.abs(de*S[1]*1.1)),3e3),ve=pe/he,ce=de/xe,ge={coords:this._coords,colors:this._colors,offsetX:-M,offsetY:-J,scaleX:1/ve,scaleY:1/ce},Pe=he+2*2,ke=xe+2*2,Re=C.getCanvas("mesh",Pe,ke,!1),Fe=Re.context,Ue=Fe.createImageData(he,xe);if(_){const Be=Ue.data;for(let De=0,lt=Be.length;De<lt;De+=4)Be[De]=_[0],Be[De+1]=_[1],Be[De+2]=_[2],Be[De+3]=255}for(const Be of this._figures)u(Ue,Be,ge);return Fe.putImageData(Ue,2,2),{canvas:Re.canvas,offsetX:M-2*ve,offsetY:J-2*ce,scaleX:ve,scaleY:ce}}getPattern(S,_,C,P){a(S,this._bbox);let O;if(P===s.SHADING)O=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(S));else if(O=r.Util.singularValueDecompose2dScale(_.baseTransform),this.matrix){const M=r.Util.singularValueDecompose2dScale(this.matrix);O=[O[0]*M[0],O[1]*M[1]]}const U=this._createMeshCanvas(O,P===s.SHADING?null:this._background,_.cachedCanvases);return P!==s.SHADING&&(S.setTransform(..._.baseTransform),this.matrix&&S.transform(...this.matrix)),S.translate(U.offsetX,U.offsetY),S.scale(U.scaleX,U.scaleY),S.createPattern(U.canvas,"no-repeat")}}class g extends o{getPattern(){return"hotpink"}}function d(T){switch(T[0]){case"RadialAxial":return new l(T);case"Mesh":return new f(T);case"Dummy":return new g}throw new Error(`Unknown IR type: ${T[0]}`)}const m={COLORED:1,UNCOLORED:2};class v{static MAX_PATTERN_SIZE=3e3;constructor(S,_,C,P,O){this.operatorList=S[2],this.matrix=S[3]||[1,0,0,1,0,0],this.bbox=S[4],this.xstep=S[5],this.ystep=S[6],this.paintType=S[7],this.tilingType=S[8],this.color=_,this.ctx=C,this.canvasGraphicsFactory=P,this.baseTransform=O}createPatternCanvas(S){const _=this.operatorList,C=this.bbox,P=this.xstep,O=this.ystep,U=this.paintType,M=this.tilingType,J=this.color,pe=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+M);const de=C[0],he=C[1],xe=C[2],ve=C[3],ce=r.Util.singularValueDecompose2dScale(this.matrix),ge=r.Util.singularValueDecompose2dScale(this.baseTransform),Pe=[ce[0]*ge[0],ce[1]*ge[1]],ke=this.getSizeAndScale(P,this.ctx.canvas.width,Pe[0]),Re=this.getSizeAndScale(O,this.ctx.canvas.height,Pe[1]),Fe=S.cachedCanvases.getCanvas("pattern",ke.size,Re.size,!0),Ue=Fe.context,Me=pe.createCanvasGraphics(Ue);Me.groupLevel=S.groupLevel,this.setFillAndStrokeStyleToContext(Me,U,J);let Be=de,De=he,lt=xe,Je=ve;return de<0&&(Be=0,lt+=Math.abs(de)),he<0&&(De=0,Je+=Math.abs(he)),Ue.translate(-(ke.scale*Be),-(Re.scale*De)),Me.transform(ke.scale,0,0,Re.scale,0,0),Ue.save(),this.clipBbox(Me,Be,De,lt,Je),Me.baseTransform=(0,i.getCurrentTransform)(Me.ctx),Me.executeOperatorList(_),Me.endDrawing(),{canvas:Fe.canvas,scaleX:ke.scale,scaleY:Re.scale,offsetX:Be,offsetY:De}}getSizeAndScale(S,_,C){S=Math.abs(S);const P=Math.max(v.MAX_PATTERN_SIZE,_);let O=Math.ceil(S*C);return O>=P?O=P:C=O/S,{scale:C,size:O}}clipBbox(S,_,C,P,O){const U=P-_,M=O-C;S.ctx.rect(_,C,U,M),S.current.updateRectMinMax((0,i.getCurrentTransform)(S.ctx),[_,C,P,O]),S.clip(),S.endPath()}setFillAndStrokeStyleToContext(S,_,C){const P=S.ctx,O=S.current;switch(_){case m.COLORED:const U=this.ctx;P.fillStyle=U.fillStyle,P.strokeStyle=U.strokeStyle,O.fillColor=U.fillStyle,O.strokeColor=U.strokeStyle;break;case m.UNCOLORED:const M=r.Util.makeHexColor(C[0],C[1],C[2]);P.fillStyle=M,P.strokeStyle=M,O.fillColor=M,O.strokeColor=M;break;default:throw new r.FormatError(`Unsupported paint type: ${_}`)}}getPattern(S,_,C,P){let O=C;P!==s.SHADING&&(O=r.Util.transform(O,_.baseTransform),this.matrix&&(O=r.Util.transform(O,this.matrix)));const U=this.createPatternCanvas(_);let M=new DOMMatrix(O);M=M.translate(U.offsetX,U.offsetY),M=M.scale(1/U.scaleX,1/U.scaleY);const J=S.createPattern(U.canvas,"repeat");return J.setTransform(M),J}}function h({src:T,srcPos:S=0,dest:_,width:C,height:P,nonBlackColor:O=4294967295,inverseDecode:U=!1}){const M=r.FeatureTest.isLittleEndian?4278190080:255,[J,pe]=U?[O,M]:[M,O],de=C>>3,he=C&7,xe=T.length;_=new Uint32Array(_.buffer);let ve=0;for(let ce=0;ce<P;ce++){for(const Pe=S+de;S<Pe;S++){const ke=S<xe?T[S]:255;_[ve++]=ke&128?pe:J,_[ve++]=ke&64?pe:J,_[ve++]=ke&32?pe:J,_[ve++]=ke&16?pe:J,_[ve++]=ke&8?pe:J,_[ve++]=ke&4?pe:J,_[ve++]=ke&2?pe:J,_[ve++]=ke&1?pe:J}if(he===0)continue;const ge=S<xe?T[S++]:255;for(let Pe=0;Pe<he;Pe++)_[ve++]=ge&1<<7-Pe?pe:J}return{srcPos:S,destPos:ve}}const p=16,y=100,b=4096,k=15,L=10,j=1e3,D=16;function q(T,S){if(T._removeMirroring)throw new Error("Context is already forwarding operations.");T.__originalSave=T.save,T.__originalRestore=T.restore,T.__originalRotate=T.rotate,T.__originalScale=T.scale,T.__originalTranslate=T.translate,T.__originalTransform=T.transform,T.__originalSetTransform=T.setTransform,T.__originalResetTransform=T.resetTransform,T.__originalClip=T.clip,T.__originalMoveTo=T.moveTo,T.__originalLineTo=T.lineTo,T.__originalBezierCurveTo=T.bezierCurveTo,T.__originalRect=T.rect,T.__originalClosePath=T.closePath,T.__originalBeginPath=T.beginPath,T._removeMirroring=()=>{T.save=T.__originalSave,T.restore=T.__originalRestore,T.rotate=T.__originalRotate,T.scale=T.__originalScale,T.translate=T.__originalTranslate,T.transform=T.__originalTransform,T.setTransform=T.__originalSetTransform,T.resetTransform=T.__originalResetTransform,T.clip=T.__originalClip,T.moveTo=T.__originalMoveTo,T.lineTo=T.__originalLineTo,T.bezierCurveTo=T.__originalBezierCurveTo,T.rect=T.__originalRect,T.closePath=T.__originalClosePath,T.beginPath=T.__originalBeginPath,delete T._removeMirroring},T.save=function(){S.save(),this.__originalSave()},T.restore=function(){S.restore(),this.__originalRestore()},T.translate=function(C,P){S.translate(C,P),this.__originalTranslate(C,P)},T.scale=function(C,P){S.scale(C,P),this.__originalScale(C,P)},T.transform=function(C,P,O,U,M,J){S.transform(C,P,O,U,M,J),this.__originalTransform(C,P,O,U,M,J)},T.setTransform=function(C,P,O,U,M,J){S.setTransform(C,P,O,U,M,J),this.__originalSetTransform(C,P,O,U,M,J)},T.resetTransform=function(){S.resetTransform(),this.__originalResetTransform()},T.rotate=function(C){S.rotate(C),this.__originalRotate(C)},T.clip=function(C){S.clip(C),this.__originalClip(C)},T.moveTo=function(_,C){S.moveTo(_,C),this.__originalMoveTo(_,C)},T.lineTo=function(_,C){S.lineTo(_,C),this.__originalLineTo(_,C)},T.bezierCurveTo=function(_,C,P,O,U,M){S.bezierCurveTo(_,C,P,O,U,M),this.__originalBezierCurveTo(_,C,P,O,U,M)},T.rect=function(_,C,P,O){S.rect(_,C,P,O),this.__originalRect(_,C,P,O)},T.closePath=function(){S.closePath(),this.__originalClosePath()},T.beginPath=function(){S.beginPath(),this.__originalBeginPath()}}class z{constructor(S){this.canvasFactory=S,this.cache=Object.create(null)}getCanvas(S,_,C){let P;return this.cache[S]!==void 0?(P=this.cache[S],this.canvasFactory.reset(P,_,C)):(P=this.canvasFactory.create(_,C),this.cache[S]=P),P}delete(S){delete this.cache[S]}clear(){for(const S in this.cache){const _=this.cache[S];this.canvasFactory.destroy(_),delete this.cache[S]}}}function ee(T,S,_,C,P,O,U,M,J,pe){const[de,he,xe,ve,ce,ge]=(0,i.getCurrentTransform)(T);if(he===0&&xe===0){const Re=U*de+ce,Fe=Math.round(Re),Ue=M*ve+ge,Me=Math.round(Ue),Be=(U+J)*de+ce,De=Math.abs(Math.round(Be)-Fe)||1,lt=(M+pe)*ve+ge,Je=Math.abs(Math.round(lt)-Me)||1;return T.setTransform(Math.sign(de),0,0,Math.sign(ve),Fe,Me),T.drawImage(S,_,C,P,O,0,0,De,Je),T.setTransform(de,he,xe,ve,ce,ge),[De,Je]}if(de===0&&ve===0){const Re=M*xe+ce,Fe=Math.round(Re),Ue=U*he+ge,Me=Math.round(Ue),Be=(M+pe)*xe+ce,De=Math.abs(Math.round(Be)-Fe)||1,lt=(U+J)*he+ge,Je=Math.abs(Math.round(lt)-Me)||1;return T.setTransform(0,Math.sign(he),Math.sign(xe),0,Fe,Me),T.drawImage(S,_,C,P,O,0,0,Je,De),T.setTransform(de,he,xe,ve,ce,ge),[Je,De]}T.drawImage(S,_,C,P,O,U,M,J,pe);const Pe=Math.hypot(de,he),ke=Math.hypot(xe,ve);return[Pe*J,ke*pe]}function $(T){const{width:S,height:_}=T;if(S>j||_>j)return null;const C=1e3,P=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),O=S+1;let U=new Uint8Array(O*(_+1)),M,J,pe;const de=S+7&-8;let he=new Uint8Array(de*_),xe=0;for(const ke of T.data){let Re=128;for(;Re>0;)he[xe++]=ke&Re?0:255,Re>>=1}let ve=0;for(xe=0,he[xe]!==0&&(U[0]=1,++ve),J=1;J<S;J++)he[xe]!==he[xe+1]&&(U[J]=he[xe]?2:1,++ve),xe++;for(he[xe]!==0&&(U[J]=2,++ve),M=1;M<_;M++){xe=M*de,pe=M*O,he[xe-de]!==he[xe]&&(U[pe]=he[xe]?1:8,++ve);let ke=(he[xe]?4:0)+(he[xe-de]?8:0);for(J=1;J<S;J++)ke=(ke>>2)+(he[xe+1]?4:0)+(he[xe-de+1]?8:0),P[ke]&&(U[pe+J]=P[ke],++ve),xe++;if(he[xe-de]!==he[xe]&&(U[pe+J]=he[xe]?2:4,++ve),ve>C)return null}for(xe=de*(_-1),pe=M*O,he[xe]!==0&&(U[pe]=8,++ve),J=1;J<S;J++)he[xe]!==he[xe+1]&&(U[pe+J]=he[xe]?4:8,++ve),xe++;if(he[xe]!==0&&(U[pe+J]=4,++ve),ve>C)return null;const ce=new Int32Array([0,O,-1,0,-O,0,0,0,1]),ge=new Path2D;for(M=0;ve&&M<=_;M++){let ke=M*O;const Re=ke+S;for(;ke<Re&&!U[ke];)ke++;if(ke===Re)continue;ge.moveTo(ke%O,M);const Fe=ke;let Ue=U[ke];do{const Me=ce[Ue];do ke+=Me;while(!U[ke]);const Be=U[ke];Be!==5&&Be!==10?(Ue=Be,U[ke]=0):(Ue=Be&51*Ue>>4,U[ke]&=Ue>>2|Ue<<2),ge.lineTo(ke%O,ke/O|0),U[ke]||--ve}while(Fe!==ke);--M}return he=null,U=null,function(ke){ke.save(),ke.scale(1/S,-1/_),ke.translate(0,-_),ke.fill(ge),ke.beginPath(),ke.restore()}}class H{constructor(S,_){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=r.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=r.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=r.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,S,_])}clone(){const S=Object.create(this);return S.clipBox=this.clipBox.slice(),S}setCurrentPoint(S,_){this.x=S,this.y=_}updatePathMinMax(S,_,C){[_,C]=r.Util.applyTransform([_,C],S),this.minX=Math.min(this.minX,_),this.minY=Math.min(this.minY,C),this.maxX=Math.max(this.maxX,_),this.maxY=Math.max(this.maxY,C)}updateRectMinMax(S,_){const C=r.Util.applyTransform(_,S),P=r.Util.applyTransform(_.slice(2),S),O=r.Util.applyTransform([_[0],_[3]],S),U=r.Util.applyTransform([_[2],_[1]],S);this.minX=Math.min(this.minX,C[0],P[0],O[0],U[0]),this.minY=Math.min(this.minY,C[1],P[1],O[1],U[1]),this.maxX=Math.max(this.maxX,C[0],P[0],O[0],U[0]),this.maxY=Math.max(this.maxY,C[1],P[1],O[1],U[1])}updateScalingPathMinMax(S,_){r.Util.scaleMinMax(S,_),this.minX=Math.min(this.minX,_[0]),this.maxX=Math.max(this.maxX,_[1]),this.minY=Math.min(this.minY,_[2]),this.maxY=Math.max(this.maxY,_[3])}updateCurvePathMinMax(S,_,C,P,O,U,M,J,pe,de){const he=r.Util.bezierBoundingBox(_,C,P,O,U,M,J,pe);if(de){de[0]=Math.min(de[0],he[0],he[2]),de[1]=Math.max(de[1],he[0],he[2]),de[2]=Math.min(de[2],he[1],he[3]),de[3]=Math.max(de[3],he[1],he[3]);return}this.updateRectMinMax(S,he)}getPathBoundingBox(S=s.FILL,_=null){const C=[this.minX,this.minY,this.maxX,this.maxY];if(S===s.STROKE){_||(0,r.unreachable)("Stroke bounding box must include transform.");const P=r.Util.singularValueDecompose2dScale(_),O=P[0]*this.lineWidth/2,U=P[1]*this.lineWidth/2;C[0]-=O,C[1]-=U,C[2]+=O,C[3]+=U}return C}updateClipFromPath(){const S=r.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(S||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(S){this.clipBox=S,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(S=s.FILL,_=null){return r.Util.intersect(this.clipBox,this.getPathBoundingBox(S,_))}}function ae(T,S){if(typeof ImageData<"u"&&S instanceof ImageData){T.putImageData(S,0,0);return}const _=S.height,C=S.width,P=_%D,O=(_-P)/D,U=P===0?O:O+1,M=T.createImageData(C,D);let J=0,pe;const de=S.data,he=M.data;let xe,ve,ce,ge;if(S.kind===r.ImageKind.GRAYSCALE_1BPP){const Pe=de.byteLength,ke=new Uint32Array(he.buffer,0,he.byteLength>>2),Re=ke.length,Fe=C+7>>3,Ue=4294967295,Me=r.FeatureTest.isLittleEndian?4278190080:255;for(xe=0;xe<U;xe++){for(ce=xe<O?D:P,pe=0,ve=0;ve<ce;ve++){const Be=Pe-J;let De=0;const lt=Be>Fe?C:Be*8-7,Je=lt&-8;let Qe=0,We=0;for(;De<Je;De+=8)We=de[J++],ke[pe++]=We&128?Ue:Me,ke[pe++]=We&64?Ue:Me,ke[pe++]=We&32?Ue:Me,ke[pe++]=We&16?Ue:Me,ke[pe++]=We&8?Ue:Me,ke[pe++]=We&4?Ue:Me,ke[pe++]=We&2?Ue:Me,ke[pe++]=We&1?Ue:Me;for(;De<lt;De++)Qe===0&&(We=de[J++],Qe=128),ke[pe++]=We&Qe?Ue:Me,Qe>>=1}for(;pe<Re;)ke[pe++]=0;T.putImageData(M,0,xe*D)}}else if(S.kind===r.ImageKind.RGBA_32BPP){for(ve=0,ge=C*D*4,xe=0;xe<O;xe++)he.set(de.subarray(J,J+ge)),J+=ge,T.putImageData(M,0,ve),ve+=D;xe<U&&(ge=C*P*4,he.set(de.subarray(J,J+ge)),T.putImageData(M,0,ve))}else if(S.kind===r.ImageKind.RGB_24BPP)for(ce=D,ge=C*ce,xe=0;xe<U;xe++){for(xe>=O&&(ce=P,ge=C*ce),pe=0,ve=ge;ve--;)he[pe++]=de[J++],he[pe++]=de[J++],he[pe++]=de[J++],he[pe++]=255;T.putImageData(M,0,xe*D)}else throw new Error(`bad image kind: ${S.kind}`)}function Y(T,S){if(S.bitmap){T.drawImage(S.bitmap,0,0);return}const _=S.height,C=S.width,P=_%D,O=(_-P)/D,U=P===0?O:O+1,M=T.createImageData(C,D);let J=0;const pe=S.data,de=M.data;for(let he=0;he<U;he++){const xe=he<O?D:P;({srcPos:J}=h({src:pe,srcPos:J,dest:de,width:C,height:xe,nonBlackColor:0})),T.putImageData(M,0,he*D)}}function Q(T,S){const _=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const C of _)T[C]!==void 0&&(S[C]=T[C]);T.setLineDash!==void 0&&(S.setLineDash(T.getLineDash()),S.lineDashOffset=T.lineDashOffset)}function ie(T){if(T.strokeStyle=T.fillStyle="#000000",T.fillRule="nonzero",T.globalAlpha=1,T.lineWidth=1,T.lineCap="butt",T.lineJoin="miter",T.miterLimit=10,T.globalCompositeOperation="source-over",T.font="10px sans-serif",T.setLineDash!==void 0&&(T.setLineDash([]),T.lineDashOffset=0),!r.isNodeJS){const{filter:S}=T;S!=="none"&&S!==""&&(T.filter="none")}}function fe(T,S,_,C){const P=T.length;for(let O=3;O<P;O+=4){const U=T[O];if(U===0)T[O-3]=S,T[O-2]=_,T[O-1]=C;else if(U<255){const M=255-U;T[O-3]=T[O-3]*U+S*M>>8,T[O-2]=T[O-2]*U+_*M>>8,T[O-1]=T[O-1]*U+C*M>>8}}}function W(T,S,_){const C=T.length,P=1/255;for(let O=3;O<C;O+=4){const U=_?_[T[O]]:T[O];S[O]=S[O]*U*P|0}}function se(T,S,_){const C=T.length;for(let P=3;P<C;P+=4){const O=T[P-3]*77+T[P-2]*152+T[P-1]*28;S[P]=_?S[P]*_[O>>8]>>8:S[P]*O>>16}}function oe(T,S,_,C,P,O,U,M,J,pe,de){const he=!!O,xe=he?O[0]:0,ve=he?O[1]:0,ce=he?O[2]:0,ge=P==="Luminosity"?se:W,ke=Math.min(C,Math.ceil(1048576/_));for(let Re=0;Re<C;Re+=ke){const Fe=Math.min(ke,C-Re),Ue=T.getImageData(M-pe,Re+(J-de),_,Fe),Me=S.getImageData(M,Re+J,_,Fe);he&&fe(Ue.data,xe,ve,ce),ge(Ue.data,Me.data,U),S.putImageData(Me,M,Re+J)}}function K(T,S,_,C){const P=C[0],O=C[1],U=C[2]-P,M=C[3]-O;U===0||M===0||(oe(S.context,_,U,M,S.subtype,S.backdrop,S.transferMap,P,O,S.offsetX,S.offsetY),T.save(),T.globalAlpha=1,T.globalCompositeOperation="source-over",T.setTransform(1,0,0,1,0,0),T.drawImage(_.canvas,0,0),T.restore())}function B(T,S){const _=r.Util.singularValueDecompose2dScale(T);_[0]=Math.fround(_[0]),_[1]=Math.fround(_[1]);const C=Math.fround((globalThis.devicePixelRatio||1)*i.PixelsPerInch.PDF_TO_CSS_UNITS);return S!==void 0?S:_[0]<=C||_[1]<=C}const X=["butt","round","square"],ne=["miter","round","bevel"],Z={},te={};class E{constructor(S,_,C,P,O,{optionalContentConfig:U,markedContentStack:M=null},J,pe){this.ctx=S,this.current=new H(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=_,this.objs=C,this.canvasFactory=P,this.filterFactory=O,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=M||[],this.optionalContentConfig=U,this.cachedCanvases=new z(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=J,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=pe,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(S,_=null){return typeof S=="string"?S.startsWith("g_")?this.commonObjs.get(S):this.objs.get(S):_}beginDrawing({transform:S,viewport:_,transparency:C=!1,background:P=null}){const O=this.ctx.canvas.width,U=this.ctx.canvas.height,M=this.ctx.fillStyle;if(this.ctx.fillStyle=P||"#ffffff",this.ctx.fillRect(0,0,O,U),this.ctx.fillStyle=M,C){const J=this.cachedCanvases.getCanvas("transparent",O,U);this.compositeCtx=this.ctx,this.transparentCanvas=J.canvas,this.ctx=J.context,this.ctx.save(),this.ctx.transform(...(0,i.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),ie(this.ctx),S&&(this.ctx.transform(...S),this.outputScaleX=S[0],this.outputScaleY=S[0]),this.ctx.transform(..._.transform),this.viewportScale=_.scale,this.baseTransform=(0,i.getCurrentTransform)(this.ctx)}executeOperatorList(S,_,C,P){const O=S.argsArray,U=S.fnArray;let M=_||0;const J=O.length;if(J===M)return M;const pe=J-M>L&&typeof C=="function",de=pe?Date.now()+k:0;let he=0;const xe=this.commonObjs,ve=this.objs;let ce;for(;;){if(P!==void 0&&M===P.nextBreakPoint)return P.breakIt(M,C),M;if(ce=U[M],ce!==r.OPS.dependency)this[ce].apply(this,O[M]);else for(const ge of O[M]){const Pe=ge.startsWith("g_")?xe:ve;if(!Pe.has(ge))return Pe.get(ge,C),M}if(M++,M===J)return M;if(pe&&++he>L){if(Date.now()>de)return C(),M;he=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const S of this._cachedBitmapsMap.values()){for(const _ of S.values())typeof HTMLCanvasElement<"u"&&_ instanceof HTMLCanvasElement&&(_.width=_.height=0);S.clear()}this._cachedBitmapsMap.clear(),this.#t()}#t(){if(this.pageColors){const S=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(S!=="none"){const _=this.ctx.filter;this.ctx.filter=S,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=_}}}_scaleImage(S,_){const C=S.width,P=S.height;let O=Math.max(Math.hypot(_[0],_[1]),1),U=Math.max(Math.hypot(_[2],_[3]),1),M=C,J=P,pe="prescale1",de,he;for(;O>2&&M>1||U>2&&J>1;){let xe=M,ve=J;O>2&&M>1&&(xe=M>=16384?Math.floor(M/2)-1||1:Math.ceil(M/2),O/=M/xe),U>2&&J>1&&(ve=J>=16384?Math.floor(J/2)-1||1:Math.ceil(J)/2,U/=J/ve),de=this.cachedCanvases.getCanvas(pe,xe,ve),he=de.context,he.clearRect(0,0,xe,ve),he.drawImage(S,0,0,M,J,0,0,xe,ve),S=de.canvas,M=xe,J=ve,pe=pe==="prescale1"?"prescale2":"prescale1"}return{img:S,paintWidth:M,paintHeight:J}}_createMaskCanvas(S){const _=this.ctx,{width:C,height:P}=S,O=this.current.fillColor,U=this.current.patternFill,M=(0,i.getCurrentTransform)(_);let J,pe,de,he;if((S.bitmap||S.data)&&S.count>1){const lt=S.bitmap||S.data.buffer;pe=JSON.stringify(U?M:[M.slice(0,4),O]),J=this._cachedBitmapsMap.get(lt),J||(J=new Map,this._cachedBitmapsMap.set(lt,J));const Je=J.get(pe);if(Je&&!U){const Qe=Math.round(Math.min(M[0],M[2])+M[4]),We=Math.round(Math.min(M[1],M[3])+M[5]);return{canvas:Je,offsetX:Qe,offsetY:We}}de=Je}de||(he=this.cachedCanvases.getCanvas("maskCanvas",C,P),Y(he.context,S));let xe=r.Util.transform(M,[1/C,0,0,-1/P,0,0]);xe=r.Util.transform(xe,[1,0,0,1,0,-P]);const[ve,ce,ge,Pe]=r.Util.getAxialAlignedBoundingBox([0,0,C,P],xe),ke=Math.round(ge-ve)||1,Re=Math.round(Pe-ce)||1,Fe=this.cachedCanvases.getCanvas("fillCanvas",ke,Re),Ue=Fe.context,Me=ve,Be=ce;Ue.translate(-Me,-Be),Ue.transform(...xe),de||(de=this._scaleImage(he.canvas,(0,i.getCurrentTransformInverse)(Ue)),de=de.img,J&&U&&J.set(pe,de)),Ue.imageSmoothingEnabled=B((0,i.getCurrentTransform)(Ue),S.interpolate),ee(Ue,de,0,0,de.width,de.height,0,0,C,P),Ue.globalCompositeOperation="source-in";const De=r.Util.transform((0,i.getCurrentTransformInverse)(Ue),[1,0,0,1,-Me,-Be]);return Ue.fillStyle=U?O.getPattern(_,this,De,s.FILL):O,Ue.fillRect(0,0,C,P),J&&!U&&(this.cachedCanvases.delete("fillCanvas"),J.set(pe,Fe.canvas)),{canvas:Fe.canvas,offsetX:Math.round(Me),offsetY:Math.round(Be)}}setLineWidth(S){S!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=S,this.ctx.lineWidth=S}setLineCap(S){this.ctx.lineCap=X[S]}setLineJoin(S){this.ctx.lineJoin=ne[S]}setMiterLimit(S){this.ctx.miterLimit=S}setDash(S,_){const C=this.ctx;C.setLineDash!==void 0&&(C.setLineDash(S),C.lineDashOffset=_)}setRenderingIntent(S){}setFlatness(S){}setGState(S){for(const[_,C]of S)switch(_){case"LW":this.setLineWidth(C);break;case"LC":this.setLineCap(C);break;case"LJ":this.setLineJoin(C);break;case"ML":this.setMiterLimit(C);break;case"D":this.setDash(C[0],C[1]);break;case"RI":this.setRenderingIntent(C);break;case"FL":this.setFlatness(C);break;case"Font":this.setFont(C[0],C[1]);break;case"CA":this.current.strokeAlpha=C;break;case"ca":this.current.fillAlpha=C,this.ctx.globalAlpha=C;break;case"BM":this.ctx.globalCompositeOperation=C;break;case"SMask":this.current.activeSMask=C?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(C);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const S=this.inSMaskMode;this.current.activeSMask&&!S?this.beginSMaskMode():!this.current.activeSMask&&S&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const S=this.ctx.canvas.width,_=this.ctx.canvas.height,C="smaskGroupAt"+this.groupLevel,P=this.cachedCanvases.getCanvas(C,S,_);this.suspendedCtx=this.ctx,this.ctx=P.context;const O=this.ctx;O.setTransform(...(0,i.getCurrentTransform)(this.suspendedCtx)),Q(this.suspendedCtx,O),q(O,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Q(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(S){if(!this.current.activeSMask)return;S?(S[0]=Math.floor(S[0]),S[1]=Math.floor(S[1]),S[2]=Math.ceil(S[2]),S[3]=Math.ceil(S[3])):S=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const _=this.current.activeSMask,C=this.suspendedCtx;K(C,_,this.ctx,S),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(Q(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const S=this.current;this.stateStack.push(S),this.current=S.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),Q(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(S,_,C,P,O,U){this.ctx.transform(S,_,C,P,O,U),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(S,_,C){const P=this.ctx,O=this.current;let U=O.x,M=O.y,J,pe;const de=(0,i.getCurrentTransform)(P),he=de[0]===0&&de[3]===0||de[1]===0&&de[2]===0,xe=he?C.slice(0):null;for(let ve=0,ce=0,ge=S.length;ve<ge;ve++)switch(S[ve]|0){case r.OPS.rectangle:U=_[ce++],M=_[ce++];const Pe=_[ce++],ke=_[ce++],Re=U+Pe,Fe=M+ke;P.moveTo(U,M),Pe===0||ke===0?P.lineTo(Re,Fe):(P.lineTo(Re,M),P.lineTo(Re,Fe),P.lineTo(U,Fe)),he||O.updateRectMinMax(de,[U,M,Re,Fe]),P.closePath();break;case r.OPS.moveTo:U=_[ce++],M=_[ce++],P.moveTo(U,M),he||O.updatePathMinMax(de,U,M);break;case r.OPS.lineTo:U=_[ce++],M=_[ce++],P.lineTo(U,M),he||O.updatePathMinMax(de,U,M);break;case r.OPS.curveTo:J=U,pe=M,U=_[ce+4],M=_[ce+5],P.bezierCurveTo(_[ce],_[ce+1],_[ce+2],_[ce+3],U,M),O.updateCurvePathMinMax(de,J,pe,_[ce],_[ce+1],_[ce+2],_[ce+3],U,M,xe),ce+=6;break;case r.OPS.curveTo2:J=U,pe=M,P.bezierCurveTo(U,M,_[ce],_[ce+1],_[ce+2],_[ce+3]),O.updateCurvePathMinMax(de,J,pe,U,M,_[ce],_[ce+1],_[ce+2],_[ce+3],xe),U=_[ce+2],M=_[ce+3],ce+=4;break;case r.OPS.curveTo3:J=U,pe=M,U=_[ce+2],M=_[ce+3],P.bezierCurveTo(_[ce],_[ce+1],U,M,U,M),O.updateCurvePathMinMax(de,J,pe,_[ce],_[ce+1],U,M,U,M,xe),ce+=4;break;case r.OPS.closePath:P.closePath();break}he&&O.updateScalingPathMinMax(de,xe),O.setCurrentPoint(U,M)}closePath(){this.ctx.closePath()}stroke(S=!0){const _=this.ctx,C=this.current.strokeColor;_.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof C=="object"&&C?.getPattern?(_.save(),_.strokeStyle=C.getPattern(_,this,(0,i.getCurrentTransformInverse)(_),s.STROKE),this.rescaleAndStroke(!1),_.restore()):this.rescaleAndStroke(!0)),S&&this.consumePath(this.current.getClippedPathBoundingBox()),_.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(S=!0){const _=this.ctx,C=this.current.fillColor,P=this.current.patternFill;let O=!1;P&&(_.save(),_.fillStyle=C.getPattern(_,this,(0,i.getCurrentTransformInverse)(_),s.FILL),O=!0);const U=this.current.getClippedPathBoundingBox();this.contentVisible&&U!==null&&(this.pendingEOFill?(_.fill("evenodd"),this.pendingEOFill=!1):_.fill()),O&&_.restore(),S&&this.consumePath(U)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Z}eoClip(){this.pendingClip=te}beginText(){this.current.textMatrix=r.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const S=this.pendingTextPaths,_=this.ctx;if(S===void 0){_.beginPath();return}_.save(),_.beginPath();for(const C of S)_.setTransform(...C.transform),_.translate(C.x,C.y),C.addToPath(_,C.fontSize);_.restore(),_.clip(),_.beginPath(),delete this.pendingTextPaths}setCharSpacing(S){this.current.charSpacing=S}setWordSpacing(S){this.current.wordSpacing=S}setHScale(S){this.current.textHScale=S/100}setLeading(S){this.current.leading=-S}setFont(S,_){const C=this.commonObjs.get(S),P=this.current;if(!C)throw new Error(`Can't find font for ${S}`);if(P.fontMatrix=C.fontMatrix||r.FONT_IDENTITY_MATRIX,(P.fontMatrix[0]===0||P.fontMatrix[3]===0)&&(0,r.warn)("Invalid font matrix for font "+S),_<0?(_=-_,P.fontDirection=-1):P.fontDirection=1,this.current.font=C,this.current.fontSize=_,C.isType3Font)return;const O=C.loadedName||"sans-serif",U=C.systemFontInfo?.css||`"${O}", ${C.fallbackName}`;let M="normal";C.black?M="900":C.bold&&(M="bold");const J=C.italic?"italic":"normal";let pe=_;_<p?pe=p:_>y&&(pe=y),this.current.fontSizeScale=_/pe,this.ctx.font=`${J} ${M} ${pe}px ${U}`}setTextRenderingMode(S){this.current.textRenderingMode=S}setTextRise(S){this.current.textRise=S}moveText(S,_){this.current.x=this.current.lineX+=S,this.current.y=this.current.lineY+=_}setLeadingMoveText(S,_){this.setLeading(-_),this.moveText(S,_)}setTextMatrix(S,_,C,P,O,U){this.current.textMatrix=[S,_,C,P,O,U],this.current.textMatrixScale=Math.hypot(S,_),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(S,_,C,P){const O=this.ctx,U=this.current,M=U.font,J=U.textRenderingMode,pe=U.fontSize/U.fontSizeScale,de=J&r.TextRenderingMode.FILL_STROKE_MASK,he=!!(J&r.TextRenderingMode.ADD_TO_PATH_FLAG),xe=U.patternFill&&!M.missingFile;let ve;(M.disableFontFace||he||xe)&&(ve=M.getPathGenerator(this.commonObjs,S)),M.disableFontFace||xe?(O.save(),O.translate(_,C),O.beginPath(),ve(O,pe),P&&O.setTransform(...P),(de===r.TextRenderingMode.FILL||de===r.TextRenderingMode.FILL_STROKE)&&O.fill(),(de===r.TextRenderingMode.STROKE||de===r.TextRenderingMode.FILL_STROKE)&&O.stroke(),O.restore()):((de===r.TextRenderingMode.FILL||de===r.TextRenderingMode.FILL_STROKE)&&O.fillText(S,_,C),(de===r.TextRenderingMode.STROKE||de===r.TextRenderingMode.FILL_STROKE)&&O.strokeText(S,_,C)),he&&(this.pendingTextPaths||=[]).push({transform:(0,i.getCurrentTransform)(O),x:_,y:C,fontSize:pe,addToPath:ve})}get isFontSubpixelAAEnabled(){const{context:S}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);S.scale(1.5,1),S.fillText("I",0,10);const _=S.getImageData(0,0,10,10).data;let C=!1;for(let P=3;P<_.length;P+=4)if(_[P]>0&&_[P]<255){C=!0;break}return(0,r.shadow)(this,"isFontSubpixelAAEnabled",C)}showText(S){const _=this.current,C=_.font;if(C.isType3Font)return this.showType3Text(S);const P=_.fontSize;if(P===0)return;const O=this.ctx,U=_.fontSizeScale,M=_.charSpacing,J=_.wordSpacing,pe=_.fontDirection,de=_.textHScale*pe,he=S.length,xe=C.vertical,ve=xe?1:-1,ce=C.defaultVMetrics,ge=P*_.fontMatrix[0],Pe=_.textRenderingMode===r.TextRenderingMode.FILL&&!C.disableFontFace&&!_.patternFill;O.save(),O.transform(..._.textMatrix),O.translate(_.x,_.y+_.textRise),pe>0?O.scale(de,-1):O.scale(de,1);let ke;if(_.patternFill){O.save();const Be=_.fillColor.getPattern(O,this,(0,i.getCurrentTransformInverse)(O),s.FILL);ke=(0,i.getCurrentTransform)(O),O.restore(),O.fillStyle=Be}let Re=_.lineWidth;const Fe=_.textMatrixScale;if(Fe===0||Re===0){const Be=_.textRenderingMode&r.TextRenderingMode.FILL_STROKE_MASK;(Be===r.TextRenderingMode.STROKE||Be===r.TextRenderingMode.FILL_STROKE)&&(Re=this.getSinglePixelWidth())}else Re/=Fe;if(U!==1&&(O.scale(U,U),Re/=U),O.lineWidth=Re,C.isInvalidPDFjsFont){const Be=[];let De=0;for(const lt of S)Be.push(lt.unicode),De+=lt.width;O.fillText(Be.join(""),0,0),_.x+=De*ge*de,O.restore(),this.compose();return}let Ue=0,Me;for(Me=0;Me<he;++Me){const Be=S[Me];if(typeof Be=="number"){Ue+=ve*Be*P/1e3;continue}let De=!1;const lt=(Be.isSpace?J:0)+M,Je=Be.fontChar,Qe=Be.accent;let We,Et,Xe=Be.width;if(xe){const Ze=Be.vmetric||ce,nt=-(Be.vmetric?Ze[1]:Xe*.5)*ge,_t=Ze[2]*ge;Xe=Ze?-Ze[0]:Xe,We=nt/U,Et=(Ue+_t)/U}else We=Ue/U,Et=0;if(C.remeasure&&Xe>0){const Ze=O.measureText(Je).width*1e3/P*U;if(Xe<Ze&&this.isFontSubpixelAAEnabled){const nt=Xe/Ze;De=!0,O.save(),O.scale(nt,1),We/=nt}else Xe!==Ze&&(We+=(Xe-Ze)/2e3*P/U)}if(this.contentVisible&&(Be.isInFont||C.missingFile)){if(Pe&&!Qe)O.fillText(Je,We,Et);else if(this.paintChar(Je,We,Et,ke),Qe){const Ze=We+P*Qe.offset.x/U,nt=Et-P*Qe.offset.y/U;this.paintChar(Qe.fontChar,Ze,nt,ke)}}const Lt=xe?Xe*ge-lt*pe:Xe*ge+lt*pe;Ue+=Lt,De&&O.restore()}xe?_.y-=Ue:_.x+=Ue*de,O.restore(),this.compose()}showType3Text(S){const _=this.ctx,C=this.current,P=C.font,O=C.fontSize,U=C.fontDirection,M=P.vertical?1:-1,J=C.charSpacing,pe=C.wordSpacing,de=C.textHScale*U,he=C.fontMatrix||r.FONT_IDENTITY_MATRIX,xe=S.length,ve=C.textRenderingMode===r.TextRenderingMode.INVISIBLE;let ce,ge,Pe,ke;if(!(ve||O===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,_.save(),_.transform(...C.textMatrix),_.translate(C.x,C.y),_.scale(de,U),ce=0;ce<xe;++ce){if(ge=S[ce],typeof ge=="number"){ke=M*ge*O/1e3,this.ctx.translate(ke,0),C.x+=ke*de;continue}const Re=(ge.isSpace?pe:0)+J,Fe=P.charProcOperatorList[ge.operatorListId];if(!Fe){(0,r.warn)(`Type3 character "${ge.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ge,this.save(),_.scale(O,O),_.transform(...he),this.executeOperatorList(Fe),this.restore()),Pe=r.Util.applyTransform([ge.width,0],he)[0]*O+Re,_.translate(Pe,0),C.x+=Pe*de}_.restore(),this.processingType3=null}}setCharWidth(S,_){}setCharWidthAndBounds(S,_,C,P,O,U){this.ctx.rect(C,P,O-C,U-P),this.ctx.clip(),this.endPath()}getColorN_Pattern(S){let _;if(S[0]==="TilingPattern"){const C=S[1],P=this.baseTransform||(0,i.getCurrentTransform)(this.ctx),O={createCanvasGraphics:U=>new E(U,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};_=new v(S,C,this.ctx,O,P)}else _=this._getPattern(S[1],S[2]);return _}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(S,_,C){const P=r.Util.makeHexColor(S,_,C);this.ctx.strokeStyle=P,this.current.strokeColor=P}setFillRGBColor(S,_,C){const P=r.Util.makeHexColor(S,_,C);this.ctx.fillStyle=P,this.current.fillColor=P,this.current.patternFill=!1}_getPattern(S,_=null){let C;return this.cachedPatterns.has(S)?C=this.cachedPatterns.get(S):(C=d(this.getObject(S)),this.cachedPatterns.set(S,C)),_&&(C.matrix=_),C}shadingFill(S){if(!this.contentVisible)return;const _=this.ctx;this.save();const C=this._getPattern(S);_.fillStyle=C.getPattern(_,this,(0,i.getCurrentTransformInverse)(_),s.SHADING);const P=(0,i.getCurrentTransformInverse)(_);if(P){const{width:O,height:U}=_.canvas,[M,J,pe,de]=r.Util.getAxialAlignedBoundingBox([0,0,O,U],P);this.ctx.fillRect(M,J,pe-M,de-J)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,r.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,r.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(S,_){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(S)&&S.length===6&&this.transform(...S),this.baseTransform=(0,i.getCurrentTransform)(this.ctx),_)){const C=_[2]-_[0],P=_[3]-_[1];this.ctx.rect(_[0],_[1],C,P),this.current.updateRectMinMax((0,i.getCurrentTransform)(this.ctx),_),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(S){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const _=this.ctx;S.isolated||(0,r.info)("TODO: Support non-isolated groups."),S.knockout&&(0,r.warn)("Knockout groups not supported.");const C=(0,i.getCurrentTransform)(_);if(S.matrix&&_.transform(...S.matrix),!S.bbox)throw new Error("Bounding box is required.");let P=r.Util.getAxialAlignedBoundingBox(S.bbox,(0,i.getCurrentTransform)(_));const O=[0,0,_.canvas.width,_.canvas.height];P=r.Util.intersect(P,O)||[0,0,0,0];const U=Math.floor(P[0]),M=Math.floor(P[1]);let J=Math.max(Math.ceil(P[2])-U,1),pe=Math.max(Math.ceil(P[3])-M,1),de=1,he=1;J>b&&(de=J/b,J=b),pe>b&&(he=pe/b,pe=b),this.current.startNewPathAndClipBox([0,0,J,pe]);let xe="groupAt"+this.groupLevel;S.smask&&(xe+="_smask_"+this.smaskCounter++%2);const ve=this.cachedCanvases.getCanvas(xe,J,pe),ce=ve.context;ce.scale(1/de,1/he),ce.translate(-U,-M),ce.transform(...C),S.smask?this.smaskStack.push({canvas:ve.canvas,context:ce,offsetX:U,offsetY:M,scaleX:de,scaleY:he,subtype:S.smask.subtype,backdrop:S.smask.backdrop,transferMap:S.smask.transferMap||null,startTransformInverse:null}):(_.setTransform(1,0,0,1,0,0),_.translate(U,M),_.scale(de,he),_.save()),Q(_,ce),this.ctx=ce,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(_),this.groupLevel++}endGroup(S){if(!this.contentVisible)return;this.groupLevel--;const _=this.ctx,C=this.groupStack.pop();if(this.ctx=C,this.ctx.imageSmoothingEnabled=!1,S.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const P=(0,i.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...P);const O=r.Util.getAxialAlignedBoundingBox([0,0,_.canvas.width,_.canvas.height],P);this.ctx.drawImage(_.canvas,0,0),this.ctx.restore(),this.compose(O)}}beginAnnotation(S,_,C,P,O){if(this.#e(),ie(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(_)&&_.length===4){const U=_[2]-_[0],M=_[3]-_[1];if(O&&this.annotationCanvasMap){C=C.slice(),C[4]-=_[0],C[5]-=_[1],_=_.slice(),_[0]=_[1]=0,_[2]=U,_[3]=M;const[J,pe]=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(this.ctx)),{viewportScale:de}=this,he=Math.ceil(U*this.outputScaleX*de),xe=Math.ceil(M*this.outputScaleY*de);this.annotationCanvas=this.canvasFactory.create(he,xe);const{canvas:ve,context:ce}=this.annotationCanvas;this.annotationCanvasMap.set(S,ve),this.annotationCanvas.savedCtx=this.ctx,this.ctx=ce,this.ctx.save(),this.ctx.setTransform(J,0,0,-pe,0,M*pe),ie(this.ctx)}else ie(this.ctx),this.ctx.rect(_[0],_[1],U,M),this.ctx.clip(),this.endPath()}this.current=new H(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...C),this.transform(...P)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),this.#t(),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(S){if(!this.contentVisible)return;const _=S.count;S=this.getObject(S.data,S),S.count=_;const C=this.ctx,P=this.processingType3;if(P&&(P.compiled===void 0&&(P.compiled=$(S)),P.compiled)){P.compiled(C);return}const O=this._createMaskCanvas(S),U=O.canvas;C.save(),C.setTransform(1,0,0,1,0,0),C.drawImage(U,O.offsetX,O.offsetY),C.restore(),this.compose()}paintImageMaskXObjectRepeat(S,_,C=0,P=0,O,U){if(!this.contentVisible)return;S=this.getObject(S.data,S);const M=this.ctx;M.save();const J=(0,i.getCurrentTransform)(M);M.transform(_,C,P,O,0,0);const pe=this._createMaskCanvas(S);M.setTransform(1,0,0,1,pe.offsetX-J[4],pe.offsetY-J[5]);for(let de=0,he=U.length;de<he;de+=2){const xe=r.Util.transform(J,[_,C,P,O,U[de],U[de+1]]),[ve,ce]=r.Util.applyTransform([0,0],xe);M.drawImage(pe.canvas,ve,ce)}M.restore(),this.compose()}paintImageMaskXObjectGroup(S){if(!this.contentVisible)return;const _=this.ctx,C=this.current.fillColor,P=this.current.patternFill;for(const O of S){const{data:U,width:M,height:J,transform:pe}=O,de=this.cachedCanvases.getCanvas("maskCanvas",M,J),he=de.context;he.save();const xe=this.getObject(U,O);Y(he,xe),he.globalCompositeOperation="source-in",he.fillStyle=P?C.getPattern(he,this,(0,i.getCurrentTransformInverse)(_),s.FILL):C,he.fillRect(0,0,M,J),he.restore(),_.save(),_.transform(...pe),_.scale(1,-1),ee(_,de.canvas,0,0,M,J,0,-1,1,1),_.restore()}this.compose()}paintImageXObject(S){if(!this.contentVisible)return;const _=this.getObject(S);if(!_){(0,r.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(_)}paintImageXObjectRepeat(S,_,C,P){if(!this.contentVisible)return;const O=this.getObject(S);if(!O){(0,r.warn)("Dependent image isn't ready yet");return}const U=O.width,M=O.height,J=[];for(let pe=0,de=P.length;pe<de;pe+=2)J.push({transform:[_,0,0,C,P[pe],P[pe+1]],x:0,y:0,w:U,h:M});this.paintInlineImageXObjectGroup(O,J)}applyTransferMapsToCanvas(S){return this.current.transferMaps!=="none"&&(S.filter=this.current.transferMaps,S.drawImage(S.canvas,0,0),S.filter="none"),S.canvas}applyTransferMapsToBitmap(S){if(this.current.transferMaps==="none")return S.bitmap;const{bitmap:_,width:C,height:P}=S,O=this.cachedCanvases.getCanvas("inlineImage",C,P),U=O.context;return U.filter=this.current.transferMaps,U.drawImage(_,0,0),U.filter="none",O.canvas}paintInlineImageXObject(S){if(!this.contentVisible)return;const _=S.width,C=S.height,P=this.ctx;if(this.save(),!r.isNodeJS){const{filter:M}=P;M!=="none"&&M!==""&&(P.filter="none")}P.scale(1/_,-1/C);let O;if(S.bitmap)O=this.applyTransferMapsToBitmap(S);else if(typeof HTMLElement=="function"&&S instanceof HTMLElement||!S.data)O=S;else{const J=this.cachedCanvases.getCanvas("inlineImage",_,C).context;ae(J,S),O=this.applyTransferMapsToCanvas(J)}const U=this._scaleImage(O,(0,i.getCurrentTransformInverse)(P));P.imageSmoothingEnabled=B((0,i.getCurrentTransform)(P),S.interpolate),ee(P,U.img,0,0,U.paintWidth,U.paintHeight,0,-C,_,C),this.compose(),this.restore()}paintInlineImageXObjectGroup(S,_){if(!this.contentVisible)return;const C=this.ctx;let P;if(S.bitmap)P=S.bitmap;else{const O=S.width,U=S.height,J=this.cachedCanvases.getCanvas("inlineImage",O,U).context;ae(J,S),P=this.applyTransferMapsToCanvas(J)}for(const O of _)C.save(),C.transform(...O.transform),C.scale(1,-1),ee(C,P,O.x,O.y,O.w,O.h,0,-1,1,1),C.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(S){}markPointProps(S,_){}beginMarkedContent(S){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(S,_){S==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(_)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(S){const _=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(S);const C=this.ctx;this.pendingClip&&(_||(this.pendingClip===te?C.clip("evenodd"):C.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),C.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const S=(0,i.getCurrentTransform)(this.ctx);if(S[1]===0&&S[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(S[0]),Math.abs(S[3]));else{const _=Math.abs(S[0]*S[3]-S[2]*S[1]),C=Math.hypot(S[0],S[2]),P=Math.hypot(S[1],S[3]);this._cachedGetSinglePixelWidth=Math.max(C,P)/_}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:S}=this.current,{a:_,b:C,c:P,d:O}=this.ctx.getTransform();let U,M;if(C===0&&P===0){const J=Math.abs(_),pe=Math.abs(O);if(J===pe)if(S===0)U=M=1/J;else{const de=J*S;U=M=de<1?1/de:1}else if(S===0)U=1/J,M=1/pe;else{const de=J*S,he=pe*S;U=de<1?1/de:1,M=he<1?1/he:1}}else{const J=Math.abs(_*O-C*P),pe=Math.hypot(_,C),de=Math.hypot(P,O);if(S===0)U=de/J,M=pe/J;else{const he=S*J;U=de>he?de/he:1,M=pe>he?pe/he:1}}this._cachedScaleForStroking[0]=U,this._cachedScaleForStroking[1]=M}return this._cachedScaleForStroking}rescaleAndStroke(S){const{ctx:_}=this,{lineWidth:C}=this.current,[P,O]=this.getScaleForStroking();if(_.lineWidth=C||1,P===1&&O===1){_.stroke();return}const U=_.getLineDash();if(S&&_.save(),_.scale(P,O),U.length>0){const M=Math.max(P,O);_.setLineDash(U.map(J=>J/M)),_.lineDashOffset/=M}_.stroke(),S&&_.restore()}isContentVisible(){for(let S=this.markedContentStack.length-1;S>=0;S--)if(!this.markedContentStack[S].visible)return!1;return!0}}for(const T in r.OPS)E.prototype[T]!==void 0&&(E.prototype[r.OPS[T]]=E.prototype[T])},473:(e,t,n)=>{n.d(t,{DOMCMapReaderFactory:()=>u,DOMCanvasFactory:()=>l,DOMFilterFactory:()=>o,DOMSVGFactory:()=>g,DOMStandardFontDataFactory:()=>f,PDFDateString:()=>D,PageViewport:()=>d,PixelsPerInch:()=>a,RenderingCancelledException:()=>m,StatTimer:()=>b,fetchData:()=>c,getColorValues:()=>ee,getCurrentTransform:()=>$,getCurrentTransformInverse:()=>H,getFilenameFromUrl:()=>p,getPdfFilenameFromUrl:()=>y,getRGB:()=>z,getXfaPageViewport:()=>q,isDataScheme:()=>v,isPdfFile:()=>h,isValidFetchUrl:()=>k,noContextMenu:()=>L,setLayerDimensions:()=>ae});var r=n(822),i=n(266);const s="http://www.w3.org/2000/svg";class a{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}class o extends r.BaseFilterFactory{#e;#t;#n;#r;#i;#s;#o;#a;#c;#u;#f=0;constructor({docId:Q,ownerDocument:ie=globalThis.document}={}){super(),this.#n=Q,this.#r=ie}get#h(){return this.#e||=new Map}get#d(){if(!this.#t){const Q=this.#r.createElement("div"),{style:ie}=Q;ie.visibility="hidden",ie.contain="strict",ie.width=ie.height=0,ie.position="absolute",ie.top=ie.left=0,ie.zIndex=-1;const fe=this.#r.createElementNS(s,"svg");fe.setAttribute("width",0),fe.setAttribute("height",0),this.#t=this.#r.createElementNS(s,"defs"),Q.append(fe),fe.append(this.#t),this.#r.body.append(Q)}return this.#t}addFilter(Q){if(!Q)return"none";let ie=this.#h.get(Q);if(ie)return ie;let fe,W,se,oe;if(Q.length===1){const ne=Q[0],Z=new Array(256);for(let te=0;te<256;te++)Z[te]=ne[te]/255;oe=fe=W=se=Z.join(",")}else{const[ne,Z,te]=Q,E=new Array(256),T=new Array(256),S=new Array(256);for(let _=0;_<256;_++)E[_]=ne[_]/255,T[_]=Z[_]/255,S[_]=te[_]/255;fe=E.join(","),W=T.join(","),se=S.join(","),oe=`${fe}${W}${se}`}if(ie=this.#h.get(oe),ie)return this.#h.set(Q,ie),ie;const K=`g_${this.#n}_transfer_map_${this.#f++}`,B=`url(#${K})`;this.#h.set(Q,B),this.#h.set(oe,B);const X=this.#p(K);return this.#v(fe,W,se,X),B}addHCMFilter(Q,ie){const fe=`${Q}-${ie}`;if(this.#s===fe)return this.#o;if(this.#s=fe,this.#o="none",this.#i?.remove(),!Q||!ie)return this.#o;const W=this.#y(Q);Q=i.Util.makeHexColor(...W);const se=this.#y(ie);if(ie=i.Util.makeHexColor(...se),this.#d.style.color="",Q==="#000000"&&ie==="#ffffff"||Q===ie)return this.#o;const oe=new Array(256);for(let Z=0;Z<=255;Z++){const te=Z/255;oe[Z]=te<=.03928?te/12.92:((te+.055)/1.055)**2.4}const K=oe.join(","),B=`g_${this.#n}_hcm_filter`,X=this.#a=this.#p(B);this.#v(K,K,K,X),this.#l(X);const ne=(Z,te)=>{const E=W[Z]/255,T=se[Z]/255,S=new Array(te+1);for(let _=0;_<=te;_++)S[_]=E+_/te*(T-E);return S.join(",")};return this.#v(ne(0,5),ne(1,5),ne(2,5),X),this.#o=`url(#${B})`,this.#o}addHighlightHCMFilter(Q,ie,fe,W){const se=`${Q}-${ie}-${fe}-${W}`;if(this.#c===se)return this.#u;if(this.#c=se,this.#u="none",this.#a?.remove(),!Q||!ie)return this.#u;const[oe,K]=[Q,ie].map(this.#y.bind(this));let B=Math.round(.2126*oe[0]+.7152*oe[1]+.0722*oe[2]),X=Math.round(.2126*K[0]+.7152*K[1]+.0722*K[2]),[ne,Z]=[fe,W].map(this.#y.bind(this));X<B&&([B,X,ne,Z]=[X,B,Z,ne]),this.#d.style.color="";const te=(S,_,C)=>{const P=new Array(256),O=(X-B)/C,U=S/255,M=(_-S)/(255*C);let J=0;for(let pe=0;pe<=C;pe++){const de=Math.round(B+pe*O),he=U+pe*M;for(let xe=J;xe<=de;xe++)P[xe]=he;J=de+1}for(let pe=J;pe<256;pe++)P[pe]=P[J-1];return P.join(",")},E=`g_${this.#n}_hcm_highlight_filter`,T=this.#a=this.#p(E);return this.#l(T),this.#v(te(ne[0],Z[0],5),te(ne[1],Z[1],5),te(ne[2],Z[2],5),T),this.#u=`url(#${E})`,this.#u}destroy(Q=!1){Q&&(this.#o||this.#u)||(this.#t&&(this.#t.parentNode.parentNode.remove(),this.#t=null),this.#e&&(this.#e.clear(),this.#e=null),this.#f=0)}#l(Q){const ie=this.#r.createElementNS(s,"feColorMatrix");ie.setAttribute("type","matrix"),ie.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Q.append(ie)}#p(Q){const ie=this.#r.createElementNS(s,"filter");return ie.setAttribute("color-interpolation-filters","sRGB"),ie.setAttribute("id",Q),this.#d.append(ie),ie}#g(Q,ie,fe){const W=this.#r.createElementNS(s,ie);W.setAttribute("type","discrete"),W.setAttribute("tableValues",fe),Q.append(W)}#v(Q,ie,fe,W){const se=this.#r.createElementNS(s,"feComponentTransfer");W.append(se),this.#g(se,"feFuncR",Q),this.#g(se,"feFuncG",ie),this.#g(se,"feFuncB",fe)}#y(Q){return this.#d.style.color=Q,z(getComputedStyle(this.#d).getPropertyValue("color"))}}class l extends r.BaseCanvasFactory{constructor({ownerDocument:Q=globalThis.document}={}){super(),this._document=Q}_createCanvas(Q,ie){const fe=this._document.createElement("canvas");return fe.width=Q,fe.height=ie,fe}}async function c(Y,Q="text"){if(k(Y,document.baseURI)){const ie=await fetch(Y);if(!ie.ok)throw new Error(ie.statusText);switch(Q){case"arraybuffer":return ie.arrayBuffer();case"blob":return ie.blob();case"json":return ie.json()}return ie.text()}return new Promise((ie,fe)=>{const W=new XMLHttpRequest;W.open("GET",Y,!0),W.responseType=Q,W.onreadystatechange=()=>{if(W.readyState===XMLHttpRequest.DONE){if(W.status===200||W.status===0){let se;switch(Q){case"arraybuffer":case"blob":case"json":se=W.response;break;default:se=W.responseText;break}if(se){ie(se);return}}fe(new Error(W.statusText))}},W.send(null)})}class u extends r.BaseCMapReaderFactory{_fetchData(Q,ie){return c(Q,this.isCompressed?"arraybuffer":"text").then(fe=>({cMapData:fe instanceof ArrayBuffer?new Uint8Array(fe):(0,i.stringToBytes)(fe),compressionType:ie}))}}class f extends r.BaseStandardFontDataFactory{_fetchData(Q){return c(Q,"arraybuffer").then(ie=>new Uint8Array(ie))}}class g extends r.BaseSVGFactory{_createSVG(Q){return document.createElementNS(s,Q)}}class d{constructor({viewBox:Q,scale:ie,rotation:fe,offsetX:W=0,offsetY:se=0,dontFlip:oe=!1}){this.viewBox=Q,this.scale=ie,this.rotation=fe,this.offsetX=W,this.offsetY=se;const K=(Q[2]+Q[0])/2,B=(Q[3]+Q[1])/2;let X,ne,Z,te;switch(fe%=360,fe<0&&(fe+=360),fe){case 180:X=-1,ne=0,Z=0,te=1;break;case 90:X=0,ne=1,Z=1,te=0;break;case 270:X=0,ne=-1,Z=-1,te=0;break;case 0:X=1,ne=0,Z=0,te=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}oe&&(Z=-Z,te=-te);let E,T,S,_;X===0?(E=Math.abs(B-Q[1])*ie+W,T=Math.abs(K-Q[0])*ie+se,S=(Q[3]-Q[1])*ie,_=(Q[2]-Q[0])*ie):(E=Math.abs(K-Q[0])*ie+W,T=Math.abs(B-Q[1])*ie+se,S=(Q[2]-Q[0])*ie,_=(Q[3]-Q[1])*ie),this.transform=[X*ie,ne*ie,Z*ie,te*ie,E-X*ie*K-Z*ie*B,T-ne*ie*K-te*ie*B],this.width=S,this.height=_}get rawDims(){const{viewBox:Q}=this;return(0,i.shadow)(this,"rawDims",{pageWidth:Q[2]-Q[0],pageHeight:Q[3]-Q[1],pageX:Q[0],pageY:Q[1]})}clone({scale:Q=this.scale,rotation:ie=this.rotation,offsetX:fe=this.offsetX,offsetY:W=this.offsetY,dontFlip:se=!1}={}){return new d({viewBox:this.viewBox.slice(),scale:Q,rotation:ie,offsetX:fe,offsetY:W,dontFlip:se})}convertToViewportPoint(Q,ie){return i.Util.applyTransform([Q,ie],this.transform)}convertToViewportRectangle(Q){const ie=i.Util.applyTransform([Q[0],Q[1]],this.transform),fe=i.Util.applyTransform([Q[2],Q[3]],this.transform);return[ie[0],ie[1],fe[0],fe[1]]}convertToPdfPoint(Q,ie){return i.Util.applyInverseTransform([Q,ie],this.transform)}}class m extends i.BaseException{constructor(Q,ie=0){super(Q,"RenderingCancelledException"),this.extraDelay=ie}}function v(Y){const Q=Y.length;let ie=0;for(;ie<Q&&Y[ie].trim()==="";)ie++;return Y.substring(ie,ie+5).toLowerCase()==="data:"}function h(Y){return typeof Y=="string"&&/\.pdf$/i.test(Y)}function p(Y,Q=!1){return Q||([Y]=Y.split(/[#?]/,1)),Y.substring(Y.lastIndexOf("/")+1)}function y(Y,Q="document.pdf"){if(typeof Y!="string")return Q;if(v(Y))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Q;const ie=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,fe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,W=ie.exec(Y);let se=fe.exec(W[1])||fe.exec(W[2])||fe.exec(W[3]);if(se&&(se=se[0],se.includes("%")))try{se=fe.exec(decodeURIComponent(se))[0]}catch{}return se||Q}class b{started=Object.create(null);times=[];time(Q){Q in this.started&&(0,i.warn)(`Timer is already running for ${Q}`),this.started[Q]=Date.now()}timeEnd(Q){Q in this.started||(0,i.warn)(`Timer has not been started for ${Q}`),this.times.push({name:Q,start:this.started[Q],end:Date.now()}),delete this.started[Q]}toString(){const Q=[];let ie=0;for(const{name:fe}of this.times)ie=Math.max(fe.length,ie);for(const{name:fe,start:W,end:se}of this.times)Q.push(`${fe.padEnd(ie)} ${se-W}ms
`);return Q.join("")}}function k(Y,Q){try{const{protocol:ie}=Q?new URL(Y,Q):new URL(Y);return ie==="http:"||ie==="https:"}catch{return!1}}function L(Y){Y.preventDefault()}let j;class D{static toDateObject(Q){if(!Q||typeof Q!="string")return null;j||=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?");const ie=j.exec(Q);if(!ie)return null;const fe=parseInt(ie[1],10);let W=parseInt(ie[2],10);W=W>=1&&W<=12?W-1:0;let se=parseInt(ie[3],10);se=se>=1&&se<=31?se:1;let oe=parseInt(ie[4],10);oe=oe>=0&&oe<=23?oe:0;let K=parseInt(ie[5],10);K=K>=0&&K<=59?K:0;let B=parseInt(ie[6],10);B=B>=0&&B<=59?B:0;const X=ie[7]||"Z";let ne=parseInt(ie[8],10);ne=ne>=0&&ne<=23?ne:0;let Z=parseInt(ie[9],10)||0;return Z=Z>=0&&Z<=59?Z:0,X==="-"?(oe+=ne,K+=Z):X==="+"&&(oe-=ne,K-=Z),new Date(Date.UTC(fe,W,se,oe,K,B))}}function q(Y,{scale:Q=1,rotation:ie=0}){const{width:fe,height:W}=Y.attributes.style,se=[0,0,parseInt(fe),parseInt(W)];return new d({viewBox:se,scale:Q,rotation:ie})}function z(Y){if(Y.startsWith("#")){const Q=parseInt(Y.slice(1),16);return[(Q&16711680)>>16,(Q&65280)>>8,Q&255]}return Y.startsWith("rgb(")?Y.slice(4,-1).split(",").map(Q=>parseInt(Q)):Y.startsWith("rgba(")?Y.slice(5,-1).split(",").map(Q=>parseInt(Q)).slice(0,3):((0,i.warn)(`Not a valid color format: "${Y}"`),[0,0,0])}function ee(Y){const Q=document.createElement("span");Q.style.visibility="hidden",document.body.append(Q);for(const ie of Y.keys()){Q.style.color=ie;const fe=window.getComputedStyle(Q).color;Y.set(ie,z(fe))}Q.remove()}function $(Y){const{a:Q,b:ie,c:fe,d:W,e:se,f:oe}=Y.getTransform();return[Q,ie,fe,W,se,oe]}function H(Y){const{a:Q,b:ie,c:fe,d:W,e:se,f:oe}=Y.getTransform().invertSelf();return[Q,ie,fe,W,se,oe]}function ae(Y,Q,ie=!1,fe=!0){if(Q instanceof d){const{pageWidth:W,pageHeight:se}=Q.rawDims,{style:oe}=Y,K=i.FeatureTest.isCSSRoundSupported,B=`var(--scale-factor) * ${W}px`,X=`var(--scale-factor) * ${se}px`,ne=K?`round(${B}, 1px)`:`calc(${B})`,Z=K?`round(${X}, 1px)`:`calc(${X})`;!ie||Q.rotation%180===0?(oe.width=ne,oe.height=Z):(oe.width=Z,oe.height=ne)}fe&&Y.setAttribute("data-main-rotation",Q.rotation)}},423:(e,t,n)=>{n.d(t,{DrawLayer:()=>s});var r=n(473),i=n(266);class s{#e=null;#t=0;#n=new Map;constructor({pageIndex:o}){this.pageIndex=o}setParent(o){if(!this.#e){this.#e=o;return}if(this.#e!==o){if(this.#n.size>0)for(const l of this.#n.values())l.remove(),o.append(l);this.#e=o}}static get _svgFactory(){return(0,i.shadow)(this,"_svgFactory",new r.DOMSVGFactory)}static#r(o,{x:l,y:c,width:u,height:f}){const{style:g}=o;g.top=`${100*c}%`,g.left=`${100*l}%`,g.width=`${100*u}%`,g.height=`${100*f}%`}#i(o){const l=s._svgFactory.create(1,1,!0);return this.#e.append(l),s.#r(l,o),l}highlight({outlines:o,box:l},c,u){const f=this.#t++,g=this.#i(l);g.classList.add("highlight");const d=s._svgFactory.createElement("defs");g.append(d);const m=s._svgFactory.createElement("path");d.append(m);const v=`path_p${this.pageIndex}_${f}`;m.setAttribute("id",v),m.setAttribute("d",s.#s(o));const h=s._svgFactory.createElement("clipPath");d.append(h);const p=`clip_${v}`;h.setAttribute("id",p),h.setAttribute("clipPathUnits","objectBoundingBox");const y=s._svgFactory.createElement("use");h.append(y),y.setAttribute("href",`#${v}`),y.classList.add("clip");const b=s._svgFactory.createElement("use");return g.append(b),g.setAttribute("fill",c),g.setAttribute("fill-opacity",u),b.setAttribute("href",`#${v}`),this.#n.set(f,g),{id:f,clipPathId:`url(#${p})`}}highlightOutline({outlines:o,box:l}){const c=this.#t++,u=this.#i(l);u.classList.add("highlightOutline");const f=s._svgFactory.createElement("defs");u.append(f);const g=s._svgFactory.createElement("path");f.append(g);const d=`path_p${this.pageIndex}_${c}`;g.setAttribute("id",d),g.setAttribute("d",s.#s(o)),g.setAttribute("vector-effect","non-scaling-stroke");const m=s._svgFactory.createElement("use");u.append(m),m.setAttribute("href",`#${d}`);const v=m.cloneNode();return u.append(v),m.classList.add("mainOutline"),v.classList.add("secondaryOutline"),this.#n.set(c,u),c}static#s(o){const l=[];for(const c of o){let[u,f]=c;l.push(`M${u} ${f}`);for(let g=2;g<c.length;g+=2){const d=c[g],m=c[g+1];d===u?(l.push(`V${m}`),f=m):m===f&&(l.push(`H${d}`),u=d)}l.push("Z")}return l.join(" ")}updateBox(o,l){s.#r(this.#n.get(o),l)}rotate(o,l){this.#n.get(o).setAttribute("data-main-rotation",l)}changeColor(o,l){this.#n.get(o).setAttribute("fill",l)}changeOpacity(o,l){this.#n.get(o).setAttribute("fill-opacity",l)}addClass(o,l){this.#n.get(o).classList.add(l)}removeClass(o,l){this.#n.get(o).classList.remove(l)}remove(o){this.#e!==null&&(this.#n.get(o).remove(),this.#n.delete(o))}destroy(){this.#e=null;for(const o of this.#n.values())o.remove();this.#n.clear()}}},629:(e,t,n)=>{n.d(t,{AnnotationEditorLayer:()=>m});var r=n(266),i=n(115),s=n(812),a=n(640);class o extends i.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#n=this.editorDivInput.bind(this);#r=this.editorDivKeydown.bind(this);#i;#s="";#o=`${this.id}-editor`;#a;#c=null;static _freeTextDefaultContent="";static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static get _keyboardManager(){const h=o.prototype,p=k=>k.isEmpty(),y=s.AnnotationEditorUIManager.TRANSLATE_SMALL,b=s.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new s.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],h.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],h.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],h._translateEmpty,{args:[-y,0],checker:p}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],h._translateEmpty,{args:[-b,0],checker:p}],[["ArrowRight","mac+ArrowRight"],h._translateEmpty,{args:[y,0],checker:p}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],h._translateEmpty,{args:[b,0],checker:p}],[["ArrowUp","mac+ArrowUp"],h._translateEmpty,{args:[0,-y],checker:p}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],h._translateEmpty,{args:[0,-b],checker:p}],[["ArrowDown","mac+ArrowDown"],h._translateEmpty,{args:[0,y],checker:p}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],h._translateEmpty,{args:[0,b],checker:p}]]))}static _type="freetext";static _editorType=r.AnnotationEditorType.FREETEXT;constructor(h){super({...h,name:"freeTextEditor"}),this.#i=h.color||o._defaultColor||i.AnnotationEditor._defaultLineColor,this.#a=h.fontSize||o._defaultFontSize}static initialize(h){i.AnnotationEditor.initialize(h,{strings:["pdfjs-free-text-default-content"]});const p=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(p.getPropertyValue("--freetext-padding"))}static updateDefaultParams(h,p){switch(h){case r.AnnotationEditorParamsType.FREETEXT_SIZE:o._defaultFontSize=p;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:o._defaultColor=p;break}}updateParams(h,p){switch(h){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#u(p);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#f(p);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,o._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,o._defaultColor||i.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#a],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#i]]}#u(h){const p=b=>{this.editorDiv.style.fontSize=`calc(${b}px * var(--scale-factor))`,this.translate(0,-(b-this.#a)*this.parentScale),this.#a=b,this.#d()},y=this.#a;this.addCommands({cmd:()=>{p(h)},undo:()=>{p(y)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#f(h){const p=this.#i;this.addCommands({cmd:()=>{this.#i=this.editorDiv.style.color=h},undo:()=>{this.#i=this.editorDiv.style.color=p},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}_translateEmpty(h,p){this._uiManager.translateSelectedEditors(h,p,!0)}getInitialTranslation(){const h=this.parentScale;return[-o._internalPadding*h,-(o._internalPadding+this.#a)*h]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e),this.editorDiv.addEventListener("input",this.#n))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",this.#o),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.editorDiv.removeEventListener("input",this.#n),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(h){this._focusEventsAllowed&&(super.focusin(h),h.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){if(this.width){this.#g();return}this.enableEditMode(),this.editorDiv.focus(),this._initialOptions?.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}#h(){const h=this.editorDiv.getElementsByTagName("div");if(h.length===0)return this.editorDiv.innerText;const p=[];for(const y of h)p.push(y.innerText.replace(/\r\n?|\n/,""));return p.join(`
`)}#d(){const[h,p]=this.parentDimensions;let y;if(this.isAttachedToDOM)y=this.div.getBoundingClientRect();else{const{currentLayer:b,div:k}=this,L=k.style.display;k.style.display="hidden",b.div.append(this.div),y=k.getBoundingClientRect(),k.remove(),k.style.display=L}this.rotation%180===this.parentRotation%180?(this.width=y.width/h,this.height=y.height/p):(this.width=y.height/h,this.height=y.width/p),this.fixAndSetPosition()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const h=this.#s,p=this.#s=this.#h().trimEnd();if(h===p)return;const y=b=>{if(this.#s=b,!b){this.remove();return}this.#l(),this._uiManager.rebuild(this),this.#d()};this.addCommands({cmd:()=>{y(p)},undo:()=>{y(h)},mustExec:!1}),this.#d()}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(h){this.enterInEditMode()}keydown(h){h.target===this.div&&h.key==="Enter"&&(this.enterInEditMode(),h.preventDefault())}editorDivKeydown(h){o._keyboardManager.exec(this,h)}editorDivFocus(h){this.isEditing=!0}editorDivBlur(h){this.isEditing=!1}editorDivInput(h){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let h,p;this.width&&(h=this.x,p=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",this.#o),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),i.AnnotationEditor._l10nPromise.get("pdfjs-free-text-default-content").then(b=>this.editorDiv?.setAttribute("default-content",b)),this.editorDiv.contentEditable=!0;const{style:y}=this.editorDiv;if(y.fontSize=`calc(${this.#a}px * var(--scale-factor))`,y.color=this.#i,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,s.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[b,k]=this.parentDimensions;if(this.annotationElementId){const{position:L}=this.#c;let[j,D]=this.getInitialTranslation();[j,D]=this.pageTranslationToScreen(j,D);const[q,z]=this.pageDimensions,[ee,$]=this.pageTranslation;let H,ae;switch(this.rotation){case 0:H=h+(L[0]-ee)/q,ae=p+this.height-(L[1]-$)/z;break;case 90:H=h+(L[0]-ee)/q,ae=p-(L[1]-$)/z,[j,D]=[D,-j];break;case 180:H=h-this.width+(L[0]-ee)/q,ae=p-(L[1]-$)/z,[j,D]=[-j,-D];break;case 270:H=h+(L[0]-ee-this.height*z)/q,ae=p+(L[1]-$-this.width*q)/z,[j,D]=[-D,j];break}this.setAt(H*b,ae*k,j,D)}else this.setAt(h*b,p*k,this.width*b,this.height*k);this.#l(),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}#l(){if(this.editorDiv.replaceChildren(),!!this.#s)for(const h of this.#s.split(`
`)){const p=document.createElement("div");p.append(h?document.createTextNode(h):document.createElement("br")),this.editorDiv.append(p)}}get contentDiv(){return this.editorDiv}static deserialize(h,p,y){let b=null;if(h instanceof a.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:L,fontColor:j},rect:D,rotation:q,id:z},textContent:ee,textPosition:$,parent:{page:{pageNumber:H}}}=h;if(!ee||ee.length===0)return null;b=h={annotationType:r.AnnotationEditorType.FREETEXT,color:Array.from(j),fontSize:L,value:ee.join(`
`),position:$,pageIndex:H-1,rect:D,rotation:q,id:z,deleted:!1}}const k=super.deserialize(h,p,y);return k.#a=h.fontSize,k.#i=r.Util.makeHexColor(...h.color),k.#s=h.value,k.annotationElementId=h.id||null,k.#c=b,k}serialize(h=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const p=o._internalPadding*this.parentScale,y=this.getRect(p,p),b=i.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.#i),k={annotationType:r.AnnotationEditorType.FREETEXT,color:b,fontSize:this.#a,value:this.#s,pageIndex:this.pageIndex,rect:y,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return h?k:this.annotationElementId&&!this.#p(k)?null:(k.id=this.annotationElementId,k)}#p(h){const{value:p,fontSize:y,color:b,rect:k,pageIndex:L}=this.#c;return h.value!==p||h.fontSize!==y||h.rect.some((j,D)=>Math.abs(j-k[D])>=1)||h.color.some((j,D)=>j!==b[D])||h.pageIndex!==L}#g(h=!1){if(!this.annotationElementId)return;if(this.#d(),!h&&(this.width===0||this.height===0)){setTimeout(()=>this.#g(!0),0);return}const p=o._internalPadding*this.parentScale;this.#c.rect=this.getRect(p,p)}}var l=n(97),c=n(405);class u extends i.AnnotationEditor{#e;#t=null;#n=null;#r=null;#i=null;#s=null;#o=null;#a=null;#c;#u=null;static _defaultColor=null;static _defaultOpacity=1;static _l10nPromise;static _type="highlight";static _editorType=r.AnnotationEditorType.HIGHLIGHT;constructor(h){super({...h,name:"highlightEditor"}),u._defaultColor||=this._uiManager.highlightColors?.values().next().value||"#fff066",this.color=h.color||u._defaultColor,this.#c=h.opacity||u._defaultOpacity,this.#e=h.boxes||null,this._isDraggable=!1,this.#f(),this.#l(),this.rotate(this.rotation)}#f(){const h=new c.Outliner(this.#e,.001);this.#s=h.getOutlines(),{x:this.x,y:this.y,width:this.width,height:this.height}=this.#s.box;const p=new c.Outliner(this.#e,.0025,.001,this._uiManager.direction==="ltr");this.#r=p.getOutlines();const{lastPoint:y}=this.#r.box;this.#a=[(y[0]-this.x)/this.width,(y[1]-this.y)/this.height]}static initialize(h){i.AnnotationEditor.initialize(h)}static updateDefaultParams(h,p){switch(h){case r.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:u._defaultColor=p;break}}get toolbarPosition(){return this.#a}updateParams(h,p){switch(h){case r.AnnotationEditorParamsType.HIGHLIGHT_COLOR:this.#h(p);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR,u._defaultColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||u._defaultColor]]}#h(h){const p=this.color;this.addCommands({cmd:()=>{this.color=h,this.parent.drawLayer.changeColor(this.#o,h),this.#n?.updateColor(h)},undo:()=>{this.color=p,this.parent.drawLayer.changeColor(this.#o,p),this.#n?.updateColor(p)},mustExec:!0,type:r.AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}async addEditToolbar(){const h=await super.addEditToolbar();return h?(this._uiManager.highlightColors&&(this.#n=new l.ColorPicker({editor:this}),h.addColorPicker(this.#n)),h):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(0)}getRect(h,p){return super.getRect(h,p,0)}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){super.remove(),this.#d()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.#l(),this.isAttachedToDOM||this.parent.add(this)))}setParent(h){let p=!1;this.parent&&!h?this.#d():h&&(this.#l(h),p=!this.parent&&this.div?.classList.contains("selectedEditor")),super.setParent(h),p&&this.select()}#d(){this.#o===null||!this.parent||(this.parent.drawLayer.remove(this.#o),this.#o=null,this.parent.drawLayer.remove(this.#u),this.#u=null)}#l(h=this.parent){this.#o===null&&({id:this.#o,clipPathId:this.#t}=h.drawLayer.highlight(this.#s,this.color,this.#c),this.#i&&(this.#i.style.clipPath=this.#t),this.#u=h.drawLayer.highlightOutline(this.#r))}static#p({x:h,y:p,width:y,height:b},k){switch(k){case 90:return{x:1-p-b,y:h,width:b,height:y};case 180:return{x:1-h-y,y:1-p-b,width:y,height:b};case 270:return{x:p,y:1-h-y,width:b,height:y}}return{x:h,y:p,width:y,height:b}}rotate(h){const{drawLayer:p}=this.parent;p.rotate(this.#o,h),p.rotate(this.#u,h),p.updateBox(this.#o,u.#p(this,h)),p.updateBox(this.#u,u.#p(this.#r.box,h))}render(){if(this.div)return this.div;const h=super.render(),p=this.#i=document.createElement("div");h.append(p),p.className="internal",p.style.clipPath=this.#t;const[y,b]=this.parentDimensions;return this.setDims(this.width*y,this.height*b),(0,s.bindEvents)(this,this.#i,["pointerover","pointerleave"]),this.enableEditing(),h}pointerover(){this.parent.drawLayer.addClass(this.#u,"hovered")}pointerleave(){this.parent.drawLayer.removeClass(this.#u,"hovered")}select(){super.select(),this.parent?.drawLayer.removeClass(this.#u,"hovered"),this.parent?.drawLayer.addClass(this.#u,"selected")}unselect(){super.unselect(),this.parent?.drawLayer.removeClass(this.#u,"selected")}#g(){const[h,p]=this.pageDimensions,y=this.#e,b=new Array(y.length*8);let k=0;for(const{x:L,y:j,width:D,height:q}of y){const z=L*h,ee=(1-j-q)*p;b[k]=b[k+4]=z,b[k+1]=b[k+3]=ee,b[k+2]=b[k+6]=z+D*h,b[k+5]=b[k+7]=ee+q*p,k+=8}return b}#v(){const[h,p]=this.pageDimensions,y=this.width*h,b=this.height*p,k=this.x*h,L=(1-this.y-this.height)*p,j=[];for(const D of this.#s.outlines){const q=new Array(D.length);for(let z=0;z<D.length;z+=2)q[z]=k+D[z]*y,q[z+1]=L+(1-D[z+1])*b;j.push(q)}return j}static deserialize(h,p,y){const b=super.deserialize(h,p,y),{rect:k,color:L,quadPoints:j}=h;b.color=r.Util.makeHexColor(...L),b.#c=h.opacity;const[D,q]=b.pageDimensions;b.width=(k[2]-k[0])/D,b.height=(k[3]-k[1])/q;const z=b.#e=[];for(let ee=0;ee<j.length;ee+=8)z.push({x:j[4]/D,y:1-j[ee+5]/q,width:(j[ee+2]-j[ee])/D,height:(j[ee+5]-j[ee+1])/q});return b.#f(),b}serialize(h=!1){if(this.isEmpty()||h)return null;const p=this.getRect(0,0),y=i.AnnotationEditor._colorManager.convert(this.color);return{annotationType:r.AnnotationEditorType.HIGHLIGHT,color:y,opacity:this.#c,quadPoints:this.#g(),outlines:this.#v(),pageIndex:this.pageIndex,rect:p,rotation:0,structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}}var f=n(473);class g extends i.AnnotationEditor{#e=0;#t=0;#n=this.canvasPointermove.bind(this);#r=this.canvasPointerleave.bind(this);#i=this.canvasPointerup.bind(this);#s=this.canvasPointerdown.bind(this);#o=null;#a=new Path2D;#c=!1;#u=!1;#f=!1;#h=null;#d=0;#l=0;#p=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _type="ink";static _editorType=r.AnnotationEditorType.INK;constructor(h){super({...h,name:"inkEditor"}),this.color=h.color||null,this.thickness=h.thickness||null,this.opacity=h.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(h){i.AnnotationEditor.initialize(h)}static updateDefaultParams(h,p){switch(h){case r.AnnotationEditorParamsType.INK_THICKNESS:g._defaultThickness=p;break;case r.AnnotationEditorParamsType.INK_COLOR:g._defaultColor=p;break;case r.AnnotationEditorParamsType.INK_OPACITY:g._defaultOpacity=p/100;break}}updateParams(h,p){switch(h){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#g(p);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#v(p);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#y(p);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,g._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,g._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(g._defaultOpacity*100)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||g._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||g._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??g._defaultOpacity))]]}#g(h){const p=this.thickness;this.addCommands({cmd:()=>{this.thickness=h,this.#T()},undo:()=>{this.thickness=p,this.#T()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#v(h){const p=this.color;this.addCommands({cmd:()=>{this.color=h,this.#x()},undo:()=>{this.color=p,this.#x()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#y(h){h/=100;const p=this.opacity;this.addCommands({cmd:()=>{this.opacity=h,this.#x()},undo:()=>{this.opacity=p,this.#x()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(this.#k(),this.#_()),this.isAttachedToDOM||(this.parent.add(this),this.#P()),this.#T()))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#o&&(clearTimeout(this.#o),this.#o=null),this.#h.disconnect(),this.#h=null,super.remove())}setParent(h){!this.parent&&h?this._uiManager.removeShouldRescale(this):this.parent&&h===null&&this._uiManager.addShouldRescale(this),super.setParent(h)}onScaleChanging(){const[h,p]=this.parentDimensions,y=this.width*h,b=this.height*p;this.setDimensions(y,b)}enableEditMode(){this.#c||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",this.#s))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#s))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#b(){const{parentRotation:h,parentDimensions:[p,y]}=this;switch(h){case 90:return[0,y,y,p];case 180:return[p,y,p,y];case 270:return[p,0,y,p];default:return[0,0,p,y]}}#w(){const{ctx:h,color:p,opacity:y,thickness:b,parentScale:k,scaleFactor:L}=this;h.lineWidth=b*k/L,h.lineCap="round",h.lineJoin="round",h.miterLimit=10,h.strokeStyle=`${p}${(0,s.opacityToHex)(y)}`}#m(h,p){this.canvas.addEventListener("contextmenu",f.noContextMenu),this.canvas.addEventListener("pointerleave",this.#r),this.canvas.addEventListener("pointermove",this.#n),this.canvas.addEventListener("pointerup",this.#i),this.canvas.removeEventListener("pointerdown",this.#s),this.isEditing=!0,this.#f||(this.#f=!0,this.#P(),this.thickness||=g._defaultThickness,this.color||=g._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=g._defaultOpacity),this.currentPath.push([h,p]),this.#u=!1,this.#w(),this.#p=()=>{this.#I(),this.#p&&window.requestAnimationFrame(this.#p)},window.requestAnimationFrame(this.#p)}#A(h,p){const[y,b]=this.currentPath.at(-1);if(this.currentPath.length>1&&h===y&&p===b)return;const k=this.currentPath;let L=this.#a;if(k.push([h,p]),this.#u=!0,k.length<=2){L.moveTo(...k[0]),L.lineTo(h,p);return}k.length===3&&(this.#a=L=new Path2D,L.moveTo(...k[0])),this.#O(L,...k.at(-3),...k.at(-2),h,p)}#R(){if(this.currentPath.length===0)return;const h=this.currentPath.at(-1);this.#a.lineTo(...h)}#L(h,p){this.#p=null,h=Math.min(Math.max(h,0),this.canvas.width),p=Math.min(Math.max(p,0),this.canvas.height),this.#A(h,p),this.#R();let y;if(this.currentPath.length!==1)y=this.#j();else{const D=[h,p];y=[[D,D.slice(),D.slice(),D]]}const b=this.#a,k=this.currentPath;this.currentPath=[],this.#a=new Path2D;const L=()=>{this.allRawPaths.push(k),this.paths.push(y),this.bezierPath2D.push(b),this.rebuild()},j=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#k(),this.#_()),this.#T())};this.addCommands({cmd:L,undo:j,mustExec:!0})}#I(){if(!this.#u)return;this.#u=!1;const h=Math.ceil(this.thickness*this.parentScale),p=this.currentPath.slice(-3),y=p.map(L=>L[0]),b=p.map(L=>L[1]);Math.min(...y)-h,Math.max(...y)+h,Math.min(...b)-h,Math.max(...b)+h;const{ctx:k}=this;k.save(),k.clearRect(0,0,this.canvas.width,this.canvas.height);for(const L of this.bezierPath2D)k.stroke(L);k.stroke(this.#a),k.restore()}#O(h,p,y,b,k,L,j){const D=(p+b)/2,q=(y+k)/2,z=(b+L)/2,ee=(k+j)/2;h.bezierCurveTo(D+2*(b-D)/3,q+2*(k-q)/3,z+2*(b-z)/3,ee+2*(k-ee)/3,z,ee)}#j(){const h=this.currentPath;if(h.length<=2)return[[h[0],h[0],h.at(-1),h.at(-1)]];const p=[];let y,[b,k]=h[0];for(y=1;y<h.length-2;y++){const[$,H]=h[y],[ae,Y]=h[y+1],Q=($+ae)/2,ie=(H+Y)/2,fe=[b+2*($-b)/3,k+2*(H-k)/3],W=[Q+2*($-Q)/3,ie+2*(H-ie)/3];p.push([[b,k],fe,W,[Q,ie]]),[b,k]=[Q,ie]}const[L,j]=h[y],[D,q]=h[y+1],z=[b+2*(L-b)/3,k+2*(j-k)/3],ee=[D+2*(L-D)/3,q+2*(j-q)/3];return p.push([[b,k],z,ee,[D,q]]),p}#x(){if(this.isEmpty()){this.#C();return}this.#w();const{canvas:h,ctx:p}=this;p.setTransform(1,0,0,1,0,0),p.clearRect(0,0,h.width,h.height),this.#C();for(const y of this.bezierPath2D)p.stroke(y)}commit(){this.#c||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#c=!0,this.div.classList.add("disabled"),this.#T(!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(h){this._focusEventsAllowed&&(super.focusin(h),this.enableEditMode())}canvasPointerdown(h){h.button!==0||!this.isInEditMode()||this.#c||(this.setInForeground(),h.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),this.#m(h.offsetX,h.offsetY))}canvasPointermove(h){h.preventDefault(),this.#A(h.offsetX,h.offsetY)}canvasPointerup(h){h.preventDefault(),this.#M(h)}canvasPointerleave(h){this.#M(h)}#M(h){this.canvas.removeEventListener("pointerleave",this.#r),this.canvas.removeEventListener("pointermove",this.#n),this.canvas.removeEventListener("pointerup",this.#i),this.canvas.addEventListener("pointerdown",this.#s),this.#o&&clearTimeout(this.#o),this.#o=setTimeout(()=>{this.#o=null,this.canvas.removeEventListener("contextmenu",f.noContextMenu)},10),this.#L(h.offsetX,h.offsetY),this.addToAnnotationStorage(),this.setInBackground()}#k(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#_(){this.#h=new ResizeObserver(h=>{const p=h[0].contentRect;p.width&&p.height&&this.setDimensions(p.width,p.height)}),this.#h.observe(this.div)}get isResizable(){return!this.isEmpty()&&this.#c}render(){if(this.div)return this.div;let h,p;this.width&&(h=this.x,p=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[y,b,k,L]=this.#b();if(this.setAt(y,b,0,0),this.setDims(k,L),this.#k(),this.width){const[j,D]=this.parentDimensions;this.setAspectRatio(this.width*j,this.height*D),this.setAt(h*j,p*D,this.width*j,this.height*D),this.#f=!0,this.#P(),this.setDims(this.width*j,this.height*D),this.#x(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#_(),this.div}#P(){if(!this.#f)return;const[h,p]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*h),this.canvas.height=Math.ceil(this.height*p),this.#C()}setDimensions(h,p){const y=Math.round(h),b=Math.round(p);if(this.#d===y&&this.#l===b)return;this.#d=y,this.#l=b,this.canvas.style.visibility="hidden";const[k,L]=this.parentDimensions;this.width=h/k,this.height=p/L,this.fixAndSetPosition(),this.#c&&this.#F(h,p),this.#P(),this.#x(),this.canvas.style.visibility="visible",this.fixDims()}#F(h,p){const y=this.#D(),b=(h-y)/this.#t,k=(p-y)/this.#e;this.scaleFactor=Math.min(b,k)}#C(){const h=this.#D()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+h,this.translationY*this.scaleFactor+h)}static#E(h){const p=new Path2D;for(let y=0,b=h.length;y<b;y++){const[k,L,j,D]=h[y];y===0&&p.moveTo(...k),p.bezierCurveTo(L[0],L[1],j[0],j[1],D[0],D[1])}return p}static#N(h,p,y){const[b,k,L,j]=p;switch(y){case 0:for(let D=0,q=h.length;D<q;D+=2)h[D]+=b,h[D+1]=j-h[D+1];break;case 90:for(let D=0,q=h.length;D<q;D+=2){const z=h[D];h[D]=h[D+1]+b,h[D+1]=z+k}break;case 180:for(let D=0,q=h.length;D<q;D+=2)h[D]=L-h[D],h[D+1]+=k;break;case 270:for(let D=0,q=h.length;D<q;D+=2){const z=h[D];h[D]=L-h[D+1],h[D+1]=j-z}break;default:throw new Error("Invalid rotation")}return h}static#U(h,p,y){const[b,k,L,j]=p;switch(y){case 0:for(let D=0,q=h.length;D<q;D+=2)h[D]-=b,h[D+1]=j-h[D+1];break;case 90:for(let D=0,q=h.length;D<q;D+=2){const z=h[D];h[D]=h[D+1]-k,h[D+1]=z-b}break;case 180:for(let D=0,q=h.length;D<q;D+=2)h[D]=L-h[D],h[D+1]-=k;break;case 270:for(let D=0,q=h.length;D<q;D+=2){const z=h[D];h[D]=j-h[D+1],h[D+1]=L-z}break;default:throw new Error("Invalid rotation")}return h}#q(h,p,y,b){const k=[],L=this.thickness/2,j=h*p+L,D=h*y+L;for(const q of this.paths){const z=[],ee=[];for(let $=0,H=q.length;$<H;$++){const[ae,Y,Q,ie]=q[$],fe=h*ae[0]+j,W=h*ae[1]+D,se=h*Y[0]+j,oe=h*Y[1]+D,K=h*Q[0]+j,B=h*Q[1]+D,X=h*ie[0]+j,ne=h*ie[1]+D;$===0&&(z.push(fe,W),ee.push(fe,W)),z.push(se,oe,K,B,X,ne),ee.push(se,oe),$===H-1&&ee.push(X,ne)}k.push({bezier:g.#N(z,b,this.rotation),points:g.#N(ee,b,this.rotation)})}return k}#B(){let h=1/0,p=-1/0,y=1/0,b=-1/0;for(const k of this.paths)for(const[L,j,D,q]of k){const z=r.Util.bezierBoundingBox(...L,...j,...D,...q);h=Math.min(h,z[0]),y=Math.min(y,z[1]),p=Math.max(p,z[2]),b=Math.max(b,z[3])}return[h,y,p,b]}#D(){return this.#c?Math.ceil(this.thickness*this.parentScale):0}#T(h=!1){if(this.isEmpty())return;if(!this.#c){this.#x();return}const p=this.#B(),y=this.#D();this.#t=Math.max(i.AnnotationEditor.MIN_SIZE,p[2]-p[0]),this.#e=Math.max(i.AnnotationEditor.MIN_SIZE,p[3]-p[1]);const b=Math.ceil(y+this.#t*this.scaleFactor),k=Math.ceil(y+this.#e*this.scaleFactor),[L,j]=this.parentDimensions;this.width=b/L,this.height=k/j,this.setAspectRatio(b,k);const D=this.translationX,q=this.translationY;this.translationX=-p[0],this.translationY=-p[1],this.#P(),this.#x(),this.#d=b,this.#l=k,this.setDims(b,k);const z=h?y/this.scaleFactor/2:0;this.translate(D-this.translationX-z,q-this.translationY-z)}static deserialize(h,p,y){if(h instanceof a.InkAnnotationElement)return null;const b=super.deserialize(h,p,y);b.thickness=h.thickness,b.color=r.Util.makeHexColor(...h.color),b.opacity=h.opacity;const[k,L]=b.pageDimensions,j=b.width*k,D=b.height*L,q=b.parentScale,z=h.thickness/2;b.#c=!0,b.#d=Math.round(j),b.#l=Math.round(D);const{paths:ee,rect:$,rotation:H}=h;for(let{bezier:Y}of ee){Y=g.#U(Y,$,H);const Q=[];b.paths.push(Q);let ie=q*(Y[0]-z),fe=q*(Y[1]-z);for(let se=2,oe=Y.length;se<oe;se+=6){const K=q*(Y[se]-z),B=q*(Y[se+1]-z),X=q*(Y[se+2]-z),ne=q*(Y[se+3]-z),Z=q*(Y[se+4]-z),te=q*(Y[se+5]-z);Q.push([[ie,fe],[K,B],[X,ne],[Z,te]]),ie=Z,fe=te}const W=this.#E(Q);b.bezierPath2D.push(W)}const ae=b.#B();return b.#t=Math.max(i.AnnotationEditor.MIN_SIZE,ae[2]-ae[0]),b.#e=Math.max(i.AnnotationEditor.MIN_SIZE,ae[3]-ae[1]),b.#F(j,D),b}serialize(){if(this.isEmpty())return null;const h=this.getRect(0,0),p=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:p,thickness:this.thickness,opacity:this.opacity,paths:this.#q(this.scaleFactor/this.parentScale,this.translationX,this.translationY,h),pageIndex:this.pageIndex,rect:h,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}class d extends i.AnnotationEditor{#e=null;#t=null;#n=null;#r=null;#i=null;#s="";#o=null;#a=null;#c=null;#u=!1;#f=!1;static _type="stamp";static _editorType=r.AnnotationEditorType.STAMP;constructor(h){super({...h,name:"stampEditor"}),this.#r=h.bitmapUrl,this.#i=h.bitmapFile}static initialize(h){i.AnnotationEditor.initialize(h)}static get supportedTypes(){const h=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,r.shadow)(this,"supportedTypes",h.map(p=>`image/${p}`))}static get supportedTypesStr(){return(0,r.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(h){return this.supportedTypes.includes(h)}static paste(h,p){p.pasteEditor(r.AnnotationEditorType.STAMP,{bitmapFile:h.getAsFile()})}#h(h,p=!1){if(!h){this.remove();return}this.#e=h.bitmap,p||(this.#t=h.id,this.#u=h.isSvg),h.file&&(this.#s=h.file.name),this.#p()}#d(){this.#n=null,this._uiManager.enableWaiting(!1),this.#o&&this.div.focus()}#l(){if(this.#t){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(this.#t).then(p=>this.#h(p,!0)).finally(()=>this.#d());return}if(this.#r){const p=this.#r;this.#r=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromUrl(p).then(y=>this.#h(y)).finally(()=>this.#d());return}if(this.#i){const p=this.#i;this.#i=null,this._uiManager.enableWaiting(!0),this.#n=this._uiManager.imageManager.getFromFile(p).then(y=>this.#h(y)).finally(()=>this.#d());return}const h=document.createElement("input");h.type="file",h.accept=d.supportedTypesStr,this.#n=new Promise(p=>{h.addEventListener("change",async()=>{if(!h.files||h.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const y=await this._uiManager.imageManager.getFromFile(h.files[0]);this.#h(y)}p()}),h.addEventListener("cancel",()=>{this.remove(),p()})}).finally(()=>this.#d()),h.click()}remove(){this.#t&&(this.#e=null,this._uiManager.imageManager.deleteId(this.#t),this.#o?.remove(),this.#o=null,this.#a?.disconnect(),this.#a=null,this.#c&&(clearTimeout(this.#c),this.#c=null)),super.remove()}rebuild(){if(!this.parent){this.#t&&this.#l();return}super.rebuild(),this.div!==null&&(this.#t&&this.#l(),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(this.#n||this.#e||this.#r||this.#i)}get isResizable(){return!0}render(){if(this.div)return this.div;let h,p;if(this.width&&(h=this.x,p=this.y),super.render(),this.div.hidden=!0,this.#e?this.#p():this.#l(),this.width){const[y,b]=this.parentDimensions;this.setAt(h*y,p*b,this.width*y,this.height*b)}return this.div}#p(){const{div:h}=this;let{width:p,height:y}=this.#e;const[b,k]=this.pageDimensions,L=.75;if(this.width)p=this.width*b,y=this.height*k;else if(p>L*b||y>L*k){const z=Math.min(L*b/p,L*k/y);p*=z,y*=z}const[j,D]=this.parentDimensions;this.setDims(p*j/b,y*D/k),this._uiManager.enableWaiting(!1);const q=this.#o=document.createElement("canvas");h.append(q),h.hidden=!1,this.#y(p,y),this.#w(),this.#f||(this.parent.addUndoableEditor(this),this.#f=!0),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton(),this.#s&&q.setAttribute("aria-label",this.#s)}#g(h,p){const[y,b]=this.parentDimensions;this.width=h/y,this.height=p/b,this.setDims(h,p),this._initialOptions?.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,this.#c!==null&&clearTimeout(this.#c);const k=200;this.#c=setTimeout(()=>{this.#c=null,this.#y(h,p)},k)}#v(h,p){const{width:y,height:b}=this.#e;let k=y,L=b,j=this.#e;for(;k>2*h||L>2*p;){const D=k,q=L;k>2*h&&(k=k>=16384?Math.floor(k/2)-1:Math.ceil(k/2)),L>2*p&&(L=L>=16384?Math.floor(L/2)-1:Math.ceil(L/2));const z=new OffscreenCanvas(k,L);z.getContext("2d").drawImage(j,0,0,D,q,0,0,k,L),j=z.transferToImageBitmap()}return j}#y(h,p){h=Math.ceil(h),p=Math.ceil(p);const y=this.#o;if(!y||y.width===h&&y.height===p)return;y.width=h,y.height=p;const b=this.#u?this.#e:this.#v(h,p),k=y.getContext("2d");k.filter=this._uiManager.hcmFilter,k.drawImage(b,0,0,b.width,b.height,0,0,h,p)}getImageForAltText(){return this.#o}#b(h){if(h){if(this.#u){const b=this._uiManager.imageManager.getSvgUrl(this.#t);if(b)return b}const p=document.createElement("canvas");return{width:p.width,height:p.height}=this.#e,p.getContext("2d").drawImage(this.#e,0,0),p.toDataURL()}if(this.#u){const[p,y]=this.pageDimensions,b=Math.round(this.width*p*f.PixelsPerInch.PDF_TO_CSS_UNITS),k=Math.round(this.height*y*f.PixelsPerInch.PDF_TO_CSS_UNITS),L=new OffscreenCanvas(b,k);return L.getContext("2d").drawImage(this.#e,0,0,this.#e.width,this.#e.height,0,0,b,k),L.transferToImageBitmap()}return structuredClone(this.#e)}#w(){this.#a=new ResizeObserver(h=>{const p=h[0].contentRect;p.width&&p.height&&this.#g(p.width,p.height)}),this.#a.observe(this.div)}static deserialize(h,p,y){if(h instanceof a.StampAnnotationElement)return null;const b=super.deserialize(h,p,y),{rect:k,bitmapUrl:L,bitmapId:j,isSvg:D,accessibilityData:q}=h;j&&y.imageManager.isValidId(j)?b.#t=j:b.#r=L,b.#u=D;const[z,ee]=b.pageDimensions;return b.width=(k[2]-k[0])/z,b.height=(k[3]-k[1])/ee,q&&(b.altTextData=q),b}serialize(h=!1,p=null){if(this.isEmpty())return null;const y={annotationType:r.AnnotationEditorType.STAMP,bitmapId:this.#t,pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:this.#u,structTreeParentId:this._structTreeParentId};if(h)return y.bitmapUrl=this.#b(!0),y.accessibilityData=this.altTextData,y;const{decorative:b,altText:k}=this.altTextData;if(!b&&k&&(y.accessibilityData={type:"Figure",alt:k}),p===null)return y;p.stamps||=new Map;const L=this.#u?(y.rect[2]-y.rect[0])*(y.rect[3]-y.rect[1]):null;if(!p.stamps.has(this.#t))p.stamps.set(this.#t,{area:L,serialized:y}),y.bitmap=this.#b(!1);else if(this.#u){const j=p.stamps.get(this.#t);L>j.area&&(j.area=L,j.serialized.bitmap.close(),j.serialized.bitmap=this.#b(!1))}return y}}class m{#e;#t=!1;#n=null;#r=this.pointerup.bind(this);#i=this.pointerUpAfterSelection.bind(this);#s=this.pointerdown.bind(this);#o=null;#a=this.selectionStart.bind(this);#c=new Map;#u=!1;#f=!1;#h=!1;#d=null;#l;static _initialized=!1;static#p=new Map([o,g,d,u].map(h=>[h._editorType,h]));constructor({uiManager:h,pageIndex:p,div:y,accessibilityManager:b,annotationLayer:k,drawLayer:L,textLayer:j,viewport:D,l10n:q}){const z=[...m.#p.values()];if(!m._initialized){m._initialized=!0;for(const ee of z)ee.initialize(q)}h.registerEditorTypes(z),this.#l=h,this.pageIndex=p,this.div=y,this.#e=b,this.#n=k,this.viewport=D,this.#d=j,this.drawLayer=L,this.#l.addLayer(this)}get isEmpty(){return this.#c.size===0}updateToolbar(h){this.#l.updateToolbar(h)}updateMode(h=this.#l.getMode()){switch(this.#w(),h){case r.AnnotationEditorType.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;case r.AnnotationEditorType.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case r.AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}if(h!==r.AnnotationEditorType.NONE){const{classList:p}=this.div;for(const y of m.#p.values())p.toggle(`${y._type}Editing`,h===y._editorType);this.div.hidden=!1}}addInkEditorIfNeeded(h){if(this.#l.getMode()!==r.AnnotationEditorType.INK)return;if(!h){for(const y of this.#c.values())if(y.isEmpty()){y.setInBackground();return}}this.#y({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(h){this.#l.setEditingState(h)}addCommands(h){this.#l.addCommands(h)}togglePointerEvents(h=!1){this.div.classList.toggle("disabled",!h)}enable(){this.togglePointerEvents(!0);const h=new Set;for(const y of this.#c.values())y.enableEditing(),y.annotationElementId&&h.add(y.annotationElementId);if(!this.#n)return;const p=this.#n.getEditableAnnotations();for(const y of p){if(y.hide(),this.#l.isDeletedAnnotationElement(y.data.id)||h.has(y.data.id))continue;const b=this.deserialize(y);b&&(this.addOrRebuild(b),b.enableEditing())}}disable(){this.#h=!0,this.togglePointerEvents(!1);const h=new Set;for(const y of this.#c.values()){if(y.disableEditing(),!y.annotationElementId||y.serialize()!==null){h.add(y.annotationElementId);continue}this.getEditableAnnotation(y.annotationElementId)?.show(),y.remove()}if(this.#n){const y=this.#n.getEditableAnnotations();for(const b of y){const{id:k}=b.data;h.has(k)||this.#l.isDeletedAnnotationElement(k)||b.show()}}this.#w(),this.isEmpty&&(this.div.hidden=!0);const{classList:p}=this.div;for(const y of m.#p.values())p.remove(`${y._type}Editing`);this.disableTextSelection(),this.#h=!1}getEditableAnnotation(h){return this.#n?.getEditableAnnotation(h)||null}setActiveEditor(h){this.#l.getActive()!==h&&this.#l.setActiveEditor(h)}enableTextSelection(){this.#d?.div&&document.addEventListener("selectstart",this.#a)}disableTextSelection(){this.#d?.div&&document.removeEventListener("selectstart",this.#a)}enableClick(){this.div.addEventListener("pointerdown",this.#s),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#s),this.div.removeEventListener("pointerup",this.#r)}attach(h){this.#c.set(h.id,h);const{annotationElementId:p}=h;p&&this.#l.isDeletedAnnotationElement(p)&&this.#l.removeDeletedAnnotationElement(h)}detach(h){this.#c.delete(h.id),this.#e?.removePointerInTextLayer(h.contentDiv),!this.#h&&h.annotationElementId&&this.#l.addDeletedAnnotationElement(h)}remove(h){this.detach(h),this.#l.removeEditor(h),h.div.remove(),h.isAttachedToDOM=!1,this.#f||this.addInkEditorIfNeeded(!1)}changeParent(h){h.parent!==this&&(h.annotationElementId&&(this.#l.addDeletedAnnotationElement(h.annotationElementId),i.AnnotationEditor.deleteAnnotationElement(h),h.annotationElementId=null),this.attach(h),h.parent?.detach(h),h.setParent(this),h.div&&h.isAttachedToDOM&&(h.div.remove(),this.div.append(h.div)))}add(h){if(this.changeParent(h),this.#l.addEditor(h),this.attach(h),!h.isAttachedToDOM){const p=h.render();this.div.append(p),h.isAttachedToDOM=!0}h.fixAndSetPosition(),h.onceAdded(),this.#l.addToAnnotationStorage(h)}moveEditorInDOM(h){if(!h.isAttachedToDOM)return;const{activeElement:p}=document;h.div.contains(p)&&!this.#o&&(h._focusEventsAllowed=!1,this.#o=setTimeout(()=>{this.#o=null,h.div.contains(document.activeElement)?h._focusEventsAllowed=!0:(h.div.addEventListener("focusin",()=>{h._focusEventsAllowed=!0},{once:!0}),p.focus())},0)),h._structTreeParentId=this.#e?.moveElementInDOM(this.div,h.div,h.contentDiv,!0)}addOrRebuild(h){h.needsToBeRebuilt()?(h.parent||=this,h.rebuild()):this.add(h)}addUndoableEditor(h){const p=()=>h._uiManager.rebuild(h),y=()=>{h.remove()};this.addCommands({cmd:p,undo:y,mustExec:!1})}getNextId(){return this.#l.getId()}get#g(){return m.#p.get(this.#l.getMode())}#v(h){const p=this.#g;return p?new p.prototype.constructor(h):null}canCreateNewEmptyEditor(){return this.#g?.canCreateNewEmptyEditor()}pasteEditor(h,p){this.#l.updateToolbar(h),this.#l.updateMode(h);const{offsetX:y,offsetY:b}=this.#b(),k=this.getNextId(),L=this.#v({parent:this,id:k,x:y,y:b,uiManager:this.#l,isCentered:!0,...p});L&&this.add(L)}deserialize(h){return m.#p.get(h.annotationType??h.annotationEditorType)?.deserialize(h,this,this.#l)||null}#y(h,p,y={}){const b=this.getNextId(),k=this.#v({parent:this,id:b,x:h.offsetX,y:h.offsetY,uiManager:this.#l,isCentered:p,...y});return k&&this.add(k),k}#b(){const{x:h,y:p,width:y,height:b}=this.div.getBoundingClientRect(),k=Math.max(0,h),L=Math.max(0,p),j=Math.min(window.innerWidth,h+y),D=Math.min(window.innerHeight,p+b),q=(k+j)/2-h,z=(L+D)/2-p,[ee,$]=this.viewport.rotation%180===0?[q,z]:[z,q];return{offsetX:ee,offsetY:$}}addNewEditor(){this.#y(this.#b(),!0)}setSelected(h){this.#l.setSelected(h)}toggleSelected(h){this.#l.toggleSelected(h)}isSelected(h){return this.#l.isSelected(h)}unselect(h){this.#l.unselect(h)}selectionStart(h){this.#d?.div.addEventListener("pointerup",this.#i,{once:!0})}pointerUpAfterSelection(h){const p=document.getSelection();if(p.rangeCount===0)return;const y=p.getRangeAt(0);if(y.collapsed||!this.#d?.div.contains(y.commonAncestorContainer))return;const{x:b,y:k,width:L,height:j}=this.#d.div.getBoundingClientRect(),D=y.getClientRects();let q;switch(this.viewport.rotation){case 90:q=(ee,$,H,ae)=>({x:($-k)/j,y:1-(ee+H-b)/L,width:ae/j,height:H/L});break;case 180:q=(ee,$,H,ae)=>({x:1-(ee+H-b)/L,y:1-($+ae-k)/j,width:H/L,height:ae/j});break;case 270:q=(ee,$,H,ae)=>({x:1-($+ae-k)/j,y:(ee-b)/L,width:ae/j,height:H/L});break;default:q=(ee,$,H,ae)=>({x:(ee-b)/L,y:($-k)/j,width:H/L,height:ae/j});break}const z=[];for(const{x:ee,y:$,width:H,height:ae}of D)H===0||ae===0||z.push(q(ee,$,H,ae));z.length!==0&&this.#y(h,!1,{boxes:z}),p.empty()}pointerup(h){const{isMac:p}=r.FeatureTest.platform;if(!(h.button!==0||h.ctrlKey&&p)&&h.target===this.div&&this.#u){if(this.#u=!1,!this.#t){this.#t=!0;return}if(this.#l.getMode()===r.AnnotationEditorType.STAMP){this.#l.unselectAll();return}this.#y(h,!1)}}pointerdown(h){if(this.#l.getMode()===r.AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),this.#u){this.#u=!1;return}const{isMac:p}=r.FeatureTest.platform;if(h.button!==0||h.ctrlKey&&p||h.target!==this.div)return;this.#u=!0;const y=this.#l.getActive();this.#t=!y||y.isEmpty()}findNewParent(h,p,y){const b=this.#l.findParent(p,y);return b===null||b===this?!1:(b.changeParent(h),!0)}destroy(){this.#l.getActive()?.parent===this&&(this.#l.commitOrRemove(),this.#l.setActiveEditor(null)),this.#o&&(clearTimeout(this.#o),this.#o=null);for(const h of this.#c.values())this.#e?.removePointerInTextLayer(h.contentDiv),h.setParent(null),h.isAttachedToDOM=!1,h.div.remove();this.div=null,this.#c.clear(),this.#l.removeLayer(this)}#w(){this.#f=!0;for(const h of this.#c.values())h.isEmpty()&&h.remove();this.#f=!1}render({viewport:h}){this.viewport=h,(0,f.setLayerDimensions)(this.div,h);for(const p of this.#l.getEditors(this.pageIndex))this.add(p);this.updateMode()}update({viewport:h}){this.#l.commitOrRemove();const p=this.viewport.rotation,y=h.rotation;if(this.viewport=h,(0,f.setLayerDimensions)(this.div,{rotation:y}),p!==y)for(const b of this.#c.values())b.rotate(y);this.updateMode()}get pageDimensions(){const{pageWidth:h,pageHeight:p}=this.viewport.rawDims;return[h,p]}}},97:(e,t,n)=>{n.d(t,{ColorPicker:()=>a});var r=n(266),i=n(812),s=n(473);class a{#e=this.#h.bind(this);#t=null;#n=null;#r;#i=null;#s=!1;#o=!1;#a;#c=null;static get _keyboardManager(){return(0,r.shadow)(this,"_keyboardManager",new i.KeyboardManager([[["Escape","mac+Escape"],a.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],a.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],a.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],a.prototype._moveToPrevious],[["Home","mac+Home"],a.prototype._moveToBeginning],[["End","mac+End"],a.prototype._moveToEnd]]))}constructor({editor:l=null,uiManager:c=null}){this.#o=!l,this.#c=l?._uiManager||c,this.#a=this.#c._eventBus,this.#r=l?.color||this.#c?.highlightColors.values().next().value||"#FFFF98"}renderButton(){const l=this.#t=document.createElement("button");l.className="colorPicker",l.tabIndex="0",l.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),l.setAttribute("aria-haspopup",!0),l.addEventListener("click",this.#d.bind(this));const c=this.#n=document.createElement("span");return c.className="swatch",c.style.backgroundColor=this.#r,l.append(c),l}renderMainDropdown(){const l=this.#i=this.#u(r.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR);return l.setAttribute("aria-orientation","horizontal"),l.setAttribute("aria-labelledby","highlightColorPickerLabel"),l}#u(l){const c=document.createElement("div");c.addEventListener("contextmenu",s.noContextMenu),c.className="dropdown",c.role="listbox",c.setAttribute("aria-multiselectable",!1),c.setAttribute("aria-orientation","vertical"),c.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[u,f]of this.#c.highlightColors){const g=document.createElement("button");g.tabIndex="0",g.role="option",g.setAttribute("data-color",f),g.title=u,g.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${u}`);const d=document.createElement("span");g.append(d),d.className="swatch",d.style.backgroundColor=f,g.setAttribute("aria-selected",f===this.#r),g.addEventListener("click",this.#f.bind(this,l,f)),c.append(g)}return c.addEventListener("keydown",this.#e),c}#f(l,c,u){u.stopPropagation(),this.#a.dispatch("switchannotationeditorparams",{source:this,type:l,value:c})}_colorSelectFromKeyboard(l){const c=l.target.getAttribute("data-color");c&&this.#f(c,l)}_moveToNext(l){if(l.target===this.#t){this.#i.firstChild?.focus();return}l.target.nextSibling?.focus()}_moveToPrevious(l){l.target.previousSibling?.focus()}_moveToBeginning(){this.#i.firstChild?.focus()}_moveToEnd(){this.#i.lastChild?.focus()}#h(l){a._keyboardManager.exec(this,l)}#d(l){if(this.#i&&!this.#i.classList.contains("hidden")){this.hideDropdown();return}if(this.#t.addEventListener("keydown",this.#e),this.#s=l.detail===0,this.#i){this.#i.classList.remove("hidden");return}const c=this.#i=this.#u(r.AnnotationEditorParamsType.HIGHLIGHT_COLOR);this.#t.append(c)}hideDropdown(){this.#i?.classList.add("hidden")}_hideDropdownFromKeyboard(){this.#o||!this.#i||this.#i.classList.contains("hidden")||(this.hideDropdown(),this.#t.removeEventListener("keydown",this.#e),this.#t.focus({preventScroll:!0,focusVisible:this.#s}))}updateColor(l){if(this.#n&&(this.#n.style.backgroundColor=l),!this.#i)return;const c=this.#c.highlightColors.values();for(const u of this.#i.children)u.setAttribute("aria-selected",c.next().value===l)}destroy(){this.#t?.remove(),this.#t=null,this.#n=null,this.#i?.remove(),this.#i=null}}},115:(e,t,n)=>{n.d(t,{AnnotationEditor:()=>l});var r=n(812),i=n(266),s=n(473);class a{#e="";#t=!1;#n=null;#r=null;#i=null;#s=!1;#o=null;static _l10nPromise=null;constructor(f){this.#o=f}static initialize(f){a._l10nPromise||=f}async render(){const f=this.#n=document.createElement("button");f.className="altText";const g=await a._l10nPromise.get("pdfjs-editor-alt-text-button-label");f.textContent=g,f.setAttribute("aria-label",g),f.tabIndex="0",f.addEventListener("contextmenu",s.noContextMenu),f.addEventListener("pointerdown",m=>m.stopPropagation());const d=m=>{m.preventDefault(),this.#o._uiManager.editAltText(this.#o)};return f.addEventListener("click",d,{capture:!0}),f.addEventListener("keydown",m=>{m.target===f&&m.key==="Enter"&&(this.#s=!0,d(m))}),await this.#a(),f}finish(){this.#n&&(this.#n.focus({focusVisible:this.#s}),this.#s=!1)}get data(){return{altText:this.#e,decorative:this.#t}}set data({altText:f,decorative:g}){this.#e===f&&this.#t===g||(this.#e=f,this.#t=g,this.#a())}toggle(f=!1){this.#n&&(!f&&this.#i&&(clearTimeout(this.#i),this.#i=null),this.#n.disabled=!f)}destroy(){this.#n?.remove(),this.#n=null,this.#r=null}async#a(){const f=this.#n;if(!f)return;if(!this.#e&&!this.#t){f.classList.remove("done"),this.#r?.remove();return}f.classList.add("done"),a._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(m=>{f.setAttribute("aria-label",m)});let g=this.#r;if(!g){this.#r=g=document.createElement("span"),g.className="tooltip",g.setAttribute("role","tooltip");const m=g.id=`alt-text-tooltip-${this.#o.id}`;f.setAttribute("aria-describedby",m);const v=100;f.addEventListener("mouseenter",()=>{this.#i=setTimeout(()=>{this.#i=null,this.#r.classList.add("show"),this.#o._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.#o.editorType,data:{action:"alt_text_tooltip"}}})},v)}),f.addEventListener("mouseleave",()=>{this.#i&&(clearTimeout(this.#i),this.#i=null),this.#r?.classList.remove("show")})}g.innerText=this.#t?await a._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):this.#e,g.parentNode||f.append(g),this.#o.getImageForAltText()?.setAttribute("aria-describedby",g.id)}}class o{#e=null;#t=null;#n;#r=null;constructor(f){this.#n=f}render(){const f=this.#e=document.createElement("div");f.className="editToolbar",f.addEventListener("contextmenu",s.noContextMenu),f.addEventListener("pointerdown",o.#i);const g=this.#r=document.createElement("div");g.className="buttons",f.append(g);const d=this.#n.toolbarPosition;if(d){const{style:m}=f,v=this.#n._uiManager.direction==="ltr"?1-d[0]:d[0];m.insetInlineEnd=`${100*v}%`,m.top=`calc(${100*d[1]}% + var(--editor-toolbar-vert-offset))`}return this.#c(),f}static#i(f){f.stopPropagation()}#s(f){this.#n._focusEventsAllowed=!1,f.preventDefault(),f.stopPropagation()}#o(f){this.#n._focusEventsAllowed=!0,f.preventDefault(),f.stopPropagation()}#a(f){f.addEventListener("focusin",this.#s.bind(this),{capture:!0}),f.addEventListener("focusout",this.#o.bind(this),{capture:!0}),f.addEventListener("contextmenu",s.noContextMenu)}hide(){this.#e.classList.add("hidden"),this.#t?.hideDropdown()}show(){this.#e.classList.remove("hidden")}#c(){const f=document.createElement("button");f.className="delete",f.tabIndex=0,f.setAttribute("data-l10n-id",`pdfjs-editor-remove-${this.#n.editorType}-button`),this.#a(f),f.addEventListener("click",g=>{this.#n._uiManager.delete()}),this.#r.append(f)}get#u(){const f=document.createElement("div");return f.className="divider",f}addAltTextButton(f){this.#a(f),this.#r.prepend(f,this.#u)}addColorPicker(f){this.#t=f;const g=f.renderButton();this.#a(g),this.#r.prepend(g,this.#u)}remove(){this.#e.remove(),this.#t?.destroy(),this.#t=null}}class l{#e=null;#t=null;#n=!1;#r=null;#i=null;#s=this.focusin.bind(this);#o=this.focusout.bind(this);#a=null;#c="";#u=!1;#f=!1;#h=!1;#d=!1;#l=null;_initialOptions=Object.create(null);_uiManager=null;_focusEventsAllowed=!0;_l10nPromise=null;#p=!1;#g=l._zIndex++;static _borderLineWidth=-1;static _colorManager=new r.ColorManager;static _zIndex=1;static get _resizerKeyboardManager(){const f=l.prototype._resizeWithKeyboard,g=r.AnnotationEditorUIManager.TRANSLATE_SMALL,d=r.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,i.shadow)(this,"_resizerKeyboardManager",new r.KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],f,{args:[-g,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],f,{args:[-d,0]}],[["ArrowRight","mac+ArrowRight"],f,{args:[g,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],f,{args:[d,0]}],[["ArrowUp","mac+ArrowUp"],f,{args:[0,-g]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],f,{args:[0,-d]}],[["ArrowDown","mac+ArrowDown"],f,{args:[0,g]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],f,{args:[0,d]}],[["Escape","mac+Escape"],l.prototype._stopResizingWithKeyboard]]))}constructor(f){this.constructor===l&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=f.parent,this.id=f.id,this.width=this.height=null,this.pageIndex=f.parent.pageIndex,this.name=f.name,this.div=null,this._uiManager=f.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=f.isCentered,this._structTreeParentId=null;const{rotation:g,rawDims:{pageWidth:d,pageHeight:m,pageX:v,pageY:h}}=this.parent.viewport;this.rotation=g,this.pageRotation=(360+g-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[d,m],this.pageTranslation=[v,h];const[p,y]=this.parentDimensions;this.x=f.x/p,this.y=f.y/y,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(f){const g=new c({id:f.parent.getNextId(),parent:f.parent,uiManager:f._uiManager});g.annotationElementId=f.annotationElementId,g.deleted=!0,g._uiManager.addToAnnotationStorage(g)}static initialize(f,g=null){if(l._l10nPromise||=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(m=>[m,f.get(m.replaceAll(/([A-Z])/g,v=>`-${v.toLowerCase()}`))])),g?.strings)for(const m of g.strings)l._l10nPromise.set(m,f.get(m));if(l._borderLineWidth!==-1)return;const d=getComputedStyle(document.documentElement);l._borderLineWidth=parseFloat(d.getPropertyValue("--outline-width"))||0}static updateDefaultParams(f,g){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(f){return!1}static paste(f,g){(0,i.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return this.#p}set _isDraggable(f){this.#p=f,this.div?.classList.toggle("draggable",f)}get isEnterHandled(){return!0}center(){const[f,g]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*g/(f*2),this.y+=this.width*f/(g*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*g/(f*2),this.y-=this.width*f/(g*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(f){this._uiManager.addCommands(f)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#g}setParent(f){f!==null?(this.pageIndex=f.pageIndex,this.pageDimensions=f.pageDimensions):this.#_(),this.parent=f}focusin(f){this._focusEventsAllowed&&(this.#u?this.#u=!1:this.parent.setSelected(this))}focusout(f){!this._focusEventsAllowed||!this.isAttachedToDOM||f.relatedTarget?.closest(`#${this.id}`)||(f.preventDefault(),this.parent?.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(f,g,d,m){const[v,h]=this.parentDimensions;[d,m]=this.screenToPageTranslation(d,m),this.x=(f+d)/v,this.y=(g+m)/h,this.fixAndSetPosition()}#v([f,g],d,m){[d,m]=this.screenToPageTranslation(d,m),this.x+=d/f,this.y+=m/g,this.fixAndSetPosition()}translate(f,g){this.#v(this.parentDimensions,f,g)}translateInPage(f,g){this.#v(this.pageDimensions,f,g),this.div.scrollIntoView({block:"nearest"})}drag(f,g){const[d,m]=this.parentDimensions;if(this.x+=f/d,this.y+=g/m,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:b,y:k}=this.div.getBoundingClientRect();this.parent.findNewParent(this,b,k)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:v,y:h}=this;const[p,y]=this.#y();v+=p,h+=y,this.div.style.left=`${(100*v).toFixed(2)}%`,this.div.style.top=`${(100*h).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}#y(){const[f,g]=this.parentDimensions,{_borderLineWidth:d}=l,m=d/f,v=d/g;switch(this.rotation){case 90:return[-m,v];case 180:return[m,v];case 270:return[m,-v];default:return[-m,-v]}}fixAndSetPosition(f=this.rotation){const[g,d]=this.pageDimensions;let{x:m,y:v,width:h,height:p}=this;switch(h*=g,p*=d,m*=g,v*=d,f){case 0:m=Math.max(0,Math.min(g-h,m)),v=Math.max(0,Math.min(d-p,v));break;case 90:m=Math.max(0,Math.min(g-p,m)),v=Math.min(d,Math.max(h,v));break;case 180:m=Math.min(g,Math.max(h,m)),v=Math.min(d,Math.max(p,v));break;case 270:m=Math.min(g,Math.max(p,m)),v=Math.max(0,Math.min(d-h,v));break}this.x=m/=g,this.y=v/=d;const[y,b]=this.#y();m+=y,v+=b;const{style:k}=this.div;k.left=`${(100*m).toFixed(2)}%`,k.top=`${(100*v).toFixed(2)}%`,this.moveInDOM()}static#b(f,g,d){switch(d){case 90:return[g,-f];case 180:return[-f,-g];case 270:return[-g,f];default:return[f,g]}}screenToPageTranslation(f,g){return l.#b(f,g,this.parentRotation)}pageTranslationToScreen(f,g){return l.#b(f,g,360-this.parentRotation)}#w(f){switch(f){case 90:{const[g,d]=this.pageDimensions;return[0,-g/d,d/g,0]}case 180:return[-1,0,0,-1];case 270:{const[g,d]=this.pageDimensions;return[0,g/d,-d/g,0]}default:return[1,0,0,1]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:f,pageDimensions:[g,d]}=this,m=g*f,v=d*f;return i.FeatureTest.isCSSRoundSupported?[Math.round(m),Math.round(v)]:[m,v]}setDims(f,g){const[d,m]=this.parentDimensions;this.div.style.width=`${(100*f/d).toFixed(2)}%`,this.#n||(this.div.style.height=`${(100*g/m).toFixed(2)}%`)}fixDims(){const{style:f}=this.div,{height:g,width:d}=f,m=d.endsWith("%"),v=!this.#n&&g.endsWith("%");if(m&&v)return;const[h,p]=this.parentDimensions;m||(f.width=`${(100*parseFloat(d)/h).toFixed(2)}%`),!this.#n&&!v&&(f.height=`${(100*parseFloat(g)/p).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}#m(){if(this.#r)return;this.#r=document.createElement("div"),this.#r.classList.add("resizers");const f=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"];for(const g of f){const d=document.createElement("div");this.#r.append(d),d.classList.add("resizer",g),d.setAttribute("data-resizer-name",g),d.addEventListener("pointerdown",this.#A.bind(this,g)),d.addEventListener("contextmenu",s.noContextMenu),d.tabIndex=-1}this.div.prepend(this.#r)}#A(f,g){g.preventDefault();const{isMac:d}=i.FeatureTest.platform;if(g.button!==0||g.ctrlKey&&d)return;this.#t?.toggle(!1);const m=this.#L.bind(this,f),v=this._isDraggable;this._isDraggable=!1;const h={passive:!0,capture:!0};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",m,h);const p=this.x,y=this.y,b=this.width,k=this.height,L=this.parent.div.style.cursor,j=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(g.target).cursor;const D=()=>{this.parent.togglePointerEvents(!0),this.#t?.toggle(!0),this._isDraggable=v,window.removeEventListener("pointerup",D),window.removeEventListener("blur",D),window.removeEventListener("pointermove",m,h),this.parent.div.style.cursor=L,this.div.style.cursor=j,this.#R(p,y,b,k)};window.addEventListener("pointerup",D),window.addEventListener("blur",D)}#R(f,g,d,m){const v=this.x,h=this.y,p=this.width,y=this.height;v===f&&h===g&&p===d&&y===m||this.addCommands({cmd:()=>{this.width=p,this.height=y,this.x=v,this.y=h;const[b,k]=this.parentDimensions;this.setDims(b*p,k*y),this.fixAndSetPosition()},undo:()=>{this.width=d,this.height=m,this.x=f,this.y=g;const[b,k]=this.parentDimensions;this.setDims(b*d,k*m),this.fixAndSetPosition()},mustExec:!0})}#L(f,g){const[d,m]=this.parentDimensions,v=this.x,h=this.y,p=this.width,y=this.height,b=l.MIN_SIZE/d,k=l.MIN_SIZE/m,L=E=>Math.round(E*1e4)/1e4,j=this.#w(this.rotation),D=(E,T)=>[j[0]*E+j[2]*T,j[1]*E+j[3]*T],q=this.#w(360-this.rotation),z=(E,T)=>[q[0]*E+q[2]*T,q[1]*E+q[3]*T];let ee,$,H=!1,ae=!1;switch(f){case"topLeft":H=!0,ee=(E,T)=>[0,0],$=(E,T)=>[E,T];break;case"topMiddle":ee=(E,T)=>[E/2,0],$=(E,T)=>[E/2,T];break;case"topRight":H=!0,ee=(E,T)=>[E,0],$=(E,T)=>[0,T];break;case"middleRight":ae=!0,ee=(E,T)=>[E,T/2],$=(E,T)=>[0,T/2];break;case"bottomRight":H=!0,ee=(E,T)=>[E,T],$=(E,T)=>[0,0];break;case"bottomMiddle":ee=(E,T)=>[E/2,T],$=(E,T)=>[E/2,0];break;case"bottomLeft":H=!0,ee=(E,T)=>[0,T],$=(E,T)=>[E,0];break;case"middleLeft":ae=!0,ee=(E,T)=>[0,T/2],$=(E,T)=>[E,T/2];break}const Y=ee(p,y),Q=$(p,y);let ie=D(...Q);const fe=L(v+ie[0]),W=L(h+ie[1]);let se=1,oe=1,[K,B]=this.screenToPageTranslation(g.movementX,g.movementY);if([K,B]=z(K/d,B/m),H){const E=Math.hypot(p,y);se=oe=Math.max(Math.min(Math.hypot(Q[0]-Y[0]-K,Q[1]-Y[1]-B)/E,1/p,1/y),b/p,k/y)}else ae?se=Math.max(b,Math.min(1,Math.abs(Q[0]-Y[0]-K)))/p:oe=Math.max(k,Math.min(1,Math.abs(Q[1]-Y[1]-B)))/y;const X=L(p*se),ne=L(y*oe);ie=D(...$(X,ne));const Z=fe-ie[0],te=W-ie[1];this.width=X,this.height=ne,this.x=Z,this.y=te,this.setDims(d*X,m*ne),this.fixAndSetPosition()}altTextFinish(){this.#t?.finish()}async addEditToolbar(){return this.#a||this.#h?this.#a:(this.#a=new o(this),this.div.append(this.#a.render()),this.#t&&this.#a.addAltTextButton(await this.#t.render()),this.#a)}removeEditToolbar(){this.#a&&(this.#a.remove(),this.#a=null,this.#t?.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){this.#t||(a.initialize(l._l10nPromise),this.#t=new a(this),await this.addEditToolbar())}get altTextData(){return this.#t?.data}set altTextData(f){this.#t&&(this.#t.data=f)}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#s),this.div.addEventListener("focusout",this.#o);const[f,g]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*g/f).toFixed(2)}%`,this.div.style.maxHeight=`${(100*f/g).toFixed(2)}%`);const[d,m]=this.getInitialTranslation();return this.translate(d,m),(0,r.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(f){const{isMac:g}=i.FeatureTest.platform;if(f.button!==0||f.ctrlKey&&g){f.preventDefault();return}if(this.#u=!0,this._isDraggable){this.#O(f);return}this.#I(f)}#I(f){const{isMac:g}=i.FeatureTest.platform;f.ctrlKey&&!g||f.shiftKey||f.metaKey&&g?this.parent.toggleSelected(this):this.parent.setSelected(this)}#O(f){const g=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let d,m;g&&(d={passive:!0,capture:!0},m=h=>{const[p,y]=this.screenToPageTranslation(h.movementX,h.movementY);this._uiManager.dragSelectedEditors(p,y)},window.addEventListener("pointermove",m,d));const v=()=>{window.removeEventListener("pointerup",v),window.removeEventListener("blur",v),g&&window.removeEventListener("pointermove",m,d),this.#u=!1,this._uiManager.endDragSession()||this.#I(f)};window.addEventListener("pointerup",v),window.addEventListener("blur",v)}moveInDOM(){this.#l&&clearTimeout(this.#l),this.#l=setTimeout(()=>{this.#l=null,this.parent?.moveEditorInDOM(this)},0)}_setParentAndPosition(f,g,d){f.changeParent(this),this.x=g,this.y=d,this.fixAndSetPosition()}getRect(f,g,d=this.rotation){const m=this.parentScale,[v,h]=this.pageDimensions,[p,y]=this.pageTranslation,b=f/m,k=g/m,L=this.x*v,j=this.y*h,D=this.width*v,q=this.height*h;switch(d){case 0:return[L+b+p,h-j-k-q+y,L+b+D+p,h-j-k+y];case 90:return[L+k+p,h-j+b+y,L+k+q+p,h-j+b+D+y];case 180:return[L-b-D+p,h-j+k+y,L-b+p,h-j+k+q+y];case 270:return[L-k-q+p,h-j-b-D+y,L-k+p,h-j-b+y];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(f,g){const[d,m,v,h]=f,p=v-d,y=h-m;switch(this.rotation){case 0:return[d,g-h,p,y];case 90:return[d,g-m,y,p];case 180:return[v,g-m,p,y];case 270:return[v,g-h,y,p];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#h=!0}disableEditMode(){this.#h=!1}isInEditMode(){return this.#h}shouldGetKeyboardEvents(){return this.#d}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#s),this.div?.addEventListener("focusout",this.#o)}rotate(f){}serialize(f=!1,g=null){(0,i.unreachable)("An editor must be serializable")}static deserialize(f,g,d){const m=new this.prototype.constructor({parent:g,id:g.getNextId(),uiManager:d});m.rotation=f.rotation;const[v,h]=m.pageDimensions,[p,y,b,k]=m.getRectInCurrentCoords(f.rect,h);return m.x=p/v,m.y=y/h,m.width=b/v,m.height=k/h,m}remove(){this.div.removeEventListener("focusin",this.#s),this.div.removeEventListener("focusout",this.#o),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),this.#l&&(clearTimeout(this.#l),this.#l=null),this.#_(),this.removeEditToolbar()}get isResizable(){return!1}makeResizable(){this.isResizable&&(this.#m(),this.#r.classList.remove("hidden"),(0,r.bindEvents)(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(f){if(!this.isResizable||f.target!==this.div||f.key!=="Enter")return;this._uiManager.setSelected(this),this.#i={savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height};const g=this.#r.children;if(!this.#e){this.#e=Array.from(g);const h=this.#j.bind(this),p=this.#x.bind(this);for(const y of this.#e){const b=y.getAttribute("data-resizer-name");y.setAttribute("role","spinbutton"),y.addEventListener("keydown",h),y.addEventListener("blur",p),y.addEventListener("focus",this.#M.bind(this,b)),l._l10nPromise.get(`pdfjs-editor-resizer-label-${b}`).then(k=>y.setAttribute("aria-label",k))}}const d=this.#e[0];let m=0;for(const h of g){if(h===d)break;m++}const v=(360-this.rotation+this.parentRotation)%360/90*(this.#e.length/4);if(v!==m){if(v<m)for(let p=0;p<m-v;p++)this.#r.append(this.#r.firstChild);else if(v>m)for(let p=0;p<v-m;p++)this.#r.firstChild.before(this.#r.lastChild);let h=0;for(const p of g){const b=this.#e[h++].getAttribute("data-resizer-name");l._l10nPromise.get(`pdfjs-editor-resizer-label-${b}`).then(k=>p.setAttribute("aria-label",k))}}this.#k(0),this.#d=!0,this.#r.firstChild.focus({focusVisible:!0}),f.preventDefault(),f.stopImmediatePropagation()}#j(f){l._resizerKeyboardManager.exec(this,f)}#x(f){this.#d&&f.relatedTarget?.parentNode!==this.#r&&this.#_()}#M(f){this.#c=this.#d?f:""}#k(f){if(this.#e)for(const g of this.#e)g.tabIndex=f}_resizeWithKeyboard(f,g){this.#d&&this.#L(this.#c,{movementX:f,movementY:g})}#_(){if(this.#d=!1,this.#k(-1),this.#i){const{savedX:f,savedY:g,savedWidth:d,savedHeight:m}=this.#i;this.#R(f,g,d,m),this.#i=null}}_stopResizingWithKeyboard(){this.#_(),this.div.focus()}select(){if(this.makeResizable(),this.div?.classList.add("selectedEditor"),!this.#a){this.addEditToolbar().then(()=>{this.div?.classList.contains("selectedEditor")&&this.#a?.show()});return}this.#a?.show()}unselect(){this.#r?.classList.add("hidden"),this.div?.classList.remove("selectedEditor"),this.div?.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus(),this.#a?.hide()}updateParams(f,g){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return this.#f}set isEditing(f){this.#f=f,this.parent&&(f?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(f,g){this.#n=!0;const d=f/g,{style:m}=this.div;m.aspectRatio=d,m.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}}class c extends l{constructor(f){super(f),this.annotationElementId=f.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},405:(e,t,n)=>{n.d(t,{Outliner:()=>r});class r{#e;#t=[];#n=[];constructor(s,a=0,o=0,l=!0){let c=1/0,u=-1/0,f=1/0,g=-1/0;const m=10**-4;for(const{x:L,y:j,width:D,height:q}of s){const z=Math.floor((L-a)/m)*m,ee=Math.ceil((L+D+a)/m)*m,$=Math.floor((j-a)/m)*m,H=Math.ceil((j+q+a)/m)*m,ae=[z,$,H,!0],Y=[ee,$,H,!1];this.#t.push(ae,Y),c=Math.min(c,z),u=Math.max(u,ee),f=Math.min(f,$),g=Math.max(g,H)}const v=u-c+2*o,h=g-f+2*o,p=c-o,y=f-o,b=this.#t.at(l?-1:-2),k=[b[0],b[2]];for(const L of this.#t){const[j,D,q]=L;L[0]=(j-p)/v,L[1]=(D-y)/h,L[2]=(q-y)/h}this.#e={x:p,y,width:v,height:h,lastPoint:k}}getOutlines(){this.#t.sort((a,o)=>a[0]-o[0]||a[1]-o[1]||a[2]-o[2]);const s=[];for(const a of this.#t)a[3]?(s.push(...this.#a(a)),this.#s(a)):(this.#o(a),s.push(...this.#a(a)));return this.#r(s)}#r(s){const a=[],o=new Set;for(const u of s){const[f,g,d]=u;a.push([f,g,u],[f,d,u])}a.sort((u,f)=>u[1]-f[1]||u[0]-f[0]);for(let u=0,f=a.length;u<f;u+=2){const g=a[u][2],d=a[u+1][2];g.push(d),d.push(g),o.add(g),o.add(d)}const l=[];let c;for(;o.size>0;){const u=o.values().next().value;let[f,g,d,m,v]=u;o.delete(u);let h=f,p=g;for(c=[f,d],l.push(c);;){let y;if(o.has(m))y=m;else if(o.has(v))y=v;else break;o.delete(y),[f,g,d,m,v]=y,h!==f&&(c.push(h,p,f,p===g?g:d),h=f),p=p===g?d:g}c.push(h,p)}return{outlines:l,box:this.#e}}#i(s){const a=this.#n;let o=0,l=a.length-1;for(;o<=l;){const c=o+l>>1,u=a[c][0];if(u===s)return c;u<s?o=c+1:l=c-1}return l+1}#s([,s,a]){const o=this.#i(s);this.#n.splice(o,0,[s,a])}#o([,s,a]){const o=this.#i(s);for(let l=o;l<this.#n.length;l++){const[c,u]=this.#n[l];if(c!==s)break;if(c===s&&u===a){this.#n.splice(l,1);return}}for(let l=o-1;l>=0;l--){const[c,u]=this.#n[l];if(c!==s)break;if(c===s&&u===a){this.#n.splice(l,1);return}}}#a(s){const[a,o,l]=s,c=[[a,o,l]],u=this.#i(l);for(let f=0;f<u;f++){const[g,d]=this.#n[f];for(let m=0,v=c.length;m<v;m++){const[,h,p]=c[m];if(!(d<=h||p<=g)){if(h>=g){if(p>d)c[m][1]=d;else{if(v===1)return[];c.splice(m,1),m--,v--}continue}c[m][2]=g,p>d&&c.push([a,d,p])}}}return c}}},812:(e,t,n)=>{n.d(t,{AnnotationEditorUIManager:()=>g,ColorManager:()=>f,KeyboardManager:()=>u,bindEvents:()=>s,opacityToHex:()=>a});var r=n(266),i=n(473);function s(d,m,v){for(const h of v)m.addEventListener(h,d[h].bind(d))}function a(d){return Math.round(Math.min(255,Math.max(1,255*d))).toString(16).padStart(2,"0")}class o{#e=0;getId(){return`${r.AnnotationEditorPrefix}${this.#e++}`}}class l{#e=(0,r.getUuid)();#t=0;#n=null;static get _isSVGFittingCanvas(){const m='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',h=new OffscreenCanvas(1,3).getContext("2d"),p=new Image;p.src=m;const y=p.decode().then(()=>(h.drawImage(p,0,0,1,1,0,0,1,3),new Uint32Array(h.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,r.shadow)(this,"_isSVGFittingCanvas",y)}async#r(m,v){this.#n||=new Map;let h=this.#n.get(m);if(h===null)return null;if(h?.bitmap)return h.refCounter+=1,h;try{h||={bitmap:null,id:`image_${this.#e}_${this.#t++}`,refCounter:0,isSvg:!1};let p;if(typeof v=="string"?(h.url=v,p=await(0,i.fetchData)(v,"blob")):p=h.file=v,p.type==="image/svg+xml"){const y=l._isSVGFittingCanvas,b=new FileReader,k=new Image,L=new Promise((j,D)=>{k.onload=()=>{h.bitmap=k,h.isSvg=!0,j()},b.onload=async()=>{const q=h.svgUrl=b.result;k.src=await y?`${q}#svgView(preserveAspectRatio(none))`:q},k.onerror=b.onerror=D});b.readAsDataURL(p),await L}else h.bitmap=await createImageBitmap(p);h.refCounter=1}catch(p){console.error(p),h=null}return this.#n.set(m,h),h&&this.#n.set(h.id,h),h}async getFromFile(m){const{lastModified:v,name:h,size:p,type:y}=m;return this.#r(`${v}_${h}_${p}_${y}`,m)}async getFromUrl(m){return this.#r(m,m)}async getFromId(m){this.#n||=new Map;const v=this.#n.get(m);return v?v.bitmap?(v.refCounter+=1,v):v.file?this.getFromFile(v.file):this.getFromUrl(v.url):null}getSvgUrl(m){const v=this.#n.get(m);return v?.isSvg?v.svgUrl:null}deleteId(m){this.#n||=new Map;const v=this.#n.get(m);v&&(v.refCounter-=1,v.refCounter===0&&(v.bitmap=null))}isValidId(m){return m.startsWith(`image_${this.#e}_`)}}class c{#e=[];#t=!1;#n;#r=-1;constructor(m=128){this.#n=m}add({cmd:m,undo:v,mustExec:h,type:p=NaN,overwriteIfSameType:y=!1,keepUndo:b=!1}){if(h&&m(),this.#t)return;const k={cmd:m,undo:v,type:p};if(this.#r===-1){this.#e.length>0&&(this.#e.length=0),this.#r=0,this.#e.push(k);return}if(y&&this.#e[this.#r].type===p){b&&(k.undo=this.#e[this.#r].undo),this.#e[this.#r]=k;return}const L=this.#r+1;L===this.#n?this.#e.splice(0,1):(this.#r=L,L<this.#e.length&&this.#e.splice(L)),this.#e.push(k)}undo(){this.#r!==-1&&(this.#t=!0,this.#e[this.#r].undo(),this.#t=!1,this.#r-=1)}redo(){this.#r<this.#e.length-1&&(this.#r+=1,this.#t=!0,this.#e[this.#r].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#r!==-1}hasSomethingToRedo(){return this.#r<this.#e.length-1}destroy(){this.#e=null}}class u{constructor(m){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:v}=r.FeatureTest.platform;for(const[h,p,y={}]of m)for(const b of h){const k=b.startsWith("mac+");v&&k?(this.callbacks.set(b.slice(4),{callback:p,options:y}),this.allKeys.add(b.split("+").at(-1))):!v&&!k&&(this.callbacks.set(b,{callback:p,options:y}),this.allKeys.add(b.split("+").at(-1)))}}#e(m){m.altKey&&this.buffer.push("alt"),m.ctrlKey&&this.buffer.push("ctrl"),m.metaKey&&this.buffer.push("meta"),m.shiftKey&&this.buffer.push("shift"),this.buffer.push(m.key);const v=this.buffer.join("+");return this.buffer.length=0,v}exec(m,v){if(!this.allKeys.has(v.key))return;const h=this.callbacks.get(this.#e(v));if(!h)return;const{callback:p,options:{bubbles:y=!1,args:b=[],checker:k=null}}=h;k&&!k(m,v)||(p.bind(m,...b,v)(),y||(v.stopPropagation(),v.preventDefault()))}}class f{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){const m=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(m),(0,r.shadow)(this,"_colors",m)}convert(m){const v=(0,i.getRGB)(m);if(!window.matchMedia("(forced-colors: active)").matches)return v;for(const[h,p]of this._colors)if(p.every((y,b)=>y===v[b]))return f._colorsMapping.get(h);return v}getHexCode(m){const v=this._colors.get(m);return v?r.Util.makeHexColor(...v):m}}class g{#e=null;#t=new Map;#n=new Map;#r=null;#i=null;#s=new c;#o=0;#a=new Set;#c=null;#u=null;#f=new Set;#h=null;#d=null;#l=null;#p=new o;#g=!1;#v=!1;#y=null;#b=null;#w=r.AnnotationEditorType.NONE;#m=new Set;#A=null;#R=this.blur.bind(this);#L=this.focus.bind(this);#I=this.copy.bind(this);#O=this.cut.bind(this);#j=this.paste.bind(this);#x=this.keydown.bind(this);#M=this.onEditingAction.bind(this);#k=this.onPageChanging.bind(this);#_=this.onScaleChanging.bind(this);#P=this.onRotationChanging.bind(this);#F={isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#C=[0,0];#E=null;#N=null;#U=null;static TRANSLATE_SMALL=1;static TRANSLATE_BIG=10;static get _keyboardManager(){const m=g.prototype,v=b=>b.#N.contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&b.hasSomethingToControl(),h=(b,{target:k})=>{if(k instanceof HTMLInputElement){const{type:L}=k;return L!=="text"&&L!=="number"}return!0},p=this.TRANSLATE_SMALL,y=this.TRANSLATE_BIG;return(0,r.shadow)(this,"_keyboardManager",new u([[["ctrl+a","mac+meta+a"],m.selectAll,{checker:h}],[["ctrl+z","mac+meta+z"],m.undo,{checker:h}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],m.redo,{checker:h}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],m.delete,{checker:h}],[["Enter","mac+Enter"],m.addNewEditorFromKeyboard,{checker:(b,{target:k})=>!(k instanceof HTMLButtonElement)&&b.#N.contains(k)&&!b.isEnterHandled}],[[" ","mac+ "],m.addNewEditorFromKeyboard,{checker:b=>b.#N.contains(document.activeElement)}],[["Escape","mac+Escape"],m.unselectAll],[["ArrowLeft","mac+ArrowLeft"],m.translateSelectedEditors,{args:[-p,0],checker:v}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],m.translateSelectedEditors,{args:[-y,0],checker:v}],[["ArrowRight","mac+ArrowRight"],m.translateSelectedEditors,{args:[p,0],checker:v}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],m.translateSelectedEditors,{args:[y,0],checker:v}],[["ArrowUp","mac+ArrowUp"],m.translateSelectedEditors,{args:[0,-p],checker:v}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],m.translateSelectedEditors,{args:[0,-y],checker:v}],[["ArrowDown","mac+ArrowDown"],m.translateSelectedEditors,{args:[0,p],checker:v}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],m.translateSelectedEditors,{args:[0,y],checker:v}]]))}constructor(m,v,h,p,y,b,k){this.#N=m,this.#U=v,this.#r=h,this._eventBus=p,this._eventBus._on("editingaction",this.#M),this._eventBus._on("pagechanging",this.#k),this._eventBus._on("scalechanging",this.#_),this._eventBus._on("rotationchanging",this.#P),this.#i=y.annotationStorage,this.#h=y.filterFactory,this.#A=b,this.#l=k||null,this.viewParameters={realScale:i.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){this.#T(),this.#B(),this._eventBus._off("editingaction",this.#M),this._eventBus._off("pagechanging",this.#k),this._eventBus._off("scalechanging",this.#_),this._eventBus._off("rotationchanging",this.#P);for(const m of this.#n.values())m.destroy();this.#n.clear(),this.#t.clear(),this.#f.clear(),this.#e=null,this.#m.clear(),this.#s.destroy(),this.#r?.destroy(),this.#d&&(clearTimeout(this.#d),this.#d=null),this.#E&&(clearTimeout(this.#E),this.#E=null)}get hcmFilter(){return(0,r.shadow)(this,"hcmFilter",this.#A?this.#h.addHCMFilter(this.#A.foreground,this.#A.background):"none")}get direction(){return(0,r.shadow)(this,"direction",getComputedStyle(this.#N).direction)}get highlightColors(){return(0,r.shadow)(this,"highlightColors",this.#l?new Map(this.#l.split(",").map(m=>m.split("=").map(v=>v.trim()))):null)}setMainHighlightColorPicker(m){this.#b=m}editAltText(m){this.#r?.editAltText(this,m)}onPageChanging({pageNumber:m}){this.#o=m-1}focusMainContainer(){this.#N.focus()}findParent(m,v){for(const h of this.#n.values()){const{x:p,y,width:b,height:k}=h.div.getBoundingClientRect();if(m>=p&&m<=p+b&&v>=y&&v<=y+k)return h}return null}disableUserSelect(m=!1){this.#U.classList.toggle("noUserSelect",m)}addShouldRescale(m){this.#f.add(m)}removeShouldRescale(m){this.#f.delete(m)}onScaleChanging({scale:m}){this.commitOrRemove(),this.viewParameters.realScale=m*i.PixelsPerInch.PDF_TO_CSS_UNITS;for(const v of this.#f)v.onScaleChanging()}onRotationChanging({pagesRotation:m}){this.commitOrRemove(),this.viewParameters.rotation=m}addToAnnotationStorage(m){!m.isEmpty()&&this.#i&&!this.#i.has(m.id)&&this.#i.setValue(m.id,m)}#q(){window.addEventListener("focus",this.#L),window.addEventListener("blur",this.#R)}#B(){window.removeEventListener("focus",this.#L),window.removeEventListener("blur",this.#R)}blur(){if(!this.hasSelection)return;const{activeElement:m}=document;for(const v of this.#m)if(v.div.contains(m)){this.#y=[v,m],v._focusEventsAllowed=!1;break}}focus(){if(!this.#y)return;const[m,v]=this.#y;this.#y=null,v.addEventListener("focusin",()=>{m._focusEventsAllowed=!0},{once:!0}),v.focus()}#D(){window.addEventListener("keydown",this.#x)}#T(){window.removeEventListener("keydown",this.#x)}#H(){document.addEventListener("copy",this.#I),document.addEventListener("cut",this.#O),document.addEventListener("paste",this.#j)}#W(){document.removeEventListener("copy",this.#I),document.removeEventListener("cut",this.#O),document.removeEventListener("paste",this.#j)}addEditListeners(){this.#D(),this.#H()}removeEditListeners(){this.#T(),this.#W()}copy(m){if(m.preventDefault(),this.#e?.commitOrRemove(),!this.hasSelection)return;const v=[];for(const h of this.#m){const p=h.serialize(!0);p&&v.push(p)}v.length!==0&&m.clipboardData.setData("application/pdfjs",JSON.stringify(v))}cut(m){this.copy(m),this.delete()}paste(m){m.preventDefault();const{clipboardData:v}=m;for(const y of v.items)for(const b of this.#u)if(b.isHandlingMimeForPasting(y.type)){b.paste(y,this.currentLayer);return}let h=v.getData("application/pdfjs");if(!h)return;try{h=JSON.parse(h)}catch(y){(0,r.warn)(`paste: "${y.message}".`);return}if(!Array.isArray(h))return;this.unselectAll();const p=this.currentLayer;try{const y=[];for(const L of h){const j=p.deserialize(L);if(!j)return;y.push(j)}const b=()=>{for(const L of y)this.#V(L);this.#G(y)},k=()=>{for(const L of y)L.remove()};this.addCommands({cmd:b,undo:k,mustExec:!0})}catch(y){(0,r.warn)(`paste: "${y.message}".`)}}keydown(m){this.isEditorHandlingKeyboard||g._keyboardManager.exec(this,m)}onEditingAction(m){["undo","redo","delete","selectAll"].includes(m.name)&&this[m.name]()}#S(m){Object.entries(m).some(([h,p])=>this.#F[h]!==p)&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#F,m)})}#$(m){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:m})}setEditingState(m){m?(this.#q(),this.#D(),this.#H(),this.#S({isEditing:this.#w!==r.AnnotationEditorType.NONE,isEmpty:this.#z(),hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:this.#s.hasSomethingToRedo(),hasSelectedEditor:!1})):(this.#B(),this.#T(),this.#W(),this.#S({isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(m){if(!this.#u){this.#u=m;for(const v of this.#u)this.#$(v.defaultPropertiesToUpdate)}}getId(){return this.#p.getId()}get currentLayer(){return this.#n.get(this.#o)}getLayer(m){return this.#n.get(m)}get currentPageIndex(){return this.#o}addLayer(m){this.#n.set(m.pageIndex,m),this.#g?m.enable():m.disable()}removeLayer(m){this.#n.delete(m.pageIndex)}updateMode(m,v=null,h=!1){if(this.#w!==m){if(this.#w=m,m===r.AnnotationEditorType.NONE){this.setEditingState(!1),this.#K();return}this.setEditingState(!0),this.#Y(),this.unselectAll();for(const p of this.#n.values())p.updateMode(m);if(!v&&h){this.addNewEditorFromKeyboard();return}if(v){for(const p of this.#t.values())if(p.annotationElementId===v){this.setSelected(p),p.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(m){m!==this.#w&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:m})}updateParams(m,v){if(this.#u){switch(m){case r.AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor();return;case r.AnnotationEditorParamsType.HIGHLIGHT_DEFAULT_COLOR:this.#b?.updateColor(v);break}for(const h of this.#m)h.updateParams(m,v);for(const h of this.#u)h.updateDefaultParams(m,v)}}enableWaiting(m=!1){if(this.#v!==m){this.#v=m;for(const v of this.#n.values())m?v.disableClick():v.enableClick(),v.div.classList.toggle("waiting",m)}}#Y(){if(!this.#g){this.#g=!0;for(const m of this.#n.values())m.enable()}}#K(){if(this.unselectAll(),this.#g){this.#g=!1;for(const m of this.#n.values())m.disable()}}getEditors(m){const v=[];for(const h of this.#t.values())h.pageIndex===m&&v.push(h);return v}getEditor(m){return this.#t.get(m)}addEditor(m){this.#t.set(m.id,m)}removeEditor(m){m.div.contains(document.activeElement)&&(this.#d&&clearTimeout(this.#d),this.#d=setTimeout(()=>{this.focusMainContainer(),this.#d=null},0)),this.#t.delete(m.id),this.unselect(m),(!m.annotationElementId||!this.#a.has(m.annotationElementId))&&this.#i?.remove(m.id)}addDeletedAnnotationElement(m){this.#a.add(m.annotationElementId),m.deleted=!0}isDeletedAnnotationElement(m){return this.#a.has(m)}removeDeletedAnnotationElement(m){this.#a.delete(m.annotationElementId),m.deleted=!1}#V(m){const v=this.#n.get(m.pageIndex);v?v.addOrRebuild(m):this.addEditor(m)}setActiveEditor(m){this.#e!==m&&(this.#e=m,m&&this.#$(m.propertiesToUpdate))}toggleSelected(m){if(this.#m.has(m)){this.#m.delete(m),m.unselect(),this.#S({hasSelectedEditor:this.hasSelection});return}this.#m.add(m),m.select(),this.#$(m.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}setSelected(m){for(const v of this.#m)v!==m&&v.unselect();this.#m.clear(),this.#m.add(m),m.select(),this.#$(m.propertiesToUpdate),this.#S({hasSelectedEditor:!0})}isSelected(m){return this.#m.has(m)}get firstSelectedEditor(){return this.#m.values().next().value}unselect(m){m.unselect(),this.#m.delete(m),this.#S({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#m.size!==0}get isEnterHandled(){return this.#m.size===1&&this.firstSelectedEditor.isEnterHandled}undo(){this.#s.undo(),this.#S({hasSomethingToUndo:this.#s.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#z()})}redo(){this.#s.redo(),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:this.#s.hasSomethingToRedo(),isEmpty:this.#z()})}addCommands(m){this.#s.add(m),this.#S({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#z()})}#z(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(const m of this.#t.values())return m.isEmpty();return!1}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const m=[...this.#m],v=()=>{for(const p of m)p.remove()},h=()=>{for(const p of m)this.#V(p)};this.addCommands({cmd:v,undo:h,mustExec:!0})}commitOrRemove(){this.#e?.commitOrRemove()}hasSomethingToControl(){return this.#e||this.hasSelection}#G(m){this.#m.clear();for(const v of m)v.isEmpty()||(this.#m.add(v),v.select());this.#S({hasSelectedEditor:!0})}selectAll(){for(const m of this.#m)m.commit();this.#G(this.#t.values())}unselectAll(){if(!(this.#e&&(this.#e.commitOrRemove(),this.#w!==r.AnnotationEditorType.NONE))&&this.hasSelection){for(const m of this.#m)m.unselect();this.#m.clear(),this.#S({hasSelectedEditor:!1})}}translateSelectedEditors(m,v,h=!1){if(h||this.commitOrRemove(),!this.hasSelection)return;this.#C[0]+=m,this.#C[1]+=v;const[p,y]=this.#C,b=[...this.#m],k=1e3;this.#E&&clearTimeout(this.#E),this.#E=setTimeout(()=>{this.#E=null,this.#C[0]=this.#C[1]=0,this.addCommands({cmd:()=>{for(const L of b)this.#t.has(L.id)&&L.translateInPage(p,y)},undo:()=>{for(const L of b)this.#t.has(L.id)&&L.translateInPage(-p,-y)},mustExec:!1})},k);for(const L of b)L.translateInPage(m,v)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),this.#c=new Map;for(const m of this.#m)this.#c.set(m,{savedX:m.x,savedY:m.y,savedPageIndex:m.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!this.#c)return!1;this.disableUserSelect(!1);const m=this.#c;this.#c=null;let v=!1;for(const[{x:p,y,pageIndex:b},k]of m)k.newX=p,k.newY=y,k.newPageIndex=b,v||=p!==k.savedX||y!==k.savedY||b!==k.savedPageIndex;if(!v)return!1;const h=(p,y,b,k)=>{if(this.#t.has(p.id)){const L=this.#n.get(k);L?p._setParentAndPosition(L,y,b):(p.pageIndex=k,p.x=y,p.y=b)}};return this.addCommands({cmd:()=>{for(const[p,{newX:y,newY:b,newPageIndex:k}]of m)h(p,y,b,k)},undo:()=>{for(const[p,{savedX:y,savedY:b,savedPageIndex:k}]of m)h(p,y,b,k)},mustExec:!0}),!0}dragSelectedEditors(m,v){if(this.#c)for(const h of this.#c.keys())h.drag(m,v)}rebuild(m){if(m.parent===null){const v=this.getLayer(m.pageIndex);v?(v.changeParent(m),v.addOrRebuild(m)):(this.addEditor(m),this.addToAnnotationStorage(m),m.rebuild())}else m.parent.addOrRebuild(m)}get isEditorHandlingKeyboard(){return this.getActive()?.shouldGetKeyboardEvents()||this.#m.size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(m){return this.#e===m}getActive(){return this.#e}getMode(){return this.#w}get imageManager(){return(0,r.shadow)(this,"imageManager",new l)}}},171:(e,t,n)=>{n.d(t,{PDFFetchStream:()=>l});var r=n(266),i=n(253);function s(f,g,d){return{method:"GET",headers:f,signal:d.signal,mode:"cors",credentials:g?"include":"same-origin",redirect:"follow"}}function a(f){const g=new Headers;for(const d in f){const m=f[d];m!==void 0&&g.append(d,m)}return g}function o(f){return f instanceof Uint8Array?f.buffer:f instanceof ArrayBuffer?f:((0,r.warn)(`getArrayBuffer - unexpected data format: ${f}`),new Uint8Array(f).buffer)}class l{constructor(g){this.source=g,this.isHttp=/^https?:/i.test(g.url),this.httpHeaders=this.isHttp&&g.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new c(this),this._fullRequestReader}getRangeReader(g,d){if(d<=this._progressiveDataLength)return null;const m=new u(this,g,d);return this._rangeRequestReaders.push(m),m}cancelAllRequests(g){this._fullRequestReader?.cancel(g);for(const d of this._rangeRequestReaders.slice(0))d.cancel(g)}}class c{constructor(g){this._stream=g,this._reader=null,this._loaded=0,this._filename=null;const d=g.source;this._withCredentials=d.withCredentials||!1,this._contentLength=d.length,this._headersCapability=new r.PromiseCapability,this._disableRange=d.disableRange||!1,this._rangeChunkSize=d.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!d.disableStream,this._isRangeSupported=!d.disableRange,this._headers=a(this._stream.httpHeaders);const m=d.url;fetch(m,s(this._headers,this._withCredentials,this._abortController)).then(v=>{if(!(0,i.validateResponseStatus)(v.status))throw(0,i.createResponseStatusError)(v.status,m);this._reader=v.body.getReader(),this._headersCapability.resolve();const h=b=>v.headers.get(b),{allowRangeRequests:p,suggestedLength:y}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:h,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=p,this._contentLength=y||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(h),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:g,done:d}=await this._reader.read();return d?{value:g,done:d}:(this._loaded+=g.byteLength,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:o(g),done:!1})}cancel(g){this._reader?.cancel(g),this._abortController.abort()}}class u{constructor(g,d,m){this._stream=g,this._reader=null,this._loaded=0;const v=g.source;this._withCredentials=v.withCredentials||!1,this._readCapability=new r.PromiseCapability,this._isStreamingSupported=!v.disableStream,this._abortController=new AbortController,this._headers=a(this._stream.httpHeaders),this._headers.append("Range",`bytes=${d}-${m-1}`);const h=v.url;fetch(h,s(this._headers,this._withCredentials,this._abortController)).then(p=>{if(!(0,i.validateResponseStatus)(p.status))throw(0,i.createResponseStatusError)(p.status,h);this._readCapability.resolve(),this._reader=p.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:g,done:d}=await this._reader.read();return d?{value:g,done:d}:(this._loaded+=g.byteLength,this.onProgress?.({loaded:this._loaded}),{value:o(g),done:!1})}cancel(g){this._reader?.cancel(g),this._abortController.abort()}}},742:(e,t,n)=>{n.d(t,{FontFaceObject:()=>s,FontLoader:()=>i});var r=n(266);class i{#e=new Set;constructor({ownerDocument:o=globalThis.document,styleElement:l=null}){this._document=o,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(o){this.nativeFontFaces.add(o),this._document.fonts.add(o)}removeNativeFontFace(o){this.nativeFontFaces.delete(o),this._document.fonts.delete(o)}insertRule(o){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const l=this.styleElement.sheet;l.insertRule(o,l.cssRules.length)}clear(){for(const o of this.nativeFontFaces)this._document.fonts.delete(o);this.nativeFontFaces.clear(),this.#e.clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:o,_inspectFont:l}){if(!(!o||this.#e.has(o.loadedName))){if((0,r.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:c,src:u,style:f}=o,g=new FontFace(c,u,f);this.addNativeFontFace(g);try{await g.load(),this.#e.add(c),l?.(o)}catch{(0,r.warn)(`Cannot load system font: ${o.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(g)}return}(0,r.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(o){if(o.attached||o.missingFile&&!o.systemFontInfo)return;if(o.attached=!0,o.systemFontInfo){await this.loadSystemFont(o);return}if(this.isFontLoadingAPISupported){const c=o.createNativeFontFace();if(c){this.addNativeFontFace(c);try{await c.loaded}catch(u){throw(0,r.warn)(`Failed to load font '${c.family}': '${u}'.`),o.disableFontFace=!0,u}}return}const l=o.createFontFaceRule();if(l){if(this.insertRule(l),this.isSyncFontLoadingSupported)return;await new Promise(c=>{const u=this._queueLoadingCallback(c);this._prepareFontLoadEvent(o,u)})}}get isFontLoadingAPISupported(){const o=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",o)}get isSyncFontLoadingSupported(){let o=!1;return(r.isNodeJS||typeof navigator<"u"&&typeof navigator?.userAgent=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(o=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",o)}_queueLoadingCallback(o){function l(){for((0,r.assert)(!u.done,"completeRequest() cannot be called twice."),u.done=!0;c.length>0&&c[0].done;){const f=c.shift();setTimeout(f.callback,0)}}const{loadingRequests:c}=this,u={done:!1,complete:l,callback:o};return c.push(u),u}get _loadTestFont(){const o=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,r.shadow)(this,"_loadTestFont",o)}_prepareFontLoadEvent(o,l){function c(ee,$){return ee.charCodeAt($)<<24|ee.charCodeAt($+1)<<16|ee.charCodeAt($+2)<<8|ee.charCodeAt($+3)&255}function u(ee,$,H,ae){const Y=ee.substring(0,$),Q=ee.substring($+H);return Y+ae+Q}let f,g;const d=this._document.createElement("canvas");d.width=1,d.height=1;const m=d.getContext("2d");let v=0;function h(ee,$){if(++v>30){(0,r.warn)("Load test font never loaded."),$();return}if(m.font="30px "+ee,m.fillText(".",0,20),m.getImageData(0,0,1,1).data[3]>0){$();return}setTimeout(h.bind(null,ee,$))}const p=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=u(y,976,p.length,p);const k=16,L=1482184792;let j=c(y,k);for(f=0,g=p.length-3;f<g;f+=4)j=j-L+c(p,f)|0;f<p.length&&(j=j-L+c(p+"XXX",f)|0),y=u(y,k,4,(0,r.string32)(j));const D=`url(data:font/opentype;base64,${btoa(y)});`,q=`@font-face {font-family:"${p}";src:${D}}`;this.insertRule(q);const z=this._document.createElement("div");z.style.visibility="hidden",z.style.width=z.style.height="10px",z.style.position="absolute",z.style.top=z.style.left="0px";for(const ee of[o.loadedName,p]){const $=this._document.createElement("span");$.textContent="Hi",$.style.fontFamily=ee,z.append($)}this._document.body.append(z),h(p,()=>{z.remove(),l.complete()})}}class s{constructor(o,{isEvalSupported:l=!0,disableFontFace:c=!1,ignoreErrors:u=!1,inspectFont:f=null}){this.compiledGlyphs=Object.create(null);for(const g in o)this[g]=o[g];this.isEvalSupported=l!==!1,this.disableFontFace=c===!0,this.ignoreErrors=u===!0,this._inspectFont=f}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let o;if(!this.cssFontInfo)o=new FontFace(this.loadedName,this.data,{});else{const l={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(l.style=`oblique ${this.cssFontInfo.italicAngle}deg`),o=new FontFace(this.cssFontInfo.fontFamily,this.data,l)}return this._inspectFont?.(this),o}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const o=(0,r.bytesToString)(this.data),l=`url(data:${this.mimetype};base64,${btoa(o)});`;let c;if(!this.cssFontInfo)c=`@font-face {font-family:"${this.loadedName}";src:${l}}`;else{let u=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(u+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),c=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${u}src:${l}}`}return this._inspectFont?.(this,l),c}getPathGenerator(o,l){if(this.compiledGlyphs[l]!==void 0)return this.compiledGlyphs[l];let c;try{c=o.get(this.loadedName+"_path_"+l)}catch(u){if(!this.ignoreErrors)throw u;return(0,r.warn)(`getPathGenerator - ignoring character: "${u}".`),this.compiledGlyphs[l]=function(f,g){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){const u=[];for(const f of c){const g=f.args!==void 0?f.args.join(","):"";u.push("c.",f.cmd,"(",g,`);
`)}return this.compiledGlyphs[l]=new Function("c","size",u.join(""))}return this.compiledGlyphs[l]=function(u,f){for(const g of c)g.cmd==="scale"&&(g.args=[f,-f]),u[g.cmd].apply(u,g.args)}}}},472:(e,t,n)=>{n.d(t,{Metadata:()=>i});var r=n(266);class i{#e;#t;constructor({parsedData:a,rawData:o}){this.#e=a,this.#t=o}getRaw(){return this.#t}get(a){return this.#e.get(a)??null}getAll(){return(0,r.objectFromMap)(this.#e)}has(a){return this.#e.has(a)}}},474:(e,t,n)=>{n.d(t,{PDFNetworkStream:()=>c});var r=n(266),i=n(253);const s=200,a=206;function o(g){const d=g.response;return typeof d!="string"?d:(0,r.stringToBytes)(d).buffer}class l{constructor(d,m={}){this.url=d,this.isHttp=/^https?:/i.test(d),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(d,m,v){const h={begin:d,end:m};for(const p in v)h[p]=v[p];return this.request(h)}requestFull(d){return this.request(d)}request(d){const m=new XMLHttpRequest,v=this.currXhrId++,h=this.pendingRequests[v]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(const p in this.httpHeaders){const y=this.httpHeaders[p];y!==void 0&&m.setRequestHeader(p,y)}return this.isHttp&&"begin"in d&&"end"in d?(m.setRequestHeader("Range",`bytes=${d.begin}-${d.end-1}`),h.expectedStatus=a):h.expectedStatus=s,m.responseType="arraybuffer",d.onError&&(m.onerror=function(p){d.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,v),m.onprogress=this.onProgress.bind(this,v),h.onHeadersReceived=d.onHeadersReceived,h.onDone=d.onDone,h.onError=d.onError,h.onProgress=d.onProgress,m.send(null),v}onProgress(d,m){const v=this.pendingRequests[d];v&&v.onProgress?.(m)}onStateChange(d,m){const v=this.pendingRequests[d];if(!v)return;const h=v.xhr;if(h.readyState>=2&&v.onHeadersReceived&&(v.onHeadersReceived(),delete v.onHeadersReceived),h.readyState!==4||!(d in this.pendingRequests))return;if(delete this.pendingRequests[d],h.status===0&&this.isHttp){v.onError?.(h.status);return}const p=h.status||s;if(!(p===s&&v.expectedStatus===a)&&p!==v.expectedStatus){v.onError?.(h.status);return}const b=o(h);if(p===a){const k=h.getResponseHeader("Content-Range"),L=/bytes (\d+)-(\d+)\/(\d+)/.exec(k);v.onDone({begin:parseInt(L[1],10),chunk:b})}else b?v.onDone({begin:0,chunk:b}):v.onError?.(h.status)}getRequestXhr(d){return this.pendingRequests[d].xhr}isPendingRequest(d){return d in this.pendingRequests}abortRequest(d){const m=this.pendingRequests[d].xhr;delete this.pendingRequests[d],m.abort()}}class c{constructor(d){this._source=d,this._manager=new l(d.url,{httpHeaders:d.httpHeaders,withCredentials:d.withCredentials}),this._rangeChunkSize=d.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(d){const m=this._rangeRequestReaders.indexOf(d);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new u(this._manager,this._source),this._fullRequestReader}getRangeReader(d,m){const v=new f(this._manager,d,m);return v.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(v),v}cancelAllRequests(d){this._fullRequestReader?.cancel(d);for(const m of this._rangeRequestReaders.slice(0))m.cancel(d)}}class u{constructor(d,m){this._manager=d;const v={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=d.requestFull(v),this._headersReceivedCapability=new r.PromiseCapability,this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const d=this._fullRequestId,m=this._manager.getRequestXhr(d),v=y=>m.getResponseHeader(y),{allowRangeRequests:h,suggestedLength:p}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:v,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});h&&(this._isRangeSupported=!0),this._contentLength=p||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(v),this._isRangeSupported&&this._manager.abortRequest(d),this._headersReceivedCapability.resolve()}_onDone(d){if(d&&(this._requests.length>0?this._requests.shift().resolve({value:d.chunk,done:!1}):this._cachedChunks.push(d.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(d){this._storedError=(0,i.createResponseStatusError)(d,this._url),this._headersReceivedCapability.reject(this._storedError);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(d){this.onProgress?.({loaded:d.loaded,total:d.lengthComputable?d.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const d=new r.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0,this._headersReceivedCapability.reject(d);for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class f{constructor(d,m,v){this._manager=d;const h={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=d.url,this._requestId=d.requestRange(m,v,h),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(d){const m=d.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(const v of this._requests)v.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(d){this._storedError=(0,i.createResponseStatusError)(d,this._url);for(const m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(d){this.isStreamingSupported||this.onProgress?.({loaded:d.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};const d=new r.PromiseCapability;return this._requests.push(d),d.promise}cancel(d){this._done=!0;for(const m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},253:(e,t,n)=>{n.d(t,{createResponseStatusError:()=>l,extractFilenameFromHeader:()=>o,validateRangeRequestCapabilities:()=>a,validateResponseStatus:()=>c});var r=n(266);function i(u){let f=!0,g=d("filename\\*","i").exec(u);if(g){g=g[1];let k=p(g);return k=unescape(k),k=y(k),k=b(k),v(k)}if(g=h(u),g){const k=b(g);return v(k)}if(g=d("filename","i").exec(u),g){g=g[1];let k=p(g);return k=b(k),v(k)}function d(k,L){return new RegExp("(?:^|;)\\s*"+k+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',L)}function m(k,L){if(k){if(!/^[\x00-\xFF]+$/.test(L))return L;try{const j=new TextDecoder(k,{fatal:!0}),D=(0,r.stringToBytes)(L);L=j.decode(D),f=!1}catch{}}return L}function v(k){return f&&/[\x80-\xff]/.test(k)&&(k=m("utf-8",k),f&&(k=m("iso-8859-1",k))),k}function h(k){const L=[];let j;const D=d("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(j=D.exec(k))!==null;){let[,z,ee,$]=j;if(z=parseInt(z,10),z in L){if(z===0)break;continue}L[z]=[ee,$]}const q=[];for(let z=0;z<L.length&&z in L;++z){let[ee,$]=L[z];$=p($),ee&&($=unescape($),z===0&&($=y($))),q.push($)}return q.join("")}function p(k){if(k.startsWith('"')){const L=k.slice(1).split('\\"');for(let j=0;j<L.length;++j){const D=L[j].indexOf('"');D!==-1&&(L[j]=L[j].slice(0,D),L.length=j+1),L[j]=L[j].replaceAll(/\\(.)/g,"$1")}k=L.join('"')}return k}function y(k){const L=k.indexOf("'");if(L===-1)return k;const j=k.slice(0,L),q=k.slice(L+1).replace(/^[^']*'/,"");return m(j,q)}function b(k){return!k.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(k)?k:k.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(L,j,D,q){if(D==="q"||D==="Q")return q=q.replaceAll("_"," "),q=q.replaceAll(/=([0-9a-fA-F]{2})/g,function(z,ee){return String.fromCharCode(parseInt(ee,16))}),m(j,q);try{q=atob(q)}catch{}return m(j,q)})}return""}var s=n(473);function a({getResponseHeader:u,isHttp:f,rangeChunkSize:g,disableRange:d}){const m={allowRangeRequests:!1,suggestedLength:void 0},v=parseInt(u("Content-Length"),10);return!Number.isInteger(v)||(m.suggestedLength=v,v<=2*g)||d||!f||u("Accept-Ranges")!=="bytes"||(u("Content-Encoding")||"identity")!=="identity"||(m.allowRangeRequests=!0),m}function o(u){const f=u("Content-Disposition");if(f){let g=i(f);if(g.includes("%"))try{g=decodeURIComponent(g)}catch{}if((0,s.isPdfFile)(g))return g}return null}function l(u,f){return u===404||u===0&&f.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+f+'".'):new r.UnexpectedResponseException(`Unexpected server response (${u}) while retrieving PDF "${f}".`,u)}function c(u){return u===200||u===206}},498:(e,t,n)=>{n.a(e,async(r,i)=>{try{let g=function(L){const j=u.parse(L);return j.protocol==="file:"||j.host?j:/^[a-z]:[/\\]/i.test(L)?u.parse(`file:///${L}`):(j.host||(j.protocol="file:"),j)},h=function(L,j){return{protocol:L.protocol,auth:L.auth,host:L.hostname,port:L.port,path:L.path,method:"GET",headers:j}};n.d(t,{PDFNodeStream:()=>d});var s=n(266),a=n(253);let o,l,c,u;s.isNodeJS&&(o=await Ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),l=await Ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),c=await Ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),u=await Ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]));const f=/^file:\/\/\/[a-zA-Z]:\//;class d{constructor(j){this.source=j,this.url=g(j.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&j.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new b(this):new p(this),this._fullRequestReader}getRangeReader(j,D){if(D<=this._progressiveDataLength)return null;const q=this.isFsUrl?new k(this,j,D):new y(this,j,D);return this._rangeRequestReaders.push(q),q}cancelAllRequests(j){this._fullRequestReader?.cancel(j);for(const D of this._rangeRequestReaders.slice(0))D.cancel(j)}}class m{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null;const D=j.source;this._contentLength=D.length,this._loaded=0,this._filename=null,this._disableRange=D.disableRange||!1,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!D.disableStream,this._isRangeSupported=!D.disableRange,this._readableStream=null,this._readCapability=new s.PromiseCapability,this._headersCapability=new s.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=new s.PromiseCapability,this.read()):(this._loaded+=j.length,this.onProgress?.({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",D=>{this._error(D)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class v{constructor(j){this._url=j.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new s.PromiseCapability;const D=j.source;this._isStreamingSupported=!D.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const j=this._readableStream.read();return j===null?(this._readCapability=new s.PromiseCapability,this.read()):(this._loaded+=j.length,this.onProgress?.({loaded:this._loaded}),{value:new Uint8Array(j).buffer,done:!1})}cancel(j){if(!this._readableStream){this._error(j);return}this._readableStream.destroy(j)}_error(j){this._storedError=j,this._readCapability.resolve()}_setReadableStream(j){this._readableStream=j,j.on("readable",()=>{this._readCapability.resolve()}),j.on("end",()=>{j.destroy(),this._done=!0,this._readCapability.resolve()}),j.on("error",D=>{this._error(D)}),this._storedError&&this._readableStream.destroy(this._storedError)}}class p extends m{constructor(j){super(j);const D=q=>{if(q.statusCode===404){const H=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=H,this._headersCapability.reject(H);return}this._headersCapability.resolve(),this._setReadableStream(q);const z=H=>this._readableStream.headers[H.toLowerCase()],{allowRangeRequests:ee,suggestedLength:$}=(0,a.validateRangeRequestCapabilities)({getResponseHeader:z,isHttp:j.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ee,this._contentLength=$||this._contentLength,this._filename=(0,a.extractFilenameFromHeader)(z)};this._request=null,this._url.protocol==="http:"?this._request=l.request(h(this._url,j.httpHeaders),D):this._request=c.request(h(this._url,j.httpHeaders),D),this._request.on("error",q=>{this._storedError=q,this._headersCapability.reject(q)}),this._request.end()}}class y extends v{constructor(j,D,q){super(j),this._httpHeaders={};for(const ee in j.httpHeaders){const $=j.httpHeaders[ee];$!==void 0&&(this._httpHeaders[ee]=$)}this._httpHeaders.Range=`bytes=${D}-${q-1}`;const z=ee=>{if(ee.statusCode===404){const $=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=$;return}this._setReadableStream(ee)};this._request=null,this._url.protocol==="http:"?this._request=l.request(h(this._url,this._httpHeaders),z):this._request=c.request(h(this._url,this._httpHeaders),z),this._request.on("error",ee=>{this._storedError=ee}),this._request.end()}}class b extends m{constructor(j){super(j);let D=decodeURIComponent(this._url.path);f.test(this._url.href)&&(D=D.replace(/^\//,"")),o.lstat(D,(q,z)=>{if(q){q.code==="ENOENT"&&(q=new s.MissingPDFException(`Missing PDF "${D}".`)),this._storedError=q,this._headersCapability.reject(q);return}this._contentLength=z.size,this._setReadableStream(o.createReadStream(D)),this._headersCapability.resolve()})}}class k extends v{constructor(j,D,q){super(j);let z=decodeURIComponent(this._url.path);f.test(this._url.href)&&(z=z.replace(/^\//,"")),this._setReadableStream(o.createReadStream(z,{start:D,end:q-1}))}}i()}catch(o){i(o)}},1)},738:(e,t,n)=>{n.a(e,async(r,i)=>{try{n.d(t,{NodeCMapReaderFactory:()=>d,NodeCanvasFactory:()=>g,NodeFilterFactory:()=>f,NodeStandardFontDataFactory:()=>m});var s=n(822),a=n(266);let o,l,c;if(a.isNodeJS){o=await Ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);try{l=await Ws(()=>import("./__vite-browser-external-BIHI7g3E.js"),[])}catch{}try{c=await Ws(()=>import("./path2d-polyfill.esm-Bqvoz_29.js"),[])}catch{}}const u=function(v){return new Promise((h,p)=>{o.readFile(v,(y,b)=>{if(y||!b){p(new Error(y));return}h(new Uint8Array(b))})})};class f extends s.BaseFilterFactory{}class g extends s.BaseCanvasFactory{_createCanvas(h,p){return l.createCanvas(h,p)}}class d extends s.BaseCMapReaderFactory{_fetchData(h,p){return u(h).then(y=>({cMapData:y,compressionType:p}))}}class m extends s.BaseStandardFontDataFactory{_fetchData(h){return u(h)}}i()}catch(o){i(o)}},1)},890:(e,t,n)=>{n.d(t,{OptionalContentConfig:()=>o});var r=n(266),i=n(825);const s=Symbol("INTERNAL");class a{#e=!0;constructor(c,u){this.name=c,this.intent=u}get visible(){return this.#e}_setVisible(c,u){c!==s&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#e=u}}class o{#e=null;#t=new Map;#n=null;#r=null;constructor(c){if(this.name=null,this.creator=null,c!==null){this.name=c.name,this.creator=c.creator,this.#r=c.order;for(const u of c.groups)this.#t.set(u.id,new a(u.name,u.intent));if(c.baseState==="OFF")for(const u of this.#t.values())u._setVisible(s,!1);for(const u of c.on)this.#t.get(u)._setVisible(s,!0);for(const u of c.off)this.#t.get(u)._setVisible(s,!1);this.#n=this.getHash()}}#i(c){const u=c.length;if(u<2)return!0;const f=c[0];for(let g=1;g<u;g++){const d=c[g];let m;if(Array.isArray(d))m=this.#i(d);else if(this.#t.has(d))m=this.#t.get(d).visible;else return(0,r.warn)(`Optional content group not found: ${d}`),!0;switch(f){case"And":if(!m)return!1;break;case"Or":if(m)return!0;break;case"Not":return!m;default:return!0}}return f==="And"}isVisible(c){if(this.#t.size===0)return!0;if(!c)return(0,r.warn)("Optional content group not defined."),!0;if(c.type==="OCG")return this.#t.has(c.id)?this.#t.get(c.id).visible:((0,r.warn)(`Optional content group not found: ${c.id}`),!0);if(c.type==="OCMD"){if(c.expression)return this.#i(c.expression);if(!c.policy||c.policy==="AnyOn"){for(const u of c.ids){if(!this.#t.has(u))return(0,r.warn)(`Optional content group not found: ${u}`),!0;if(this.#t.get(u).visible)return!0}return!1}else if(c.policy==="AllOn"){for(const u of c.ids){if(!this.#t.has(u))return(0,r.warn)(`Optional content group not found: ${u}`),!0;if(!this.#t.get(u).visible)return!1}return!0}else if(c.policy==="AnyOff"){for(const u of c.ids){if(!this.#t.has(u))return(0,r.warn)(`Optional content group not found: ${u}`),!0;if(!this.#t.get(u).visible)return!0}return!1}else if(c.policy==="AllOff"){for(const u of c.ids){if(!this.#t.has(u))return(0,r.warn)(`Optional content group not found: ${u}`),!0;if(this.#t.get(u).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${c.policy}.`),!0}return(0,r.warn)(`Unknown group type ${c.type}.`),!0}setVisibility(c,u=!0){if(!this.#t.has(c)){(0,r.warn)(`Optional content group not found: ${c}`);return}this.#t.get(c)._setVisible(s,!!u),this.#e=null}get hasInitialVisibility(){return this.#n===null||this.getHash()===this.#n}getOrder(){return this.#t.size?this.#r?this.#r.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,r.objectFromMap)(this.#t):null}getGroup(c){return this.#t.get(c)||null}getHash(){if(this.#e!==null)return this.#e;const c=new i.MurmurHash3_64;for(const[u,f]of this.#t)c.update(`${u}:${f.visible}`);return this.#e=c.hexdigest()}}},739:(e,t,n)=>{n.d(t,{renderTextLayer:()=>v,updateTextLayer:()=>h});var r=n(266),i=n(473);const s=1e5,a=30,o=.8,l=new Map;function c(p,y){let b;if(y&&r.FeatureTest.isOffscreenCanvasSupported)b=new OffscreenCanvas(p,p).getContext("2d",{alpha:!1});else{const k=document.createElement("canvas");k.width=k.height=p,b=k.getContext("2d",{alpha:!1})}return b}function u(p,y){const b=l.get(p);if(b)return b;const k=c(a,y);k.font=`${a}px ${p}`;const L=k.measureText("");let j=L.fontBoundingBoxAscent,D=Math.abs(L.fontBoundingBoxDescent);if(j){const z=j/(j+D);return l.set(p,z),k.canvas.width=k.canvas.height=0,z}k.strokeStyle="red",k.clearRect(0,0,a,a),k.strokeText("g",0,0);let q=k.getImageData(0,0,a,a).data;D=0;for(let z=q.length-1-3;z>=0;z-=4)if(q[z]>0){D=Math.ceil(z/4/a);break}k.clearRect(0,0,a,a),k.strokeText("A",0,a),q=k.getImageData(0,0,a,a).data,j=0;for(let z=0,ee=q.length;z<ee;z+=4)if(q[z]>0){j=a-Math.floor(z/4/a);break}if(k.canvas.width=k.canvas.height=0,j){const z=j/(j+D);return l.set(p,z),z}return l.set(p,o),o}function f(p,y,b){const k=document.createElement("span"),L={angle:0,canvasWidth:0,hasText:y.str!=="",hasEOL:y.hasEOL,fontSize:0};p._textDivs.push(k);const j=r.Util.transform(p._transform,y.transform);let D=Math.atan2(j[1],j[0]);const q=b[y.fontName];q.vertical&&(D+=Math.PI/2);const z=p._fontInspectorEnabled&&q.fontSubstitution||q.fontFamily,ee=Math.hypot(j[2],j[3]),$=ee*u(z,p._isOffscreenCanvasSupported);let H,ae;D===0?(H=j[4],ae=j[5]-$):(H=j[4]+$*Math.sin(D),ae=j[5]-$*Math.cos(D));const Y="calc(var(--scale-factor)*",Q=k.style;p._container===p._rootContainer?(Q.left=`${(100*H/p._pageWidth).toFixed(2)}%`,Q.top=`${(100*ae/p._pageHeight).toFixed(2)}%`):(Q.left=`${Y}${H.toFixed(2)}px)`,Q.top=`${Y}${ae.toFixed(2)}px)`),Q.fontSize=`${Y}${ee.toFixed(2)}px)`,Q.fontFamily=z,L.fontSize=ee,k.setAttribute("role","presentation"),k.textContent=y.str,k.dir=y.dir,p._fontInspectorEnabled&&(k.dataset.fontName=q.fontSubstitutionLoadedName||y.fontName),D!==0&&(L.angle=D*(180/Math.PI));let ie=!1;if(y.str.length>1)ie=!0;else if(y.str!==" "&&y.transform[0]!==y.transform[3]){const fe=Math.abs(y.transform[0]),W=Math.abs(y.transform[3]);fe!==W&&Math.max(fe,W)/Math.min(fe,W)>1.5&&(ie=!0)}ie&&(L.canvasWidth=q.vertical?y.height:y.width),p._textDivProperties.set(k,L),p._isReadableStream&&p._layoutText(k)}function g(p){const{div:y,scale:b,properties:k,ctx:L,prevFontSize:j,prevFontFamily:D}=p,{style:q}=y;let z="";if(k.canvasWidth!==0&&k.hasText){const{fontFamily:ee}=q,{canvasWidth:$,fontSize:H}=k;(j!==H||D!==ee)&&(L.font=`${H*b}px ${ee}`,p.prevFontSize=H,p.prevFontFamily=ee);const{width:ae}=L.measureText(y.textContent);ae>0&&(z=`scaleX(${$*b/ae})`)}k.angle!==0&&(z=`rotate(${k.angle}deg) ${z}`),z.length>0&&(q.transform=z)}function d(p){if(p._canceled)return;const y=p._textDivs,b=p._capability;if(y.length>s){b.resolve();return}if(!p._isReadableStream)for(const L of y)p._layoutText(L);b.resolve()}class m{constructor({textContentSource:y,container:b,viewport:k,textDivs:L,textDivProperties:j,textContentItemsStr:D,isOffscreenCanvasSupported:q}){this._textContentSource=y,this._isReadableStream=y instanceof ReadableStream,this._container=this._rootContainer=b,this._textDivs=L||[],this._textContentItemsStr=D||[],this._isOffscreenCanvasSupported=q,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._textDivProperties=j||new WeakMap,this._canceled=!1,this._capability=new r.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:k.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:c(0,q)};const{pageWidth:z,pageHeight:ee,pageX:$,pageY:H}=k.rawDims;this._transform=[1,0,0,-1,-$,H+ee],this._pageWidth=z,this._pageHeight=ee,(0,i.setLayerDimensions)(b,k),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new r.AbortException("TextLayer task cancelled."))}_processItems(y,b){for(const k of y){if(k.str===void 0){if(k.type==="beginMarkedContentProps"||k.type==="beginMarkedContent"){const L=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),k.id!==null&&this._container.setAttribute("id",`${k.id}`),L.append(this._container)}else k.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(k.str),f(this,k,b)}}_layoutText(y){const b=this._layoutTextParams.properties=this._textDivProperties.get(y);if(this._layoutTextParams.div=y,g(this._layoutTextParams),b.hasText&&this._container.append(y),b.hasEOL){const k=document.createElement("br");k.setAttribute("role","presentation"),this._container.append(k)}}_render(){const y=new r.PromiseCapability;let b=Object.create(null);if(this._isReadableStream){const k=()=>{this._reader.read().then(({value:L,done:j})=>{if(j){y.resolve();return}Object.assign(b,L.styles),this._processItems(L.items,b),k()},y.reject)};this._reader=this._textContentSource.getReader(),k()}else if(this._textContentSource){const{items:k,styles:L}=this._textContentSource;this._processItems(k,L),y.resolve()}else throw new Error('No "textContentSource" parameter specified.');y.promise.then(()=>{b=null,d(this)},this._capability.reject)}}function v(p){const y=new m(p);return y._render(),y}function h({container:p,viewport:y,textDivs:b,textDivProperties:k,isOffscreenCanvasSupported:L,mustRotate:j=!0,mustRescale:D=!0}){if(j&&(0,i.setLayerDimensions)(p,{rotation:y.rotation}),D){const q=c(0,L),ee={prevFontSize:null,prevFontFamily:null,div:null,scale:y.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:q};for(const $ of b)ee.properties=k.get($),ee.div=$,g(ee)}}},92:(e,t,n)=>{n.d(t,{PDFDataTransportStream:()=>s});var r=n(266),i=n(473);class s{constructor({length:c,initialData:u,progressiveDone:f=!1,contentDispositionFilename:g=null,disableRange:d=!1,disableStream:m=!1},v){if((0,r.assert)(v,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=f,this._contentDispositionFilename=g,u?.length>0){const h=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;this._queuedChunks.push(h)}this._pdfDataRangeTransport=v,this._isStreamingSupported=!m,this._isRangeSupported=!d,this._contentLength=c,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((h,p)=>{this._onReceiveData({begin:h,chunk:p})}),this._pdfDataRangeTransport.addProgressListener((h,p)=>{this._onProgress({loaded:h,total:p})}),this._pdfDataRangeTransport.addProgressiveReadListener(h=>{this._onReceiveData({chunk:h})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:c,chunk:u}){const f=u instanceof Uint8Array&&u.byteLength===u.buffer.byteLength?u.buffer:new Uint8Array(u).buffer;if(c===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(f):this._queuedChunks.push(f);else{const g=this._rangeReaders.some(function(d){return d._begin!==c?!1:(d._enqueue(f),!0)});(0,r.assert)(g,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(c){c.total===void 0?this._rangeReaders[0]?.onProgress?.({loaded:c.loaded}):this._fullRequestReader?.onProgress?.({loaded:c.loaded,total:c.total})}_onProgressiveDone(){this._fullRequestReader?.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(c){const u=this._rangeReaders.indexOf(c);u>=0&&this._rangeReaders.splice(u,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const c=this._queuedChunks;return this._queuedChunks=null,new a(this,c,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(c,u){if(u<=this._progressiveDataLength)return null;const f=new o(this,c,u);return this._pdfDataRangeTransport.requestDataRange(c,u),this._rangeReaders.push(f),f}cancelAllRequests(c){this._fullRequestReader?.cancel(c);for(const u of this._rangeReaders.slice(0))u.cancel(c);this._pdfDataRangeTransport.abort()}}class a{constructor(c,u,f=!1,g=null){this._stream=c,this._done=f||!1,this._filename=(0,i.isPdfFile)(g)?g:null,this._queuedChunks=u||[],this._loaded=0;for(const d of this._queuedChunks)this._loaded+=d.byteLength;this._requests=[],this._headersReady=Promise.resolve(),c._fullRequestReader=this,this.onProgress=null}_enqueue(c){this._done||(this._requests.length>0?this._requests.shift().resolve({value:c,done:!1}):this._queuedChunks.push(c),this._loaded+=c.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const c=new r.PromiseCapability;return this._requests.push(c),c.promise}cancel(c){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class o{constructor(c,u,f){this._stream=c,this._begin=u,this._end=f,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(c){if(!this._done){if(this._requests.length===0)this._queuedChunk=c;else{this._requests.shift().resolve({value:c,done:!1});for(const f of this._requests)f.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const u=this._queuedChunk;return this._queuedChunk=null,{value:u,done:!1}}if(this._done)return{value:void 0,done:!0};const c=new r.PromiseCapability;return this._requests.push(c),c.promise}cancel(c){this._done=!0;for(const u of this._requests)u.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},368:(e,t,n)=>{n.d(t,{GlobalWorkerOptions:()=>r});const r=Object.create(null);r.workerPort=null,r.workerSrc=""},160:(e,t,n)=>{n.d(t,{XfaLayer:()=>i});var r=n(521);class i{static setupStorage(a,o,l,c,u){const f=c.getValue(o,{value:null});switch(l.name){case"textarea":if(f.value!==null&&(a.textContent=f.value),u==="print")break;a.addEventListener("input",g=>{c.setValue(o,{value:g.target.value})});break;case"input":if(l.attributes.type==="radio"||l.attributes.type==="checkbox"){if(f.value===l.attributes.xfaOn?a.setAttribute("checked",!0):f.value===l.attributes.xfaOff&&a.removeAttribute("checked"),u==="print")break;a.addEventListener("change",g=>{c.setValue(o,{value:g.target.checked?g.target.getAttribute("xfaOn"):g.target.getAttribute("xfaOff")})})}else{if(f.value!==null&&a.setAttribute("value",f.value),u==="print")break;a.addEventListener("input",g=>{c.setValue(o,{value:g.target.value})})}break;case"select":if(f.value!==null){a.setAttribute("value",f.value);for(const g of l.children)g.attributes.value===f.value?g.attributes.selected=!0:g.attributes.hasOwnProperty("selected")&&delete g.attributes.selected}a.addEventListener("input",g=>{const d=g.target.options,m=d.selectedIndex===-1?"":d[d.selectedIndex].value;c.setValue(o,{value:m})});break}}static setAttributes({html:a,element:o,storage:l=null,intent:c,linkService:u}){const{attributes:f}=o,g=a instanceof HTMLAnchorElement;f.type==="radio"&&(f.name=`${f.name}-${c}`);for(const[d,m]of Object.entries(f))if(m!=null)switch(d){case"class":m.length&&a.setAttribute(d,m.join(" "));break;case"dataId":break;case"id":a.setAttribute("data-element-id",m);break;case"style":Object.assign(a.style,m);break;case"textContent":a.textContent=m;break;default:(!g||d!=="href"&&d!=="newWindow")&&a.setAttribute(d,m)}g&&u.addLinkAttributes(a,f.href,f.newWindow),l&&f.dataId&&this.setupStorage(a,f.dataId,o,l)}static render(a){const o=a.annotationStorage,l=a.linkService,c=a.xfaHtml,u=a.intent||"display",f=document.createElement(c.name);c.attributes&&this.setAttributes({html:f,element:c,intent:u,linkService:l});const g=u!=="richText",d=a.div;if(d.append(f),a.viewport){const h=`matrix(${a.viewport.transform.join(",")})`;d.style.transform=h}g&&d.setAttribute("class","xfaLayer xfaFont");const m=[];if(c.children.length===0){if(c.value){const h=document.createTextNode(c.value);f.append(h),g&&r.XfaText.shouldBuildText(c.name)&&m.push(h)}return{textDivs:m}}const v=[[c,-1,f]];for(;v.length>0;){const[h,p,y]=v.at(-1);if(p+1===h.children.length){v.pop();continue}const b=h.children[++v.at(-1)[1]];if(b===null)continue;const{name:k}=b;if(k==="#text"){const j=document.createTextNode(b.value);m.push(j),y.append(j);continue}const L=b?.attributes?.xmlns?document.createElementNS(b.attributes.xmlns,k):document.createElement(k);if(y.append(L),b.attributes&&this.setAttributes({html:L,element:b,storage:o,intent:u,linkService:l}),b.children?.length>0)v.push([b,-1,L]);else if(b.value){const j=document.createTextNode(b.value);g&&r.XfaText.shouldBuildText(k)&&m.push(j),L.append(j)}}for(const h of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))h.setAttribute("readOnly",!0);return{textDivs:m}}static update(a){const o=`matrix(${a.viewport.transform.join(",")})`;a.div.style.transform=o,a.div.hidden=!1}}},521:(e,t,n)=>{n.d(t,{XfaText:()=>r});class r{static textContent(s){const a=[],o={items:a,styles:Object.create(null)};function l(c){if(!c)return;let u=null;const f=c.name;if(f==="#text")u=c.value;else if(r.shouldBuildText(f))c?.attributes?.textContent?u=c.attributes.textContent:c.value&&(u=c.value);else return;if(u!==null&&a.push({str:u}),!!c.children)for(const g of c.children)l(g)}return l(s),o}static shouldBuildText(s){return!(s==="textarea"||s==="input"||s==="option"||s==="select")}}},907:(e,t,n)=>{n.a(e,async(r,i)=>{try{n.d(t,{AbortException:()=>s.AbortException,AnnotationEditorLayer:()=>c.AnnotationEditorLayer,AnnotationEditorParamsType:()=>s.AnnotationEditorParamsType,AnnotationEditorType:()=>s.AnnotationEditorType,AnnotationEditorUIManager:()=>u.AnnotationEditorUIManager,AnnotationLayer:()=>f.AnnotationLayer,AnnotationMode:()=>s.AnnotationMode,CMapCompressionType:()=>s.CMapCompressionType,ColorPicker:()=>g.ColorPicker,DOMSVGFactory:()=>o.DOMSVGFactory,DrawLayer:()=>d.DrawLayer,FeatureTest:()=>s.FeatureTest,GlobalWorkerOptions:()=>m.GlobalWorkerOptions,ImageKind:()=>s.ImageKind,InvalidPDFException:()=>s.InvalidPDFException,MissingPDFException:()=>s.MissingPDFException,OPS:()=>s.OPS,Outliner:()=>v.Outliner,PDFDataRangeTransport:()=>a.PDFDataRangeTransport,PDFDateString:()=>o.PDFDateString,PDFWorker:()=>a.PDFWorker,PasswordResponses:()=>s.PasswordResponses,PermissionFlag:()=>s.PermissionFlag,PixelsPerInch:()=>o.PixelsPerInch,PromiseCapability:()=>s.PromiseCapability,RenderingCancelledException:()=>o.RenderingCancelledException,UnexpectedResponseException:()=>s.UnexpectedResponseException,Util:()=>s.Util,VerbosityLevel:()=>s.VerbosityLevel,XfaLayer:()=>h.XfaLayer,build:()=>a.build,createValidAbsoluteUrl:()=>s.createValidAbsoluteUrl,fetchData:()=>o.fetchData,getDocument:()=>a.getDocument,getFilenameFromUrl:()=>o.getFilenameFromUrl,getPdfFilenameFromUrl:()=>o.getPdfFilenameFromUrl,getXfaPageViewport:()=>o.getXfaPageViewport,isDataScheme:()=>o.isDataScheme,isPdfFile:()=>o.isPdfFile,noContextMenu:()=>o.noContextMenu,normalizeUnicode:()=>s.normalizeUnicode,renderTextLayer:()=>l.renderTextLayer,setLayerDimensions:()=>o.setLayerDimensions,shadow:()=>s.shadow,updateTextLayer:()=>l.updateTextLayer,version:()=>a.version});var s=n(266),a=n(406),o=n(473),l=n(739),c=n(629),u=n(812),f=n(640),g=n(97),d=n(423),m=n(368),v=n(405),h=n(160),p=r([a]);a=(p.then?(await p)():p)[0];const y="4.0.379",b="9e14d04fd";i()}catch(y){i(y)}})},694:(e,t,n)=>{n.d(t,{MessageHandler:()=>o});var r=n(266);const i={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function a(l){switch(l instanceof Error||typeof l=="object"&&l!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),l.name){case"AbortException":return new r.AbortException(l.message);case"MissingPDFException":return new r.MissingPDFException(l.message);case"PasswordException":return new r.PasswordException(l.message,l.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(l.message,l.status);case"UnknownErrorException":return new r.UnknownErrorException(l.message,l.details);default:return new r.UnknownErrorException(l.message,l.toString())}}class o{constructor(c,u,f){this.sourceName=c,this.targetName=u,this.comObj=f,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=g=>{const d=g.data;if(d.targetName!==this.sourceName)return;if(d.stream){this.#t(d);return}if(d.callback){const v=d.callbackId,h=this.callbackCapabilities[v];if(!h)throw new Error(`Cannot resolve callback ${v}`);if(delete this.callbackCapabilities[v],d.callback===i.DATA)h.resolve(d.data);else if(d.callback===i.ERROR)h.reject(a(d.reason));else throw new Error("Unexpected callback case");return}const m=this.actionHandler[d.action];if(!m)throw new Error(`Unknown action from worker: ${d.action}`);if(d.callbackId){const v=this.sourceName,h=d.sourceName;new Promise(function(p){p(m(d.data))}).then(function(p){f.postMessage({sourceName:v,targetName:h,callback:i.DATA,callbackId:d.callbackId,data:p})},function(p){f.postMessage({sourceName:v,targetName:h,callback:i.ERROR,callbackId:d.callbackId,reason:a(p)})});return}if(d.streamId){this.#e(d);return}m(d.data)},f.addEventListener("message",this._onComObjOnMessage)}on(c,u){const f=this.actionHandler;if(f[c])throw new Error(`There is already an actionName called "${c}"`);f[c]=u}send(c,u,f){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,data:u},f)}sendWithPromise(c,u,f){const g=this.callbackId++,d=new r.PromiseCapability;this.callbackCapabilities[g]=d;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:c,callbackId:g,data:u},f)}catch(m){d.reject(m)}return d.promise}sendWithStream(c,u,f,g){const d=this.streamId++,m=this.sourceName,v=this.targetName,h=this.comObj;return new ReadableStream({start:p=>{const y=new r.PromiseCapability;return this.streamControllers[d]={controller:p,startCall:y,pullCall:null,cancelCall:null,isClosed:!1},h.postMessage({sourceName:m,targetName:v,action:c,streamId:d,data:u,desiredSize:p.desiredSize},g),y.promise},pull:p=>{const y=new r.PromiseCapability;return this.streamControllers[d].pullCall=y,h.postMessage({sourceName:m,targetName:v,stream:s.PULL,streamId:d,desiredSize:p.desiredSize}),y.promise},cancel:p=>{(0,r.assert)(p instanceof Error,"cancel must have a valid reason");const y=new r.PromiseCapability;return this.streamControllers[d].cancelCall=y,this.streamControllers[d].isClosed=!0,h.postMessage({sourceName:m,targetName:v,stream:s.CANCEL,streamId:d,reason:a(p)}),y.promise}},f)}#e(c){const u=c.streamId,f=this.sourceName,g=c.sourceName,d=this.comObj,m=this,v=this.actionHandler[c.action],h={enqueue(p,y=1,b){if(this.isCancelled)return;const k=this.desiredSize;this.desiredSize-=y,k>0&&this.desiredSize<=0&&(this.sinkCapability=new r.PromiseCapability,this.ready=this.sinkCapability.promise),d.postMessage({sourceName:f,targetName:g,stream:s.ENQUEUE,streamId:u,chunk:p},b)},close(){this.isCancelled||(this.isCancelled=!0,d.postMessage({sourceName:f,targetName:g,stream:s.CLOSE,streamId:u}),delete m.streamSinks[u])},error(p){(0,r.assert)(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,d.postMessage({sourceName:f,targetName:g,stream:s.ERROR,streamId:u,reason:a(p)}))},sinkCapability:new r.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:c.desiredSize,ready:null};h.sinkCapability.resolve(),h.ready=h.sinkCapability.promise,this.streamSinks[u]=h,new Promise(function(p){p(v(c.data,h))}).then(function(){d.postMessage({sourceName:f,targetName:g,stream:s.START_COMPLETE,streamId:u,success:!0})},function(p){d.postMessage({sourceName:f,targetName:g,stream:s.START_COMPLETE,streamId:u,reason:a(p)})})}#t(c){const u=c.streamId,f=this.sourceName,g=c.sourceName,d=this.comObj,m=this.streamControllers[u],v=this.streamSinks[u];switch(c.stream){case s.START_COMPLETE:c.success?m.startCall.resolve():m.startCall.reject(a(c.reason));break;case s.PULL_COMPLETE:c.success?m.pullCall.resolve():m.pullCall.reject(a(c.reason));break;case s.PULL:if(!v){d.postMessage({sourceName:f,targetName:g,stream:s.PULL_COMPLETE,streamId:u,success:!0});break}v.desiredSize<=0&&c.desiredSize>0&&v.sinkCapability.resolve(),v.desiredSize=c.desiredSize,new Promise(function(h){h(v.onPull?.())}).then(function(){d.postMessage({sourceName:f,targetName:g,stream:s.PULL_COMPLETE,streamId:u,success:!0})},function(h){d.postMessage({sourceName:f,targetName:g,stream:s.PULL_COMPLETE,streamId:u,reason:a(h)})});break;case s.ENQUEUE:if((0,r.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(c.chunk);break;case s.CLOSE:if((0,r.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this.#n(m,u);break;case s.ERROR:(0,r.assert)(m,"error should have stream controller"),m.controller.error(a(c.reason)),this.#n(m,u);break;case s.CANCEL_COMPLETE:c.success?m.cancelCall.resolve():m.cancelCall.reject(a(c.reason)),this.#n(m,u);break;case s.CANCEL:if(!v)break;new Promise(function(h){h(v.onCancel?.(a(c.reason)))}).then(function(){d.postMessage({sourceName:f,targetName:g,stream:s.CANCEL_COMPLETE,streamId:u,success:!0})},function(h){d.postMessage({sourceName:f,targetName:g,stream:s.CANCEL_COMPLETE,streamId:u,reason:a(h)})}),v.sinkCapability.reject(a(c.reason)),v.isCancelled=!0,delete this.streamSinks[u];break;default:throw new Error("Unexpected stream case")}}async#n(c,u){await Promise.allSettled([c.startCall?.promise,c.pullCall?.promise,c.cancelCall?.promise]),delete this.streamControllers[u]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},825:(e,t,n)=>{n.d(t,{MurmurHash3_64:()=>o});var r=n(266);const i=3285377520,s=4294901760,a=65535;class o{constructor(c){this.h1=c?c&4294967295:i,this.h2=c?c&4294967295:i}update(c){let u,f;if(typeof c=="string"){u=new Uint8Array(c.length*2),f=0;for(let D=0,q=c.length;D<q;D++){const z=c.charCodeAt(D);z<=255?u[f++]=z:(u[f++]=z>>>8,u[f++]=z&255)}}else if((0,r.isArrayBuffer)(c))u=c.slice(),f=u.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const g=f>>2,d=f-g*4,m=new Uint32Array(u.buffer,0,g);let v=0,h=0,p=this.h1,y=this.h2;const b=3432918353,k=461845907,L=b&a,j=k&a;for(let D=0;D<g;D++)D&1?(v=m[D],v=v*b&s|v*L&a,v=v<<15|v>>>17,v=v*k&s|v*j&a,p^=v,p=p<<13|p>>>19,p=p*5+3864292196):(h=m[D],h=h*b&s|h*L&a,h=h<<15|h>>>17,h=h*k&s|h*j&a,y^=h,y=y<<13|y>>>19,y=y*5+3864292196);switch(v=0,d){case 3:v^=u[g*4+2]<<16;case 2:v^=u[g*4+1]<<8;case 1:v^=u[g*4],v=v*b&s|v*L&a,v=v<<15|v>>>17,v=v*k&s|v*j&a,g&1?p^=v:y^=v}this.h1=p,this.h2=y}hexdigest(){let c=this.h1,u=this.h2;return c^=u>>>1,c=c*3981806797&s|c*36045&a,u=u*4283543511&s|((u<<16|c>>>16)*2950163797&s)>>>16,c^=u>>>1,c=c*444984403&s|c*60499&a,u=u*3301882366&s|((u<<16|c>>>16)*3120437893&s)>>>16,c^=u>>>1,(c>>>0).toString(16).padStart(8,"0")+(u>>>0).toString(16).padStart(8,"0")}}},266:(e,t,n)=>{n.d(t,{AbortException:()=>X,AnnotationBorderStyleType:()=>p,AnnotationEditorParamsType:()=>g,AnnotationEditorPrefix:()=>u,AnnotationEditorType:()=>f,AnnotationMode:()=>c,AnnotationPrefix:()=>xe,AnnotationType:()=>h,BaseException:()=>ie,CMapCompressionType:()=>b,FONT_IDENTITY_MATRIX:()=>s,FeatureTest:()=>_,FormatError:()=>B,IDENTITY_MATRIX:()=>i,ImageKind:()=>v,InvalidPDFException:()=>se,LINE_FACTOR:()=>o,MAX_IMAGE_SIZE_TO_CACHE:()=>a,MissingPDFException:()=>oe,OPS:()=>k,PasswordException:()=>fe,PasswordResponses:()=>L,PermissionFlag:()=>d,PromiseCapability:()=>M,RenderingIntentFlag:()=>l,TextRenderingMode:()=>m,UnexpectedResponseException:()=>K,UnknownErrorException:()=>W,Util:()=>P,VerbosityLevel:()=>y,assert:()=>H,bytesToString:()=>ne,createValidAbsoluteUrl:()=>Y,getUuid:()=>he,getVerbosityLevel:()=>q,info:()=>z,isArrayBuffer:()=>U,isNodeJS:()=>r,normalizeUnicode:()=>de,objectFromMap:()=>E,setVerbosityLevel:()=>D,shadow:()=>Q,string32:()=>te,stringToBytes:()=>Z,unreachable:()=>$,warn:()=>ee});const r=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),i=[1,0,0,1,0,0],s=[.001,0,0,.001,0,0],a=1e7,o=1.35,l={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},c={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},u="pdfjs_internal_editor_",f={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},g={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32},d={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},m={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},v={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},h={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},p={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},y={ERRORS:0,WARNINGS:1,INFOS:5},b={NONE:0,BINARY:1},k={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},L={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let j=y.WARNINGS;function D(ve){Number.isInteger(ve)&&(j=ve)}function q(){return j}function z(ve){j>=y.INFOS&&console.log(`Info: ${ve}`)}function ee(ve){j>=y.WARNINGS&&console.log(`Warning: ${ve}`)}function $(ve){throw new Error(ve)}function H(ve,ce){ve||$(ce)}function ae(ve){switch(ve?.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Y(ve,ce=null,ge=null){if(!ve)return null;try{if(ge&&typeof ve=="string"&&(ge.addDefaultProtocol&&ve.startsWith("www.")&&ve.match(/\./g)?.length>=2&&(ve=`http://${ve}`),ge.tryConvertEncoding))try{ve=O(ve)}catch{}const Pe=ce?new URL(ve,ce):new URL(ve);if(ae(Pe))return Pe}catch{}return null}function Q(ve,ce,ge,Pe=!1){return Object.defineProperty(ve,ce,{value:ge,enumerable:!Pe,configurable:!0,writable:!1}),ge}const ie=function(){function ce(ge,Pe){this.constructor===ce&&$("Cannot initialize BaseException."),this.message=ge,this.name=Pe}return ce.prototype=new Error,ce.constructor=ce,ce}();class fe extends ie{constructor(ce,ge){super(ce,"PasswordException"),this.code=ge}}class W extends ie{constructor(ce,ge){super(ce,"UnknownErrorException"),this.details=ge}}class se extends ie{constructor(ce){super(ce,"InvalidPDFException")}}class oe extends ie{constructor(ce){super(ce,"MissingPDFException")}}class K extends ie{constructor(ce,ge){super(ce,"UnexpectedResponseException"),this.status=ge}}class B extends ie{constructor(ce){super(ce,"FormatError")}}class X extends ie{constructor(ce){super(ce,"AbortException")}}function ne(ve){(typeof ve!="object"||ve?.length===void 0)&&$("Invalid argument for bytesToString");const ce=ve.length,ge=8192;if(ce<ge)return String.fromCharCode.apply(null,ve);const Pe=[];for(let ke=0;ke<ce;ke+=ge){const Re=Math.min(ke+ge,ce),Fe=ve.subarray(ke,Re);Pe.push(String.fromCharCode.apply(null,Fe))}return Pe.join("")}function Z(ve){typeof ve!="string"&&$("Invalid argument for stringToBytes");const ce=ve.length,ge=new Uint8Array(ce);for(let Pe=0;Pe<ce;++Pe)ge[Pe]=ve.charCodeAt(Pe)&255;return ge}function te(ve){return String.fromCharCode(ve>>24&255,ve>>16&255,ve>>8&255,ve&255)}function E(ve){const ce=Object.create(null);for(const[ge,Pe]of ve)ce[ge]=Pe;return ce}function T(){const ve=new Uint8Array(4);return ve[0]=1,new Uint32Array(ve.buffer,0,1)[0]===1}function S(){try{return new Function(""),!0}catch{return!1}}class _{static get isLittleEndian(){return Q(this,"isLittleEndian",T())}static get isEvalSupported(){return Q(this,"isEvalSupported",S())}static get isOffscreenCanvasSupported(){return Q(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof navigator?.platform=="string"?Q(this,"platform",{isMac:navigator.platform.includes("Mac")}):Q(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){return Q(this,"isCSSRoundSupported",globalThis.CSS?.supports?.("width: round(1.5px, 1px)"))}}const C=[...Array(256).keys()].map(ve=>ve.toString(16).padStart(2,"0"));class P{static makeHexColor(ce,ge,Pe){return`#${C[ce]}${C[ge]}${C[Pe]}`}static scaleMinMax(ce,ge){let Pe;ce[0]?(ce[0]<0&&(Pe=ge[0],ge[0]=ge[1],ge[1]=Pe),ge[0]*=ce[0],ge[1]*=ce[0],ce[3]<0&&(Pe=ge[2],ge[2]=ge[3],ge[3]=Pe),ge[2]*=ce[3],ge[3]*=ce[3]):(Pe=ge[0],ge[0]=ge[2],ge[2]=Pe,Pe=ge[1],ge[1]=ge[3],ge[3]=Pe,ce[1]<0&&(Pe=ge[2],ge[2]=ge[3],ge[3]=Pe),ge[2]*=ce[1],ge[3]*=ce[1],ce[2]<0&&(Pe=ge[0],ge[0]=ge[1],ge[1]=Pe),ge[0]*=ce[2],ge[1]*=ce[2]),ge[0]+=ce[4],ge[1]+=ce[4],ge[2]+=ce[5],ge[3]+=ce[5]}static transform(ce,ge){return[ce[0]*ge[0]+ce[2]*ge[1],ce[1]*ge[0]+ce[3]*ge[1],ce[0]*ge[2]+ce[2]*ge[3],ce[1]*ge[2]+ce[3]*ge[3],ce[0]*ge[4]+ce[2]*ge[5]+ce[4],ce[1]*ge[4]+ce[3]*ge[5]+ce[5]]}static applyTransform(ce,ge){const Pe=ce[0]*ge[0]+ce[1]*ge[2]+ge[4],ke=ce[0]*ge[1]+ce[1]*ge[3]+ge[5];return[Pe,ke]}static applyInverseTransform(ce,ge){const Pe=ge[0]*ge[3]-ge[1]*ge[2],ke=(ce[0]*ge[3]-ce[1]*ge[2]+ge[2]*ge[5]-ge[4]*ge[3])/Pe,Re=(-ce[0]*ge[1]+ce[1]*ge[0]+ge[4]*ge[1]-ge[5]*ge[0])/Pe;return[ke,Re]}static getAxialAlignedBoundingBox(ce,ge){const Pe=this.applyTransform(ce,ge),ke=this.applyTransform(ce.slice(2,4),ge),Re=this.applyTransform([ce[0],ce[3]],ge),Fe=this.applyTransform([ce[2],ce[1]],ge);return[Math.min(Pe[0],ke[0],Re[0],Fe[0]),Math.min(Pe[1],ke[1],Re[1],Fe[1]),Math.max(Pe[0],ke[0],Re[0],Fe[0]),Math.max(Pe[1],ke[1],Re[1],Fe[1])]}static inverseTransform(ce){const ge=ce[0]*ce[3]-ce[1]*ce[2];return[ce[3]/ge,-ce[1]/ge,-ce[2]/ge,ce[0]/ge,(ce[2]*ce[5]-ce[4]*ce[3])/ge,(ce[4]*ce[1]-ce[5]*ce[0])/ge]}static singularValueDecompose2dScale(ce){const ge=[ce[0],ce[2],ce[1],ce[3]],Pe=ce[0]*ge[0]+ce[1]*ge[2],ke=ce[0]*ge[1]+ce[1]*ge[3],Re=ce[2]*ge[0]+ce[3]*ge[2],Fe=ce[2]*ge[1]+ce[3]*ge[3],Ue=(Pe+Fe)/2,Me=Math.sqrt((Pe+Fe)**2-4*(Pe*Fe-Re*ke))/2,Be=Ue+Me||1,De=Ue-Me||1;return[Math.sqrt(Be),Math.sqrt(De)]}static normalizeRect(ce){const ge=ce.slice(0);return ce[0]>ce[2]&&(ge[0]=ce[2],ge[2]=ce[0]),ce[1]>ce[3]&&(ge[1]=ce[3],ge[3]=ce[1]),ge}static intersect(ce,ge){const Pe=Math.max(Math.min(ce[0],ce[2]),Math.min(ge[0],ge[2])),ke=Math.min(Math.max(ce[0],ce[2]),Math.max(ge[0],ge[2]));if(Pe>ke)return null;const Re=Math.max(Math.min(ce[1],ce[3]),Math.min(ge[1],ge[3])),Fe=Math.min(Math.max(ce[1],ce[3]),Math.max(ge[1],ge[3]));return Re>Fe?null:[Pe,Re,ke,Fe]}static bezierBoundingBox(ce,ge,Pe,ke,Re,Fe,Ue,Me){const Be=[],De=[[],[]];let lt,Je,Qe,We,Et,Xe,Lt,Ze;for(let rt=0;rt<2;++rt){if(rt===0?(Je=6*ce-12*Pe+6*Re,lt=-3*ce+9*Pe-9*Re+3*Ue,Qe=3*Pe-3*ce):(Je=6*ge-12*ke+6*Fe,lt=-3*ge+9*ke-9*Fe+3*Me,Qe=3*ke-3*ge),Math.abs(lt)<1e-12){if(Math.abs(Je)<1e-12)continue;We=-Qe/Je,0<We&&We<1&&Be.push(We);continue}Lt=Je*Je-4*Qe*lt,Ze=Math.sqrt(Lt),!(Lt<0)&&(Et=(-Je+Ze)/(2*lt),0<Et&&Et<1&&Be.push(Et),Xe=(-Je-Ze)/(2*lt),0<Xe&&Xe<1&&Be.push(Xe))}let nt=Be.length,_t;const vt=nt;for(;nt--;)We=Be[nt],_t=1-We,De[0][nt]=_t*_t*_t*ce+3*_t*_t*We*Pe+3*_t*We*We*Re+We*We*We*Ue,De[1][nt]=_t*_t*_t*ge+3*_t*_t*We*ke+3*_t*We*We*Fe+We*We*We*Me;return De[0][vt]=ce,De[1][vt]=ge,De[0][vt+1]=Ue,De[1][vt+1]=Me,De[0].length=De[1].length=vt+2,[Math.min(...De[0]),Math.min(...De[1]),Math.max(...De[0]),Math.max(...De[1])]}}function O(ve){return decodeURIComponent(escape(ve))}function U(ve){return typeof ve=="object"&&ve?.byteLength!==void 0}class M{#e=!1;constructor(){this.promise=new Promise((ce,ge)=>{this.resolve=Pe=>{this.#e=!0,ce(Pe)},this.reject=Pe=>{this.#e=!0,ge(Pe)}})}get settled(){return this.#e}}let J=null,pe=null;function de(ve){return J||(J=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,pe=new Map([["","t"]])),ve.replaceAll(J,(ce,ge,Pe)=>ge?ge.normalize("NFKC"):pe.get(Pe))}function he(){if(typeof crypto<"u"&&typeof crypto?.randomUUID=="function")return crypto.randomUUID();const ve=new Uint8Array(32);if(typeof crypto<"u"&&typeof crypto?.getRandomValues=="function")crypto.getRandomValues(ve);else for(let ce=0;ce<32;ce++)ve[ce]=Math.floor(Math.random()*255);return ne(ve)}const xe="pdfjs_internal_id_"}},BS={};function ql(e){var t=BS[e];if(t!==void 0)return t.exports;var n=BS[e]={exports:{}};return OV[e](n,n.exports,ql),n.exports}(()=>{var e=typeof Symbol=="function"?Symbol("webpack queues"):"__webpack_queues__",t=typeof Symbol=="function"?Symbol("webpack exports"):"__webpack_exports__",n=typeof Symbol=="function"?Symbol("webpack error"):"__webpack_error__",r=s=>{s&&s.d<1&&(s.d=1,s.forEach(a=>a.r--),s.forEach(a=>a.r--?a.r++:a()))},i=s=>s.map(a=>{if(a!==null&&typeof a=="object"){if(a[e])return a;if(a.then){var o=[];o.d=0,a.then(u=>{l[t]=u,r(o)},u=>{l[n]=u,r(o)});var l={};return l[e]=u=>u(o),l}}var c={};return c[e]=u=>{},c[t]=a,c});ql.a=(s,a,o)=>{var l;o&&((l=[]).d=-1);var c=new Set,u=s.exports,f,g,d,m=new Promise((v,h)=>{d=h,g=v});m[t]=u,m[e]=v=>(l&&v(l),c.forEach(v),m.catch(h=>{})),s.exports=m,a(v=>{f=i(v);var h,p=()=>f.map(b=>{if(b[n])throw b[n];return b[t]}),y=new Promise(b=>{h=()=>b(p),h.r=0;var k=L=>L!==l&&!c.has(L)&&(c.add(L),L&&!L.d&&(h.r++,L.push(h)));f.map(L=>L[e](k))});return h.r?y:p()},v=>(v?d(m[n]=v):g(u),r(l))),l&&l.d<0&&(l.d=0)}})();ql.d=(e,t)=>{for(var n in t)ql.o(t,n)&&!ql.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})};ql.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var Ct=ql(907);Ct=globalThis.pdfjsLib=await(globalThis.pdfjsLibPromise=Ct);Ct.AbortException;Ct.AnnotationEditorLayer;Ct.AnnotationEditorParamsType;Ct.AnnotationEditorType;Ct.AnnotationEditorUIManager;Ct.AnnotationLayer;Ct.AnnotationMode;Ct.CMapCompressionType;Ct.ColorPicker;Ct.DOMSVGFactory;Ct.DrawLayer;Ct.FeatureTest;var jV=Ct.GlobalWorkerOptions;Ct.ImageKind;Ct.InvalidPDFException;Ct.MissingPDFException;Ct.OPS;Ct.Outliner;Ct.PDFDataRangeTransport;Ct.PDFDateString;Ct.PDFWorker;Ct.PasswordResponses;Ct.PermissionFlag;Ct.PixelsPerInch;Ct.PromiseCapability;Ct.RenderingCancelledException;Ct.UnexpectedResponseException;Ct.Util;Ct.VerbosityLevel;Ct.XfaLayer;Ct.build;Ct.createValidAbsoluteUrl;Ct.fetchData;var DV=Ct.getDocument;Ct.getFilenameFromUrl;Ct.getPdfFilenameFromUrl;Ct.getXfaPageViewport;Ct.isDataScheme;Ct.isPdfFile;Ct.noContextMenu;Ct.normalizeUnicode;Ct.renderTextLayer;Ct.setLayerDimensions;Ct.shadow;Ct.updateTextLayer;Ct.version;jV.workerSrc="https://unpkg.com/pdfjs-dist@4.0.379/build/pdf.worker.min.mjs";async function FV(e){try{const t=await e.arrayBuffer(),n=await DV({data:t}).promise,r=[];for(let i=1;i<=n.numPages;i++){const o=(await(await n.getPage(i)).getTextContent()).items.map(l=>l.str).join(" ");r.push(`--- Page ${i} ---
${o}`)}return r.join(`

`)}catch(t){throw console.error("PDF extraction error:",t),new Error("Failed to extract text from PDF")}}function hn(e){"@babel/helpers - typeof";return hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hn(e)}var Ns=Uint8Array,Ci=Uint16Array,J2=Int32Array,Q2=new Ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ex=new Ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),US=new Ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ZP=function(e,t){for(var n=new Ci(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var i=new J2(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},JP=ZP(Q2,2),BV=JP.b,Tw=JP.r;BV[28]=258,Tw[258]=28;var UV=ZP(ex,0),$S=UV.r,Pw=new Ci(32768);for(var Nn=0;Nn<32768;++Nn){var fo=(Nn&43690)>>1|(Nn&21845)<<1;fo=(fo&52428)>>2|(fo&13107)<<2,fo=(fo&61680)>>4|(fo&3855)<<4,Pw[Nn]=((fo&65280)>>8|(fo&255)<<8)>>1}var vh=function(e,t,n){for(var r=e.length,i=0,s=new Ci(t);i<r;++i)e[i]&&++s[e[i]-1];var a=new Ci(t);for(i=1;i<t;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Ci(1<<t);var l=15-t;for(i=0;i<r;++i)if(e[i])for(var c=i<<4|e[i],u=t-e[i],f=a[e[i]-1]++<<u,g=f|(1<<u)-1;f<=g;++f)o[Pw[f]>>l]=c}else for(o=new Ci(r),i=0;i<r;++i)e[i]&&(o[i]=Pw[a[e[i]-1]++]>>15-e[i]);return o},tc=new Ns(288);for(var Nn=0;Nn<144;++Nn)tc[Nn]=8;for(var Nn=144;Nn<256;++Nn)tc[Nn]=9;for(var Nn=256;Nn<280;++Nn)tc[Nn]=7;for(var Nn=280;Nn<288;++Nn)tc[Nn]=8;var Lg=new Ns(32);for(var Nn=0;Nn<32;++Nn)Lg[Nn]=5;var $V=vh(tc,9,0),zV=vh(Lg,5,0),QP=function(e){return(e+7)/8|0},qV=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new Ns(e.subarray(t,n))},Ea=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Wd=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},A1=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,s=n.slice();if(!i)return{t:tR,l:0};if(i==1){var a=new Ns(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(L,j){return L.f-j.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var d=new Ci(g+1),m=Rw(n[u-1],d,0);if(m>t){var r=0,v=0,h=m-t,p=1<<h;for(s.sort(function(j,D){return d[D.s]-d[j.s]||j.f-D.f});r<i;++r){var y=s[r].s;if(d[y]>t)v+=p-(1<<m-d[y]),d[y]=t;else break}for(v>>=h;v>0;){var b=s[r].s;d[b]<t?v-=1<<t-d[b]++-1:++r}for(;r>=0&&v;--r){var k=s[r].s;d[k]==t&&(--d[k],++v)}m=t}return{t:new Ns(d),l:m}},Rw=function(e,t,n){return e.s==-1?Math.max(Rw(e.l,t,n+1),Rw(e.r,t,n+1)):t[e.s]=n},zS=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ci(++t),r=0,i=e[0],s=1,a=function(l){n[r++]=l},o=1;o<=t;++o)if(e[o]==i&&o!=t)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=e[o]}return{c:n.subarray(0,r),n:t}},Vd=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},eR=function(e,t,n){var r=n.length,i=QP(t+2);e[i]=r&255,e[i+1]=r>>8,e[i+2]=e[i]^255,e[i+3]=e[i+1]^255;for(var s=0;s<r;++s)e[i+s+4]=n[s];return(i+4+r)*8},qS=function(e,t,n,r,i,s,a,o,l,c,u){Ea(t,u++,n),++i[256];for(var f=A1(i,15),g=f.t,d=f.l,m=A1(s,15),v=m.t,h=m.l,p=zS(g),y=p.c,b=p.n,k=zS(v),L=k.c,j=k.n,D=new Ci(19),q=0;q<y.length;++q)++D[y[q]&31];for(var q=0;q<L.length;++q)++D[L[q]&31];for(var z=A1(D,7),ee=z.t,$=z.l,H=19;H>4&&!ee[US[H-1]];--H);var ae=c+5<<3,Y=Vd(i,tc)+Vd(s,Lg)+a,Q=Vd(i,g)+Vd(s,v)+a+14+3*H+Vd(D,ee)+2*D[16]+3*D[17]+7*D[18];if(l>=0&&ae<=Y&&ae<=Q)return eR(t,u,e.subarray(l,l+c));var ie,fe,W,se;if(Ea(t,u,1+(Q<Y)),u+=2,Q<Y){ie=vh(g,d,0),fe=g,W=vh(v,h,0),se=v;var oe=vh(ee,$,0);Ea(t,u,b-257),Ea(t,u+5,j-1),Ea(t,u+10,H-4),u+=14;for(var q=0;q<H;++q)Ea(t,u+3*q,ee[US[q]]);u+=3*H;for(var K=[y,L],B=0;B<2;++B)for(var X=K[B],q=0;q<X.length;++q){var ne=X[q]&31;Ea(t,u,oe[ne]),u+=ee[ne],ne>15&&(Ea(t,u,X[q]>>5&127),u+=X[q]>>12)}}else ie=$V,fe=tc,W=zV,se=Lg;for(var q=0;q<o;++q){var Z=r[q];if(Z>255){var ne=Z>>18&31;Wd(t,u,ie[ne+257]),u+=fe[ne+257],ne>7&&(Ea(t,u,Z>>23&31),u+=Q2[ne]);var te=Z&31;Wd(t,u,W[te]),u+=se[te],te>3&&(Wd(t,u,Z>>5&8191),u+=ex[te])}else Wd(t,u,ie[Z]),u+=fe[Z]}return Wd(t,u,ie[256]),u+fe[256]},HV=new J2([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),tR=new Ns(0),WV=function(e,t,n,r,i,s){var a=s.z||e.length,o=new Ns(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=(s.r||0)&7;if(t){u&&(l[0]=s.r>>3);for(var f=HV[t-1],g=f>>13,d=f&8191,m=(1<<n)-1,v=s.p||new Ci(32768),h=s.h||new Ci(m+1),p=Math.ceil(n/3),y=2*p,b=function(U){return(e[U]^e[U+1]<<p^e[U+2]<<y)&m},k=new J2(25e3),L=new Ci(288),j=new Ci(32),D=0,q=0,z=s.i||0,ee=0,$=s.w||0,H=0;z+2<a;++z){var ae=b(z),Y=z&32767,Q=h[ae];if(v[Y]=Q,h[ae]=Y,$<=z){var ie=a-z;if((D>7e3||ee>24576)&&(ie>423||!c)){u=qS(e,l,0,k,L,j,q,ee,H,z-H,u),ee=D=q=0,H=z;for(var fe=0;fe<286;++fe)L[fe]=0;for(var fe=0;fe<30;++fe)j[fe]=0}var W=2,se=0,oe=d,K=Y-Q&32767;if(ie>2&&ae==b(z-K))for(var B=Math.min(g,ie)-1,X=Math.min(32767,z),ne=Math.min(258,ie);K<=X&&--oe&&Y!=Q;){if(e[z+W]==e[z+W-K]){for(var Z=0;Z<ne&&e[z+Z]==e[z+Z-K];++Z);if(Z>W){if(W=Z,se=K,Z>B)break;for(var te=Math.min(K,Z-2),E=0,fe=0;fe<te;++fe){var T=z-K+fe&32767,S=v[T],_=T-S&32767;_>E&&(E=_,Q=T)}}}Y=Q,Q=v[Y],K+=Y-Q&32767}if(se){k[ee++]=268435456|Tw[W]<<18|$S[se];var C=Tw[W]&31,P=$S[se]&31;q+=Q2[C]+ex[P],++L[257+C],++j[P],$=z+W,++D}else k[ee++]=e[z],++L[e[z]]}}for(z=Math.max(z,$);z<a;++z)k[ee++]=e[z],++L[e[z]];u=qS(e,l,c,k,L,j,q,ee,H,z-H,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=h,s.p=v,s.i=z,s.w=$)}else{for(var z=s.w||0;z<a+c;z+=65535){var O=z+65535;O>=a&&(l[u/8|0]=c,O=a),u=eR(l,u+1,e.subarray(z,O))}s.i=a}return qV(o,0,r+QP(u)+i)},nR=function(){var e=1,t=0;return{p:function(n){for(var r=e,i=t,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}e=r,t=i},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},VV=function(e,t,n,r,i){if(!i&&(i={l:1},t.dictionary)){var s=t.dictionary.subarray(-32768),a=new Ns(s.length+e.length);a.set(s),a.set(e,s.length),e=a,i.w=s.length}return WV(e,t.level==null?6:t.level,t.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,i)},rR=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},GV=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var i=nR();i.p(t.dictionary),rR(e,2,i.d())}};function Lw(e,t){t||(t={});var n=nR();n.p(e);var r=VV(e,t,t.dictionary?6:2,4);return GV(r,t),rR(r,r.length-4,n.d()),r}var YV=typeof TextDecoder<"u"&&new TextDecoder,KV=0;try{YV.decode(tR,{stream:!0}),KV=1}catch{}function XV(e){if(Array.isArray(e))return e}function ZV(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function HS(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function JV(e,t){if(e){if(typeof e=="string")return HS(e,t);var n={}.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?HS(e,t):void 0}}function QV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WS(e,t){return XV(e)||ZV(e,t)||JV(e,t)||QV()}function VS(e,t="utf8"){return new TextDecoder(t).decode(e)}const eG=new TextEncoder;function tG(e){return eG.encode(e)}const nG=1024*8,rG=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),k1={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class tx{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(t=nG,n={}){let r=!1;typeof t=="number"?t=new ArrayBuffer(t):(r=!0,this.lastWrittenByte=t.byteLength);const i=n.offset?n.offset>>>0:0,s=t.byteLength-i;let a=i;(ArrayBuffer.isView(t)||t instanceof tx)&&(t.byteLength!==t.buffer.byteLength&&(a=t.byteOffset+i),t=t.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=t,this.length=s,this.byteLength=s,this.byteOffset=a,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,a,s),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const r=(this.offset+t)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,n){const r=k1[n].BYTES_PER_ELEMENT*t,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===rG&&n!=="uint8"&&n!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const l=new k1[n](o.buffer);return this.offset+=r,l.reverse(),l}const a=new k1[n](s);return this.offset+=r,a}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let n="";for(let r=0;r<t;r++)n+=this.readChar();return n}readUtf8(t=1){return VS(this.readBytes(t))}decodeText(t=1,n="utf8"){return VS(this.readBytes(t),n)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let n=0;n<t.length;n++)this._data.setUint8(this.offset++,t[n]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let n=0;n<t.length;n++)this.writeUint8(t.charCodeAt(n));return this}writeUtf8(t){return this.writeBytes(tG(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const iG=4,GS=0,YS=1,sG=2;function td(e){let t=e.length;for(;--t>=0;)e[t]=0}const aG=0,iR=1,oG=2,lG=3,cG=258,nx=29,Bf=256,af=Bf+1+nx,yu=30,rx=19,sR=2*af+1,Dl=15,C1=16,uG=7,ix=256,aR=16,oR=17,lR=18,Iw=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Im=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),dG=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),cR=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hG=512,La=new Array((af+2)*2);td(La);const yh=new Array(yu*2);td(yh);const of=new Array(hG);td(of);const lf=new Array(cG-lG+1);td(lf);const sx=new Array(nx);td(sx);const Ig=new Array(yu);td(Ig);function E1(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let uR,dR,hR;function N1(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const fR=e=>e<256?of[e]:of[256+(e>>>7)],cf=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},ai=(e,t,n)=>{e.bi_valid>C1-n?(e.bi_buf|=t<<e.bi_valid&65535,cf(e,e.bi_buf),e.bi_buf=t>>C1-e.bi_valid,e.bi_valid+=n-C1):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},Ks=(e,t,n)=>{ai(e,n[t*2],n[t*2+1])},pR=(e,t)=>{let n=0;do n|=e&1,e>>>=1,n<<=1;while(--t>0);return n>>>1},fG=e=>{e.bi_valid===16?(cf(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},pG=(e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,s=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,l=t.stat_desc.max_length;let c,u,f,g,d,m,v=0;for(g=0;g<=Dl;g++)e.bl_count[g]=0;for(n[e.heap[e.heap_max]*2+1]=0,c=e.heap_max+1;c<sR;c++)u=e.heap[c],g=n[n[u*2+1]*2+1]+1,g>l&&(g=l,v++),n[u*2+1]=g,!(u>r)&&(e.bl_count[g]++,d=0,u>=o&&(d=a[u-o]),m=n[u*2],e.opt_len+=m*(g+d),s&&(e.static_len+=m*(i[u*2+1]+d)));if(v!==0){do{for(g=l-1;e.bl_count[g]===0;)g--;e.bl_count[g]--,e.bl_count[g+1]+=2,e.bl_count[l]--,v-=2}while(v>0);for(g=l;g!==0;g--)for(u=e.bl_count[g];u!==0;)f=e.heap[--c],!(f>r)&&(n[f*2+1]!==g&&(e.opt_len+=(g-n[f*2+1])*n[f*2],n[f*2+1]=g),u--)}},mR=(e,t,n)=>{const r=new Array(Dl+1);let i=0,s,a;for(s=1;s<=Dl;s++)i=i+n[s-1]<<1,r[s]=i;for(a=0;a<=t;a++){let o=e[a*2+1];o!==0&&(e[a*2]=pR(r[o]++,o))}},mG=()=>{let e,t,n,r,i;const s=new Array(Dl+1);for(n=0,r=0;r<nx-1;r++)for(sx[r]=n,e=0;e<1<<Iw[r];e++)lf[n++]=r;for(lf[n-1]=r,i=0,r=0;r<16;r++)for(Ig[r]=i,e=0;e<1<<Im[r];e++)of[i++]=r;for(i>>=7;r<yu;r++)for(Ig[r]=i<<7,e=0;e<1<<Im[r]-7;e++)of[256+i++]=r;for(t=0;t<=Dl;t++)s[t]=0;for(e=0;e<=143;)La[e*2+1]=8,e++,s[8]++;for(;e<=255;)La[e*2+1]=9,e++,s[9]++;for(;e<=279;)La[e*2+1]=7,e++,s[7]++;for(;e<=287;)La[e*2+1]=8,e++,s[8]++;for(mR(La,af+1,s),e=0;e<yu;e++)yh[e*2+1]=5,yh[e*2]=pR(e,5);uR=new E1(La,Iw,Bf+1,af,Dl),dR=new E1(yh,Im,0,yu,Dl),hR=new E1(new Array(0),dG,0,rx,uG)},gR=e=>{let t;for(t=0;t<af;t++)e.dyn_ltree[t*2]=0;for(t=0;t<yu;t++)e.dyn_dtree[t*2]=0;for(t=0;t<rx;t++)e.bl_tree[t*2]=0;e.dyn_ltree[ix*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},vR=e=>{e.bi_valid>8?cf(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},KS=(e,t,n,r)=>{const i=t*2,s=n*2;return e[i]<e[s]||e[i]===e[s]&&r[t]<=r[n]},T1=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&KS(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!KS(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},XS=(e,t,n)=>{let r,i,s=0,a,o;if(e.sym_next!==0)do r=e.pending_buf[e.sym_buf+s++]&255,r+=(e.pending_buf[e.sym_buf+s++]&255)<<8,i=e.pending_buf[e.sym_buf+s++],r===0?Ks(e,i,t):(a=lf[i],Ks(e,a+Bf+1,t),o=Iw[a],o!==0&&(i-=sx[a],ai(e,i,o)),r--,a=fR(r),Ks(e,a,n),o=Im[a],o!==0&&(r-=Ig[a],ai(e,r,o)));while(s<e.sym_next);Ks(e,ix,t)},Mw=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.elems;let a,o,l=-1,c;for(e.heap_len=0,e.heap_max=sR,a=0;a<s;a++)n[a*2]!==0?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):n[a*2+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=l<2?++l:0,n[c*2]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=r[c*2+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)T1(e,n,a);c=s;do a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],T1(e,n,1),o=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=o,n[c*2]=n[a*2]+n[o*2],e.depth[c]=(e.depth[a]>=e.depth[o]?e.depth[a]:e.depth[o])+1,n[a*2+1]=n[o*2+1]=c,e.heap[1]=c++,T1(e,n,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],pG(e,t),mR(n,l,e.bl_count)},ZS=(e,t,n)=>{let r,i=-1,s,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),t[(n+1)*2+1]=65535,r=0;r<=n;r++)s=a,a=t[(r+1)*2+1],!(++o<l&&s===a)&&(o<c?e.bl_tree[s*2]+=o:s!==0?(s!==i&&e.bl_tree[s*2]++,e.bl_tree[aR*2]++):o<=10?e.bl_tree[oR*2]++:e.bl_tree[lR*2]++,o=0,i=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4))},JS=(e,t,n)=>{let r,i=-1,s,a=t[0*2+1],o=0,l=7,c=4;for(a===0&&(l=138,c=3),r=0;r<=n;r++)if(s=a,a=t[(r+1)*2+1],!(++o<l&&s===a)){if(o<c)do Ks(e,s,e.bl_tree);while(--o!==0);else s!==0?(s!==i&&(Ks(e,s,e.bl_tree),o--),Ks(e,aR,e.bl_tree),ai(e,o-3,2)):o<=10?(Ks(e,oR,e.bl_tree),ai(e,o-3,3)):(Ks(e,lR,e.bl_tree),ai(e,o-11,7));o=0,i=s,a===0?(l=138,c=3):s===a?(l=6,c=3):(l=7,c=4)}},gG=e=>{let t;for(ZS(e,e.dyn_ltree,e.l_desc.max_code),ZS(e,e.dyn_dtree,e.d_desc.max_code),Mw(e,e.bl_desc),t=rx-1;t>=3&&e.bl_tree[cR[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},vG=(e,t,n,r)=>{let i;for(ai(e,t-257,5),ai(e,n-1,5),ai(e,r-4,4),i=0;i<r;i++)ai(e,e.bl_tree[cR[i]*2+1],3);JS(e,e.dyn_ltree,t-1),JS(e,e.dyn_dtree,n-1)},yG=e=>{let t=4093624447,n;for(n=0;n<=31;n++,t>>>=1)if(t&1&&e.dyn_ltree[n*2]!==0)return GS;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return YS;for(n=32;n<Bf;n++)if(e.dyn_ltree[n*2]!==0)return YS;return GS};let QS=!1;const wG=e=>{QS||(mG(),QS=!0),e.l_desc=new N1(e.dyn_ltree,uR),e.d_desc=new N1(e.dyn_dtree,dR),e.bl_desc=new N1(e.bl_tree,hR),e.bi_buf=0,e.bi_valid=0,gR(e)},yR=(e,t,n,r)=>{ai(e,(aG<<1)+(r?1:0),3),vR(e),cf(e,n),cf(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n},bG=e=>{ai(e,iR<<1,3),Ks(e,ix,La),fG(e)},xG=(e,t,n,r)=>{let i,s,a=0;e.level>0?(e.strm.data_type===sG&&(e.strm.data_type=yG(e)),Mw(e,e.l_desc),Mw(e,e.d_desc),a=gG(e),i=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=i&&(i=s)):i=s=n+5,n+4<=i&&t!==-1?yR(e,t,n,r):e.strategy===iG||s===i?(ai(e,(iR<<1)+(r?1:0),3),XS(e,La,yh)):(ai(e,(oG<<1)+(r?1:0),3),vG(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),XS(e,e.dyn_ltree,e.dyn_dtree)),gR(e),r&&vR(e)},_G=(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,t===0?e.dyn_ltree[n*2]++:(e.matches++,t--,e.dyn_ltree[(lf[n]+Bf+1)*2]++,e.dyn_dtree[fR(t)*2]++),e.sym_next===e.sym_end);var SG=wG,AG=yR,kG=xG,CG=_G,EG=bG,NG={_tr_init:SG,_tr_stored_block:AG,_tr_flush_block:kG,_tr_tally:CG,_tr_align:EG};const TG=(e,t,n,r)=>{let i=e&65535|0,s=e>>>16&65535|0,a=0;for(;n!==0;){a=n>2e3?2e3:n,n-=a;do i=i+t[r++]|0,s=s+i|0;while(--a);i%=65521,s%=65521}return i|s<<16|0};var uf=TG;const PG=()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=e&1?3988292384^e>>>1:e>>>1;t[n]=e}return t},RG=new Uint32Array(PG()),LG=(e,t,n,r)=>{const i=RG,s=r+n;e^=-1;for(let a=r;a<s;a++)e=e>>>8^i[(e^t[a])&255];return e^-1};var mr=LG,Du={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Uf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:IG,_tr_stored_block:Ow,_tr_flush_block:MG,_tr_tally:Fo,_tr_align:OG}=NG,{Z_NO_FLUSH:Bo,Z_PARTIAL_FLUSH:jG,Z_FULL_FLUSH:DG,Z_FINISH:Vi,Z_BLOCK:eA,Z_OK:Tr,Z_STREAM_END:tA,Z_STREAM_ERROR:na,Z_DATA_ERROR:FG,Z_BUF_ERROR:P1,Z_DEFAULT_COMPRESSION:BG,Z_FILTERED:UG,Z_HUFFMAN_ONLY:sm,Z_RLE:$G,Z_FIXED:zG,Z_DEFAULT_STRATEGY:qG,Z_UNKNOWN:HG,Z_DEFLATED:B0}=Uf,WG=9,VG=15,GG=8,YG=29,KG=256,jw=KG+1+YG,XG=30,ZG=19,JG=2*jw+1,QG=15,Yt=3,Eo=258,ra=Eo+Yt+1,eY=32,Fu=42,ax=57,Dw=69,Fw=73,Bw=91,Uw=103,Fl=113,nh=666,Kr=1,nd=2,nc=3,rd=4,tY=3,Bl=(e,t)=>(e.msg=Du[t],t),nA=e=>e*2-(e>4?9:0),So=e=>{let t=e.length;for(;--t>=0;)e[t]=0},nY=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do n=e.head[--r],e.head[r]=n>=i?n-i:0;while(--t);t=i,r=t;do n=e.prev[--r],e.prev[r]=n>=i?n-i:0;while(--t)};let rY=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask,Uo=rY;const _i=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),n!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,t.pending===0&&(t.pending_out=0))},Ei=(e,t)=>{MG(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,_i(e.strm)},sn=(e,t)=>{e.pending_buf[e.pending++]=t},Gd=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},$w=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),i===0?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),e.state.wrap===1?e.adler=uf(e.adler,t,i,n):e.state.wrap===2&&(e.adler=mr(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},wR=(e,t)=>{let n=e.max_chain_length,r=e.strstart,i,s,a=e.prev_length,o=e.nice_match;const l=e.strstart>e.w_size-ra?e.strstart-(e.w_size-ra):0,c=e.window,u=e.w_mask,f=e.prev,g=e.strstart+Eo;let d=c[r+a-1],m=c[r+a];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do if(i=t,!(c[i+a]!==m||c[i+a-1]!==d||c[i]!==c[r]||c[++i]!==c[r+1])){r+=2,i++;do;while(c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&c[++r]===c[++i]&&r<g);if(s=Eo-(g-r),r=g-Eo,s>a){if(e.match_start=t,a=s,s>=o)break;d=c[r+a-1],m=c[r+a]}}while((t=f[t&u])>l&&--n!==0);return a<=e.lookahead?a:e.lookahead},Bu=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ra)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),nY(e),r+=t),e.strm.avail_in===0)break;if(n=$w(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=Yt)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=Uo(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=Uo(e,e.ins_h,e.window[i+Yt-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<Yt)););}while(e.lookahead<ra&&e.strm.avail_in!==0)},bR=(e,t)=>{let n=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,r,i,s,a=0,o=e.strm.avail_in;do{if(r=65535,s=e.bi_valid+42>>3,e.strm.avail_out<s||(s=e.strm.avail_out-s,i=e.strstart-e.block_start,r>i+e.strm.avail_in&&(r=i+e.strm.avail_in),r>s&&(r=s),r<n&&(r===0&&t!==Vi||t===Bo||r!==i+e.strm.avail_in)))break;a=t===Vi&&r===i+e.strm.avail_in?1:0,Ow(e,0,0,a),e.pending_buf[e.pending-4]=r,e.pending_buf[e.pending-3]=r>>8,e.pending_buf[e.pending-2]=~r,e.pending_buf[e.pending-1]=~r>>8,_i(e.strm),i&&(i>r&&(i=r),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+i),e.strm.next_out),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i,e.block_start+=i,r-=i),r&&($w(e.strm,e.strm.output,e.strm.next_out,r),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r)}while(a===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),a?rd:t!==Bo&&t!==Vi&&e.strm.avail_in===0&&e.strstart===e.block_start?nd:(s=e.window_size-e.strstart,e.strm.avail_in>s&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,s+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),s>e.strm.avail_in&&(s=e.strm.avail_in),s&&($w(e.strm,e.window,e.strstart,s),e.strstart+=s,e.insert+=s>e.w_size-e.insert?e.w_size-e.insert:s),e.high_water<e.strstart&&(e.high_water=e.strstart),s=e.bi_valid+42>>3,s=e.pending_buf_size-s>65535?65535:e.pending_buf_size-s,n=s>e.w_size?e.w_size:s,i=e.strstart-e.block_start,(i>=n||(i||t===Vi)&&t!==Bo&&e.strm.avail_in===0&&i<=s)&&(r=i>s?s:i,a=t===Vi&&e.strm.avail_in===0&&r===i?1:0,Ow(e,e.block_start,r,a),e.block_start+=r,_i(e.strm)),a?nc:Kr)},R1=(e,t)=>{let n,r;for(;;){if(e.lookahead<ra){if(Bu(e),e.lookahead<ra&&t===Bo)return Kr;if(e.lookahead===0)break}if(n=0,e.lookahead>=Yt&&(e.ins_h=Uo(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),n!==0&&e.strstart-n<=e.w_size-ra&&(e.match_length=wR(e,n)),e.match_length>=Yt)if(r=Fo(e,e.strstart-e.match_start,e.match_length-Yt),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Yt){e.match_length--;do e.strstart++,e.ins_h=Uo(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Uo(e,e.ins_h,e.window[e.strstart+1]);else r=Fo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ei(e,!1),e.strm.avail_out===0))return Kr}return e.insert=e.strstart<Yt-1?e.strstart:Yt-1,t===Vi?(Ei(e,!0),e.strm.avail_out===0?nc:rd):e.sym_next&&(Ei(e,!1),e.strm.avail_out===0)?Kr:nd},Fc=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<ra){if(Bu(e),e.lookahead<ra&&t===Bo)return Kr;if(e.lookahead===0)break}if(n=0,e.lookahead>=Yt&&(e.ins_h=Uo(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Yt-1,n!==0&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ra&&(e.match_length=wR(e,n),e.match_length<=5&&(e.strategy===UG||e.match_length===Yt&&e.strstart-e.match_start>4096)&&(e.match_length=Yt-1)),e.prev_length>=Yt&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Yt,r=Fo(e,e.strstart-1-e.prev_match,e.prev_length-Yt),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=i&&(e.ins_h=Uo(e,e.ins_h,e.window[e.strstart+Yt-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Yt-1,e.strstart++,r&&(Ei(e,!1),e.strm.avail_out===0))return Kr}else if(e.match_available){if(r=Fo(e,0,e.window[e.strstart-1]),r&&Ei(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Kr}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=Fo(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Yt-1?e.strstart:Yt-1,t===Vi?(Ei(e,!0),e.strm.avail_out===0?nc:rd):e.sym_next&&(Ei(e,!1),e.strm.avail_out===0)?Kr:nd},iY=(e,t)=>{let n,r,i,s;const a=e.window;for(;;){if(e.lookahead<=Eo){if(Bu(e),e.lookahead<=Eo&&t===Bo)return Kr;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Yt&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){s=e.strstart+Eo;do;while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<s);e.match_length=Eo-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Yt?(n=Fo(e,1,e.match_length-Yt),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=Fo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ei(e,!1),e.strm.avail_out===0))return Kr}return e.insert=0,t===Vi?(Ei(e,!0),e.strm.avail_out===0?nc:rd):e.sym_next&&(Ei(e,!1),e.strm.avail_out===0)?Kr:nd},sY=(e,t)=>{let n;for(;;){if(e.lookahead===0&&(Bu(e),e.lookahead===0)){if(t===Bo)return Kr;break}if(e.match_length=0,n=Fo(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ei(e,!1),e.strm.avail_out===0))return Kr}return e.insert=0,t===Vi?(Ei(e,!0),e.strm.avail_out===0?nc:rd):e.sym_next&&(Ei(e,!1),e.strm.avail_out===0)?Kr:nd};function zs(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const rh=[new zs(0,0,0,0,bR),new zs(4,4,8,4,R1),new zs(4,5,16,8,R1),new zs(4,6,32,32,R1),new zs(4,4,16,16,Fc),new zs(8,16,32,32,Fc),new zs(8,16,128,128,Fc),new zs(8,32,128,256,Fc),new zs(32,128,258,1024,Fc),new zs(32,258,258,4096,Fc)],aY=e=>{e.window_size=2*e.w_size,So(e.head),e.max_lazy_match=rh[e.level].max_lazy,e.good_match=rh[e.level].good_length,e.nice_match=rh[e.level].nice_length,e.max_chain_length=rh[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Yt-1,e.match_available=0,e.ins_h=0};function oY(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=B0,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(JG*2),this.dyn_dtree=new Uint16Array((2*XG+1)*2),this.bl_tree=new Uint16Array((2*ZG+1)*2),So(this.dyn_ltree),So(this.dyn_dtree),So(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(QG+1),this.heap=new Uint16Array(2*jw+1),So(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*jw+1),So(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const $f=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Fu&&t.status!==ax&&t.status!==Dw&&t.status!==Fw&&t.status!==Bw&&t.status!==Uw&&t.status!==Fl&&t.status!==nh?1:0},xR=e=>{if($f(e))return Bl(e,na);e.total_in=e.total_out=0,e.data_type=HG;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?ax:t.wrap?Fu:Fl,e.adler=t.wrap===2?0:1,t.last_flush=-2,IG(t),Tr},_R=e=>{const t=xR(e);return t===Tr&&aY(e.state),t},lY=(e,t)=>$f(e)||e.state.wrap!==2?na:(e.state.gzhead=t,Tr),SR=(e,t,n,r,i,s)=>{if(!e)return na;let a=1;if(t===BG&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>WG||n!==B0||r<8||r>15||t<0||t>9||s<0||s>zG||r===8&&a!==1)return Bl(e,na);r===8&&(r=9);const o=new oY;return e.state=o,o.strm=e,o.status=Fu,o.wrap=a,o.gzhead=null,o.w_bits=r,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Yt-1)/Yt),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=s,o.method=n,_R(e)},cY=(e,t)=>SR(e,t,B0,VG,GG,qG),uY=(e,t)=>{if($f(e)||t>eA||t<0)return e?Bl(e,na):na;const n=e.state;if(!e.output||e.avail_in!==0&&!e.input||n.status===nh&&t!==Vi)return Bl(e,e.avail_out===0?P1:na);const r=n.last_flush;if(n.last_flush=t,n.pending!==0){if(_i(e),e.avail_out===0)return n.last_flush=-1,Tr}else if(e.avail_in===0&&nA(t)<=nA(r)&&t!==Vi)return Bl(e,P1);if(n.status===nh&&e.avail_in!==0)return Bl(e,P1);if(n.status===Fu&&n.wrap===0&&(n.status=Fl),n.status===Fu){let i=B0+(n.w_bits-8<<4)<<8,s=-1;if(n.strategy>=sm||n.level<2?s=0:n.level<6?s=1:n.level===6?s=2:s=3,i|=s<<6,n.strstart!==0&&(i|=eY),i+=31-i%31,Gd(n,i),n.strstart!==0&&(Gd(n,e.adler>>>16),Gd(n,e.adler&65535)),e.adler=1,n.status=Fl,_i(e),n.pending!==0)return n.last_flush=-1,Tr}if(n.status===ax){if(e.adler=0,sn(n,31),sn(n,139),sn(n,8),n.gzhead)sn(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),sn(n,n.gzhead.time&255),sn(n,n.gzhead.time>>8&255),sn(n,n.gzhead.time>>16&255),sn(n,n.gzhead.time>>24&255),sn(n,n.level===9?2:n.strategy>=sm||n.level<2?4:0),sn(n,n.gzhead.os&255),n.gzhead.extra&&n.gzhead.extra.length&&(sn(n,n.gzhead.extra.length&255),sn(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=mr(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=Dw;else if(sn(n,0),sn(n,0),sn(n,0),sn(n,0),sn(n,0),sn(n,n.level===9?2:n.strategy>=sm||n.level<2?4:0),sn(n,tY),n.status=Fl,_i(e),n.pending!==0)return n.last_flush=-1,Tr}if(n.status===Dw){if(n.gzhead.extra){let i=n.pending,s=(n.gzhead.extra.length&65535)-n.gzindex;for(;n.pending+s>n.pending_buf_size;){let o=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+o),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>i&&(e.adler=mr(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex+=o,_i(e),n.pending!==0)return n.last_flush=-1,Tr;i=0,s-=o}let a=new Uint8Array(n.gzhead.extra);n.pending_buf.set(a.subarray(n.gzindex,n.gzindex+s),n.pending),n.pending+=s,n.gzhead.hcrc&&n.pending>i&&(e.adler=mr(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Fw}if(n.status===Fw){if(n.gzhead.name){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=mr(e.adler,n.pending_buf,n.pending-i,i)),_i(e),n.pending!==0)return n.last_flush=-1,Tr;i=0}n.gzindex<n.gzhead.name.length?s=n.gzhead.name.charCodeAt(n.gzindex++)&255:s=0,sn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=mr(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex=0}n.status=Bw}if(n.status===Bw){if(n.gzhead.comment){let i=n.pending,s;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>i&&(e.adler=mr(e.adler,n.pending_buf,n.pending-i,i)),_i(e),n.pending!==0)return n.last_flush=-1,Tr;i=0}n.gzindex<n.gzhead.comment.length?s=n.gzhead.comment.charCodeAt(n.gzindex++)&255:s=0,sn(n,s)}while(s!==0);n.gzhead.hcrc&&n.pending>i&&(e.adler=mr(e.adler,n.pending_buf,n.pending-i,i))}n.status=Uw}if(n.status===Uw){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(_i(e),n.pending!==0))return n.last_flush=-1,Tr;sn(n,e.adler&255),sn(n,e.adler>>8&255),e.adler=0}if(n.status=Fl,_i(e),n.pending!==0)return n.last_flush=-1,Tr}if(e.avail_in!==0||n.lookahead!==0||t!==Bo&&n.status!==nh){let i=n.level===0?bR(n,t):n.strategy===sm?sY(n,t):n.strategy===$G?iY(n,t):rh[n.level].func(n,t);if((i===nc||i===rd)&&(n.status=nh),i===Kr||i===nc)return e.avail_out===0&&(n.last_flush=-1),Tr;if(i===nd&&(t===jG?OG(n):t!==eA&&(Ow(n,0,0,!1),t===DG&&(So(n.head),n.lookahead===0&&(n.strstart=0,n.block_start=0,n.insert=0))),_i(e),e.avail_out===0))return n.last_flush=-1,Tr}return t!==Vi?Tr:n.wrap<=0?tA:(n.wrap===2?(sn(n,e.adler&255),sn(n,e.adler>>8&255),sn(n,e.adler>>16&255),sn(n,e.adler>>24&255),sn(n,e.total_in&255),sn(n,e.total_in>>8&255),sn(n,e.total_in>>16&255),sn(n,e.total_in>>24&255)):(Gd(n,e.adler>>>16),Gd(n,e.adler&65535)),_i(e),n.wrap>0&&(n.wrap=-n.wrap),n.pending!==0?Tr:tA)},dY=e=>{if($f(e))return na;const t=e.state.status;return e.state=null,t===Fl?Bl(e,FG):Tr},hY=(e,t)=>{let n=t.length;if($f(e))return na;const r=e.state,i=r.wrap;if(i===2||i===1&&r.status!==Fu||r.lookahead)return na;if(i===1&&(e.adler=uf(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){i===0&&(So(r.head),r.strstart=0,r.block_start=0,r.insert=0);let l=new Uint8Array(r.w_size);l.set(t.subarray(n-r.w_size,n),0),t=l,n=r.w_size}const s=e.avail_in,a=e.next_in,o=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Bu(r);r.lookahead>=Yt;){let l=r.strstart,c=r.lookahead-(Yt-1);do r.ins_h=Uo(r,r.ins_h,r.window[l+Yt-1]),r.prev[l&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=l,l++;while(--c);r.strstart=l,r.lookahead=Yt-1,Bu(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Yt-1,r.match_available=0,e.next_in=a,e.input=o,e.avail_in=s,r.wrap=i,Tr};var fY=cY,pY=SR,mY=_R,gY=xR,vY=lY,yY=uY,wY=dY,bY=hY,xY="pako deflate (from Nodeca project)",wh={deflateInit:fY,deflateInit2:pY,deflateReset:mY,deflateResetKeep:gY,deflateSetHeader:vY,deflate:yY,deflateEnd:wY,deflateSetDictionary:bY,deflateInfo:xY};const _Y=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var SY=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if(typeof n!="object")throw new TypeError(n+"must be non-object");for(const r in n)_Y(n,r)&&(e[r]=n[r])}}return e},AY=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,s=e.length;r<s;r++){let a=e[r];n.set(a,i),i+=a.length}return n},U0={assign:SY,flattenChunks:AY};let AR=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{AR=!1}const df=new Uint8Array(256);for(let e=0;e<256;e++)df[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;df[254]=df[254]=1;var kY=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,n,r,i,s,a=e.length,o=0;for(i=0;i<a;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),o+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(o),s=0,i=0;s<o;i++)n=e.charCodeAt(i),(n&64512)===55296&&i+1<a&&(r=e.charCodeAt(i+1),(r&64512)===56320&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[s++]=n:n<2048?(t[s++]=192|n>>>6,t[s++]=128|n&63):n<65536?(t[s++]=224|n>>>12,t[s++]=128|n>>>6&63,t[s++]=128|n&63):(t[s++]=240|n>>>18,t[s++]=128|n>>>12&63,t[s++]=128|n>>>6&63,t[s++]=128|n&63);return t};const CY=(e,t)=>{if(t<65534&&e.subarray&&AR)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n};var EY=(e,t)=>{const n=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let r,i;const s=new Array(n*2);for(i=0,r=0;r<n;){let a=e[r++];if(a<128){s[i++]=a;continue}let o=df[a];if(o>4){s[i++]=65533,r+=o-1;continue}for(a&=o===2?31:o===3?15:7;o>1&&r<n;)a=a<<6|e[r++]&63,o--;if(o>1){s[i++]=65533;continue}a<65536?s[i++]=a:(a-=65536,s[i++]=55296|a>>10&1023,s[i++]=56320|a&1023)}return CY(s,i)},NY=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let n=t-1;for(;n>=0&&(e[n]&192)===128;)n--;return n<0||n===0?t:n+df[e[n]]>t?n:t},hf={string2buf:kY,buf2string:EY,utf8border:NY};function TY(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var kR=TY;const CR=Object.prototype.toString,{Z_NO_FLUSH:PY,Z_SYNC_FLUSH:RY,Z_FULL_FLUSH:LY,Z_FINISH:IY,Z_OK:Mg,Z_STREAM_END:MY,Z_DEFAULT_COMPRESSION:OY,Z_DEFAULT_STRATEGY:jY,Z_DEFLATED:DY}=Uf;function ox(e){this.options=U0.assign({level:OY,method:DY,chunkSize:16384,windowBits:15,memLevel:8,strategy:jY},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kR,this.strm.avail_out=0;let n=wh.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==Mg)throw new Error(Du[n]);if(t.header&&wh.deflateSetHeader(this.strm,t.header),t.dictionary){let r;if(typeof t.dictionary=="string"?r=hf.string2buf(t.dictionary):CR.call(t.dictionary)==="[object ArrayBuffer]"?r=new Uint8Array(t.dictionary):r=t.dictionary,n=wh.deflateSetDictionary(this.strm,r),n!==Mg)throw new Error(Du[n]);this._dict_set=!0}}ox.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,s;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?IY:PY,typeof e=="string"?n.input=hf.string2buf(e):CR.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){if(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(s===RY||s===LY)&&n.avail_out<=6){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(i=wh.deflate(n,s),i===MY)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=wh.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Mg;if(n.avail_out===0){this.onData(n.output);continue}if(s>0&&n.next_out>0){this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;continue}if(n.avail_in===0)break}return!0};ox.prototype.onData=function(e){this.chunks.push(e)};ox.prototype.onEnd=function(e){e===Mg&&(this.result=U0.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const am=16209,FY=16191;var BY=function(t,n){let r,i,s,a,o,l,c,u,f,g,d,m,v,h,p,y,b,k,L,j,D,q,z,ee;const $=t.state;r=t.next_in,z=t.input,i=r+(t.avail_in-5),s=t.next_out,ee=t.output,a=s-(n-t.avail_out),o=s+(t.avail_out-257),l=$.dmax,c=$.wsize,u=$.whave,f=$.wnext,g=$.window,d=$.hold,m=$.bits,v=$.lencode,h=$.distcode,p=(1<<$.lenbits)-1,y=(1<<$.distbits)-1;e:do{m<15&&(d+=z[r++]<<m,m+=8,d+=z[r++]<<m,m+=8),b=v[d&p];t:for(;;){if(k=b>>>24,d>>>=k,m-=k,k=b>>>16&255,k===0)ee[s++]=b&65535;else if(k&16){L=b&65535,k&=15,k&&(m<k&&(d+=z[r++]<<m,m+=8),L+=d&(1<<k)-1,d>>>=k,m-=k),m<15&&(d+=z[r++]<<m,m+=8,d+=z[r++]<<m,m+=8),b=h[d&y];n:for(;;){if(k=b>>>24,d>>>=k,m-=k,k=b>>>16&255,k&16){if(j=b&65535,k&=15,m<k&&(d+=z[r++]<<m,m+=8,m<k&&(d+=z[r++]<<m,m+=8)),j+=d&(1<<k)-1,j>l){t.msg="invalid distance too far back",$.mode=am;break e}if(d>>>=k,m-=k,k=s-a,j>k){if(k=j-k,k>u&&$.sane){t.msg="invalid distance too far back",$.mode=am;break e}if(D=0,q=g,f===0){if(D+=c-k,k<L){L-=k;do ee[s++]=g[D++];while(--k);D=s-j,q=ee}}else if(f<k){if(D+=c+f-k,k-=f,k<L){L-=k;do ee[s++]=g[D++];while(--k);if(D=0,f<L){k=f,L-=k;do ee[s++]=g[D++];while(--k);D=s-j,q=ee}}}else if(D+=f-k,k<L){L-=k;do ee[s++]=g[D++];while(--k);D=s-j,q=ee}for(;L>2;)ee[s++]=q[D++],ee[s++]=q[D++],ee[s++]=q[D++],L-=3;L&&(ee[s++]=q[D++],L>1&&(ee[s++]=q[D++]))}else{D=s-j;do ee[s++]=ee[D++],ee[s++]=ee[D++],ee[s++]=ee[D++],L-=3;while(L>2);L&&(ee[s++]=ee[D++],L>1&&(ee[s++]=ee[D++]))}}else if(k&64){t.msg="invalid distance code",$.mode=am;break e}else{b=h[(b&65535)+(d&(1<<k)-1)];continue n}break}}else if(k&64)if(k&32){$.mode=FY;break e}else{t.msg="invalid literal/length code",$.mode=am;break e}else{b=v[(b&65535)+(d&(1<<k)-1)];continue t}break}}while(r<i&&s<o);L=m>>3,r-=L,m-=L<<3,d&=(1<<m)-1,t.next_in=r,t.next_out=s,t.avail_in=r<i?5+(i-r):5-(r-i),t.avail_out=s<o?257+(o-s):257-(s-o),$.hold=d,$.bits=m};const Bc=15,rA=852,iA=592,sA=0,L1=1,aA=2,UY=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$Y=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zY=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qY=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HY=(e,t,n,r,i,s,a,o)=>{const l=o.bits;let c=0,u=0,f=0,g=0,d=0,m=0,v=0,h=0,p=0,y=0,b,k,L,j,D,q=null,z;const ee=new Uint16Array(Bc+1),$=new Uint16Array(Bc+1);let H=null,ae,Y,Q;for(c=0;c<=Bc;c++)ee[c]=0;for(u=0;u<r;u++)ee[t[n+u]]++;for(d=l,g=Bc;g>=1&&ee[g]===0;g--);if(d>g&&(d=g),g===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(f=1;f<g&&ee[f]===0;f++);for(d<f&&(d=f),h=1,c=1;c<=Bc;c++)if(h<<=1,h-=ee[c],h<0)return-1;if(h>0&&(e===sA||g!==1))return-1;for($[1]=0,c=1;c<Bc;c++)$[c+1]=$[c]+ee[c];for(u=0;u<r;u++)t[n+u]!==0&&(a[$[t[n+u]]++]=u);if(e===sA?(q=H=a,z=20):e===L1?(q=UY,H=$Y,z=257):(q=zY,H=qY,z=0),y=0,u=0,c=f,D=s,m=d,v=0,L=-1,p=1<<d,j=p-1,e===L1&&p>rA||e===aA&&p>iA)return 1;for(;;){ae=c-v,a[u]+1<z?(Y=0,Q=a[u]):a[u]>=z?(Y=H[a[u]-z],Q=q[a[u]-z]):(Y=96,Q=0),b=1<<c-v,k=1<<m,f=k;do k-=b,i[D+(y>>v)+k]=ae<<24|Y<<16|Q|0;while(k!==0);for(b=1<<c-1;y&b;)b>>=1;if(b!==0?(y&=b-1,y+=b):y=0,u++,--ee[c]===0){if(c===g)break;c=t[n+a[u]]}if(c>d&&(y&j)!==L){for(v===0&&(v=d),D+=f,m=c-v,h=1<<m;m+v<g&&(h-=ee[m+v],!(h<=0));)m++,h<<=1;if(p+=1<<m,e===L1&&p>rA||e===aA&&p>iA)return 1;L=y&j,i[L]=d<<24|m<<16|D-s|0}}return y!==0&&(i[D+y]=c-v<<24|64<<16|0),o.bits=d,0};var bh=HY;const WY=0,ER=1,NR=2,{Z_FINISH:oA,Z_BLOCK:VY,Z_TREES:om,Z_OK:rc,Z_STREAM_END:GY,Z_NEED_DICT:YY,Z_STREAM_ERROR:Ji,Z_DATA_ERROR:TR,Z_MEM_ERROR:PR,Z_BUF_ERROR:KY,Z_DEFLATED:lA}=Uf,$0=16180,cA=16181,uA=16182,dA=16183,hA=16184,fA=16185,pA=16186,mA=16187,gA=16188,vA=16189,Og=16190,Na=16191,I1=16192,yA=16193,M1=16194,wA=16195,bA=16196,xA=16197,_A=16198,lm=16199,cm=16200,SA=16201,AA=16202,kA=16203,CA=16204,EA=16205,O1=16206,NA=16207,TA=16208,Pn=16209,RR=16210,LR=16211,XY=852,ZY=592,JY=15,QY=JY,PA=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function eK(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const hc=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<$0||t.mode>LR?1:0},IR=e=>{if(hc(e))return Ji;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=$0,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(XY),t.distcode=t.distdyn=new Int32Array(ZY),t.sane=1,t.back=-1,rc},MR=e=>{if(hc(e))return Ji;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,IR(e)},OR=(e,t)=>{let n;if(hc(e))return Ji;const r=e.state;return t<0?(n=0,t=-t):(n=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ji:(r.window!==null&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,MR(e))},jR=(e,t)=>{if(!e)return Ji;const n=new eK;e.state=n,n.strm=e,n.window=null,n.mode=$0;const r=OR(e,t);return r!==rc&&(e.state=null),r},tK=e=>jR(e,QY);let RA=!0,j1,D1;const nK=e=>{if(RA){j1=new Int32Array(512),D1=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(bh(ER,e.lens,0,288,j1,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;bh(NR,e.lens,0,32,D1,0,e.work,{bits:5}),RA=!1}e.lencode=j1,e.lenbits=9,e.distcode=D1,e.distbits=5},DR=(e,t,n,r)=>{let i;const s=e.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(t.subarray(n-s.wsize,n),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(t.subarray(n-r,n-r+i),s.wnext),r-=i,r?(s.window.set(t.subarray(n-r,n),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},rK=(e,t)=>{let n,r,i,s,a,o,l,c,u,f,g,d,m,v,h=0,p,y,b,k,L,j,D,q;const z=new Uint8Array(4);let ee,$;const H=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(hc(e)||!e.output||!e.input&&e.avail_in!==0)return Ji;n=e.state,n.mode===Na&&(n.mode=I1),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,u=n.bits,f=o,g=l,q=rc;e:for(;;)switch(n.mode){case $0:if(n.wrap===0){n.mode=I1;break}for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.wrap&2&&c===35615){n.wbits===0&&(n.wbits=15),n.check=0,z[0]=c&255,z[1]=c>>>8&255,n.check=mr(n.check,z,2,0),c=0,u=0,n.mode=cA;break}if(n.head&&(n.head.done=!1),!(n.wrap&1)||(((c&255)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=Pn;break}if((c&15)!==lA){e.msg="unknown compression method",n.mode=Pn;break}if(c>>>=4,u-=4,D=(c&15)+8,n.wbits===0&&(n.wbits=D),D>15||D>n.wbits){e.msg="invalid window size",n.mode=Pn;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=c&512?vA:Na,c=0,u=0;break;case cA:for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.flags=c,(n.flags&255)!==lA){e.msg="unknown compression method",n.mode=Pn;break}if(n.flags&57344){e.msg="unknown header flags set",n.mode=Pn;break}n.head&&(n.head.text=c>>8&1),n.flags&512&&n.wrap&4&&(z[0]=c&255,z[1]=c>>>8&255,n.check=mr(n.check,z,2,0)),c=0,u=0,n.mode=uA;case uA:for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.head&&(n.head.time=c),n.flags&512&&n.wrap&4&&(z[0]=c&255,z[1]=c>>>8&255,z[2]=c>>>16&255,z[3]=c>>>24&255,n.check=mr(n.check,z,4,0)),c=0,u=0,n.mode=dA;case dA:for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.head&&(n.head.xflags=c&255,n.head.os=c>>8),n.flags&512&&n.wrap&4&&(z[0]=c&255,z[1]=c>>>8&255,n.check=mr(n.check,z,2,0)),c=0,u=0,n.mode=hA;case hA:if(n.flags&1024){for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.length=c,n.head&&(n.head.extra_len=c),n.flags&512&&n.wrap&4&&(z[0]=c&255,z[1]=c>>>8&255,n.check=mr(n.check,z,2,0)),c=0,u=0}else n.head&&(n.head.extra=null);n.mode=fA;case fA:if(n.flags&1024&&(d=n.length,d>o&&(d=o),d&&(n.head&&(D=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(s,s+d),D)),n.flags&512&&n.wrap&4&&(n.check=mr(n.check,r,d,s)),o-=d,s+=d,n.length-=d),n.length))break e;n.length=0,n.mode=pA;case pA:if(n.flags&2048){if(o===0)break e;d=0;do D=r[s+d++],n.head&&D&&n.length<65536&&(n.head.name+=String.fromCharCode(D));while(D&&d<o);if(n.flags&512&&n.wrap&4&&(n.check=mr(n.check,r,d,s)),o-=d,s+=d,D)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=mA;case mA:if(n.flags&4096){if(o===0)break e;d=0;do D=r[s+d++],n.head&&D&&n.length<65536&&(n.head.comment+=String.fromCharCode(D));while(D&&d<o);if(n.flags&512&&n.wrap&4&&(n.check=mr(n.check,r,d,s)),o-=d,s+=d,D)break e}else n.head&&(n.head.comment=null);n.mode=gA;case gA:if(n.flags&512){for(;u<16;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.check&65535)){e.msg="header crc mismatch",n.mode=Pn;break}c=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Na;break;case vA:for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}e.adler=n.check=PA(c),c=0,u=0,n.mode=Og;case Og:if(n.havedict===0)return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=u,YY;e.adler=n.check=1,n.mode=Na;case Na:if(t===VY||t===om)break e;case I1:if(n.last){c>>>=u&7,u-=u&7,n.mode=O1;break}for(;u<3;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}switch(n.last=c&1,c>>>=1,u-=1,c&3){case 0:n.mode=yA;break;case 1:if(nK(n),n.mode=lm,t===om){c>>>=2,u-=2;break e}break;case 2:n.mode=bA;break;case 3:e.msg="invalid block type",n.mode=Pn}c>>>=2,u-=2;break;case yA:for(c>>>=u&7,u-=u&7;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if((c&65535)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Pn;break}if(n.length=c&65535,c=0,u=0,n.mode=M1,t===om)break e;case M1:n.mode=wA;case wA:if(d=n.length,d){if(d>o&&(d=o),d>l&&(d=l),d===0)break e;i.set(r.subarray(s,s+d),a),o-=d,s+=d,l-=d,a+=d,n.length-=d;break}n.mode=Na;break;case bA:for(;u<14;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.nlen=(c&31)+257,c>>>=5,u-=5,n.ndist=(c&31)+1,c>>>=5,u-=5,n.ncode=(c&15)+4,c>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Pn;break}n.have=0,n.mode=xA;case xA:for(;n.have<n.ncode;){for(;u<3;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.lens[H[n.have++]]=c&7,c>>>=3,u-=3}for(;n.have<19;)n.lens[H[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,ee={bits:n.lenbits},q=bh(WY,n.lens,0,19,n.lencode,0,n.work,ee),n.lenbits=ee.bits,q){e.msg="invalid code lengths set",n.mode=Pn;break}n.have=0,n.mode=_A;case _A:for(;n.have<n.nlen+n.ndist;){for(;h=n.lencode[c&(1<<n.lenbits)-1],p=h>>>24,y=h>>>16&255,b=h&65535,!(p<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(b<16)c>>>=p,u-=p,n.lens[n.have++]=b;else{if(b===16){for($=p+2;u<$;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(c>>>=p,u-=p,n.have===0){e.msg="invalid bit length repeat",n.mode=Pn;break}D=n.lens[n.have-1],d=3+(c&3),c>>>=2,u-=2}else if(b===17){for($=p+3;u<$;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=p,u-=p,D=0,d=3+(c&7),c>>>=3,u-=3}else{for($=p+7;u<$;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=p,u-=p,D=0,d=11+(c&127),c>>>=7,u-=7}if(n.have+d>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Pn;break}for(;d--;)n.lens[n.have++]=D}}if(n.mode===Pn)break;if(n.lens[256]===0){e.msg="invalid code -- missing end-of-block",n.mode=Pn;break}if(n.lenbits=9,ee={bits:n.lenbits},q=bh(ER,n.lens,0,n.nlen,n.lencode,0,n.work,ee),n.lenbits=ee.bits,q){e.msg="invalid literal/lengths set",n.mode=Pn;break}if(n.distbits=6,n.distcode=n.distdyn,ee={bits:n.distbits},q=bh(NR,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,ee),n.distbits=ee.bits,q){e.msg="invalid distances set",n.mode=Pn;break}if(n.mode=lm,t===om)break e;case lm:n.mode=cm;case cm:if(o>=6&&l>=258){e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=u,BY(e,g),a=e.next_out,i=e.output,l=e.avail_out,s=e.next_in,r=e.input,o=e.avail_in,c=n.hold,u=n.bits,n.mode===Na&&(n.back=-1);break}for(n.back=0;h=n.lencode[c&(1<<n.lenbits)-1],p=h>>>24,y=h>>>16&255,b=h&65535,!(p<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(y&&!(y&240)){for(k=p,L=y,j=b;h=n.lencode[j+((c&(1<<k+L)-1)>>k)],p=h>>>24,y=h>>>16&255,b=h&65535,!(k+p<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=k,u-=k,n.back+=k}if(c>>>=p,u-=p,n.back+=p,n.length=b,y===0){n.mode=EA;break}if(y&32){n.back=-1,n.mode=Na;break}if(y&64){e.msg="invalid literal/length code",n.mode=Pn;break}n.extra=y&15,n.mode=SA;case SA:if(n.extra){for($=n.extra;u<$;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=AA;case AA:for(;h=n.distcode[c&(1<<n.distbits)-1],p=h>>>24,y=h>>>16&255,b=h&65535,!(p<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(!(y&240)){for(k=p,L=y,j=b;h=n.distcode[j+((c&(1<<k+L)-1)>>k)],p=h>>>24,y=h>>>16&255,b=h&65535,!(k+p<=u);){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}c>>>=k,u-=k,n.back+=k}if(c>>>=p,u-=p,n.back+=p,y&64){e.msg="invalid distance code",n.mode=Pn;break}n.offset=b,n.extra=y&15,n.mode=kA;case kA:if(n.extra){for($=n.extra;u<$;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Pn;break}n.mode=CA;case CA:if(l===0)break e;if(d=g-l,n.offset>d){if(d=n.offset-d,d>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Pn;break}d>n.wnext?(d-=n.wnext,m=n.wsize-d):m=n.wnext-d,d>n.length&&(d=n.length),v=n.window}else v=i,m=a-n.offset,d=n.length;d>l&&(d=l),l-=d,n.length-=d;do i[a++]=v[m++];while(--d);n.length===0&&(n.mode=cm);break;case EA:if(l===0)break e;i[a++]=n.length,l--,n.mode=cm;break;case O1:if(n.wrap){for(;u<32;){if(o===0)break e;o--,c|=r[s++]<<u,u+=8}if(g-=l,e.total_out+=g,n.total+=g,n.wrap&4&&g&&(e.adler=n.check=n.flags?mr(n.check,i,g,a-g):uf(n.check,i,g,a-g)),g=l,n.wrap&4&&(n.flags?c:PA(c))!==n.check){e.msg="incorrect data check",n.mode=Pn;break}c=0,u=0}n.mode=NA;case NA:if(n.wrap&&n.flags){for(;u<32;){if(o===0)break e;o--,c+=r[s++]<<u,u+=8}if(n.wrap&4&&c!==(n.total&4294967295)){e.msg="incorrect length check",n.mode=Pn;break}c=0,u=0}n.mode=TA;case TA:q=GY;break e;case Pn:q=TR;break e;case RR:return PR;case LR:default:return Ji}return e.next_out=a,e.avail_out=l,e.next_in=s,e.avail_in=o,n.hold=c,n.bits=u,(n.wsize||g!==e.avail_out&&n.mode<Pn&&(n.mode<O1||t!==oA))&&DR(e,e.output,e.next_out,g-e.avail_out),f-=e.avail_in,g-=e.avail_out,e.total_in+=f,e.total_out+=g,n.total+=g,n.wrap&4&&g&&(e.adler=n.check=n.flags?mr(n.check,i,g,e.next_out-g):uf(n.check,i,g,e.next_out-g)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Na?128:0)+(n.mode===lm||n.mode===M1?256:0),(f===0&&g===0||t===oA)&&q===rc&&(q=KY),q},iK=e=>{if(hc(e))return Ji;let t=e.state;return t.window&&(t.window=null),e.state=null,rc},sK=(e,t)=>{if(hc(e))return Ji;const n=e.state;return n.wrap&2?(n.head=t,t.done=!1,rc):Ji},aK=(e,t)=>{const n=t.length;let r,i,s;return hc(e)||(r=e.state,r.wrap!==0&&r.mode!==Og)?Ji:r.mode===Og&&(i=1,i=uf(i,t,n,0),i!==r.check)?TR:(s=DR(e,t,n,n),s?(r.mode=RR,PR):(r.havedict=1,rc))};var oK=MR,lK=OR,cK=IR,uK=tK,dK=jR,hK=rK,fK=iK,pK=sK,mK=aK,gK="pako inflate (from Nodeca project)",Ia={inflateReset:oK,inflateReset2:lK,inflateResetKeep:cK,inflateInit:uK,inflateInit2:dK,inflate:hK,inflateEnd:fK,inflateGetHeader:pK,inflateSetDictionary:mK,inflateInfo:gK};function vK(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var yK=vK;const FR=Object.prototype.toString,{Z_NO_FLUSH:wK,Z_FINISH:bK,Z_OK:ff,Z_STREAM_END:F1,Z_NEED_DICT:B1,Z_STREAM_ERROR:xK,Z_DATA_ERROR:LA,Z_MEM_ERROR:_K}=Uf;function zf(e){this.options=U0.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new kR,this.strm.avail_out=0;let n=Ia.inflateInit2(this.strm,t.windowBits);if(n!==ff)throw new Error(Du[n]);if(this.header=new yK,Ia.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=hf.string2buf(t.dictionary):FR.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Ia.inflateSetDictionary(this.strm,t.dictionary),n!==ff)))throw new Error(Du[n])}zf.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,a,o;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?bK:wK,FR.call(e)==="[object ArrayBuffer]"?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(n.avail_out===0&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),s=Ia.inflate(n,a),s===B1&&i&&(s=Ia.inflateSetDictionary(n,i),s===ff?s=Ia.inflate(n,a):s===LA&&(s=B1));n.avail_in>0&&s===F1&&n.state.wrap>0&&e[n.next_in]!==0;)Ia.inflateReset(n),s=Ia.inflate(n,a);switch(s){case xK:case LA:case B1:case _K:return this.onEnd(s),this.ended=!0,!1}if(o=n.avail_out,n.next_out&&(n.avail_out===0||s===F1))if(this.options.to==="string"){let l=hf.utf8border(n.output,n.next_out),c=n.next_out-l,u=hf.buf2string(n.output,l);n.next_out=c,n.avail_out=r-c,c&&n.output.set(n.output.subarray(l,l+c),0),this.onData(u)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(!(s===ff&&o===0)){if(s===F1)return s=Ia.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(n.avail_in===0)break}}return!0};zf.prototype.onData=function(e){this.chunks.push(e)};zf.prototype.onEnd=function(e){e===ff&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=U0.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function lx(e,t){const n=new zf(t);if(n.push(e),n.err)throw n.msg||Du[n.err];return n.result}function SK(e,t){return t=t||{},t.raw=!0,lx(e,t)}var AK=zf,kK=lx,CK=SK,EK=lx,NK=Uf,TK={Inflate:AK,inflate:kK,inflateRaw:CK,ungzip:EK,constants:NK};const{Inflate:PK,inflate:RK,inflateRaw:nJ,ungzip:rJ}=TK;var IA=PK,LK=RK;const BR=[];for(let e=0;e<256;e++){let t=e;for(let n=0;n<8;n++)t&1?t=3988292384^t>>>1:t=t>>>1;BR[e]=t}const MA=4294967295;function IK(e,t,n){let r=e;for(let i=0;i<n;i++)r=BR[(r^t[i])&255]^r>>>8;return r}function MK(e,t){return(IK(MA,e,t)^MA)>>>0}function OA(e,t,n){const r=e.readUint32(),i=MK(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(i!==r)throw new Error(`CRC mismatch for chunk ${n}. Expected ${r}, found ${i}`)}function UR(e,t,n){for(let r=0;r<n;r++)t[r]=e[r]}function $R(e,t,n,r){let i=0;for(;i<r;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-r]&255}function zR(e,t,n,r){let i=0;if(n.length===0)for(;i<r;i++)t[i]=e[i];else for(;i<r;i++)t[i]=e[i]+n[i]&255}function qR(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+(t[s-i]>>1)&255}else{for(;s<i;s++)t[s]=e[s]+(n[s]>>1)&255;for(;s<r;s++)t[s]=e[s]+(t[s-i]+n[s]>>1)&255}}function HR(e,t,n,r,i){let s=0;if(n.length===0){for(;s<i;s++)t[s]=e[s];for(;s<r;s++)t[s]=e[s]+t[s-i]&255}else{for(;s<i;s++)t[s]=e[s]+n[s]&255;for(;s<r;s++)t[s]=e[s]+OK(t[s-i],n[s],n[s-i])&255}}function OK(e,t,n){const r=e+t-n,i=Math.abs(r-e),s=Math.abs(r-t),a=Math.abs(r-n);return i<=s&&i<=a?e:s<=a?t:n}function jK(e,t,n,r,i,s){switch(e){case 0:UR(t,n,i);break;case 1:$R(t,n,i,s);break;case 2:zR(t,n,r,i);break;case 3:qR(t,n,r,i,s);break;case 4:HR(t,n,r,i,s);break;default:throw new Error(`Unsupported filter: ${e}`)}}const DK=new Uint16Array([255]),FK=new Uint8Array(DK.buffer),BK=FK[0]===255;function UK(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,a=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,l=new Uint8Array(r*n*o);let c=0;for(let u=0;u<7;u++){const f=a[u],g=Math.ceil((n-f.x)/f.xStep),d=Math.ceil((r-f.y)/f.yStep);if(g<=0||d<=0)continue;const m=g*o,v=new Uint8Array(m);for(let h=0;h<d;h++){const p=t[c++],y=t.subarray(c,c+m);c+=m;const b=new Uint8Array(m);jK(p,y,b,v,m,o),v.set(b);for(let k=0;k<g;k++){const L=f.x+k*f.xStep,j=f.y+h*f.yStep;if(!(L>=n||j>=r))for(let D=0;D<o;D++)l[(j*n+L)*o+D]=b[k*o+D]}}}if(s===16){const u=new Uint16Array(l.buffer);if(BK)for(let f=0;f<u.length;f++)u[f]=$K(u[f]);return u}else return l}function $K(e){return(e&255)<<8|e>>8&255}const zK=new Uint16Array([255]),qK=new Uint8Array(zK.buffer),HK=qK[0]===255,WK=new Uint8Array(0);function jA(e){const{data:t,width:n,height:r,channels:i,depth:s}=e,a=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*n),l=new Uint8Array(r*o);let c=WK,u=0,f,g;for(let d=0;d<r;d++){switch(f=t.subarray(u+1,u+1+o),g=l.subarray(d*o,(d+1)*o),t[u]){case 0:UR(f,g,o);break;case 1:$R(f,g,o,a);break;case 2:zR(f,g,c,o);break;case 3:qR(f,g,c,o,a);break;case 4:HR(f,g,c,o,a);break;default:throw new Error(`Unsupported filter: ${t[u]}`)}c=g,u+=o+1}if(s===16){const d=new Uint16Array(l.buffer);if(HK)for(let m=0;m<d.length;m++)d[m]=VK(d[m]);return d}else return l}function VK(e){return(e&255)<<8|e>>8&255}const Mm=Uint8Array.of(137,80,78,71,13,10,26,10);function DA(e){if(!GK(e.readBytes(Mm.length)))throw new Error("wrong PNG signature")}function GK(e){if(e.length<Mm.length)return!1;for(let t=0;t<Mm.length;t++)if(e[t]!==Mm[t])return!1;return!0}const YK="tEXt",KK=0,WR=new TextDecoder("latin1");function XK(e){if(JK(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const ZK=/^[\u0000-\u00FF]*$/;function JK(e){if(!ZK.test(e))throw new Error("invalid latin1 text")}function QK(e,t,n){const r=VR(t);e[r]=eX(t,n-r.length-1)}function VR(e){for(e.mark();e.readByte()!==KK;);const t=e.offset;e.reset();const n=WR.decode(e.readBytes(t-e.offset-1));return e.skip(1),XK(n),n}function eX(e,t){return WR.decode(e.readBytes(t))}const bi={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},U1={UNKNOWN:-1,DEFLATE:0},FA={UNKNOWN:-1,ADAPTIVE:0},$1={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},um={NONE:0,BACKGROUND:1,PREVIOUS:2},z1={SOURCE:0,OVER:1};class tX extends tx{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(t,n={}){super(t);const{checkCrc:r=!1}=n;this._checkCrc=r,this._inflator=new IA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=U1.UNKNOWN,this._filterMethod=FA.UNKNOWN,this._interlaceMethod=$1.UNKNOWN,this._colorType=bi.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(DA(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeChunk(t,n)}return this.decodeImage(),this._png}decodeApng(){for(DA(this);!this._end;){const t=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(t,n)}return this.decodeApngImage(),this._apng}decodeChunk(t,n){const r=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(t);break;case"IDAT":this.decodeIDAT(t);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(t);break;case"iCCP":this.decodeiCCP(t);break;case YK:QK(this._png.text,this,t);break;case"pHYs":this.decodepHYs();break;default:this.skip(t);break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?OA(this,t+4,n):this.skip(4)}decodeApngChunk(t,n){const r=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(t);break;default:this.decodeChunk(t,n),this.offset=r+t;break}if(this.offset-r!==t)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?OA(this,t+4,n):this.skip(4)}decodeIHDR(){const t=this._png;t.width=this.readUint32(),t.height=this.readUint32(),t.depth=nX(this.readUint8());const n=this.readUint8();this._colorType=n;let r;switch(n){case bi.GREYSCALE:r=1;break;case bi.TRUECOLOUR:r=3;break;case bi.INDEXED_COLOUR:r=1;break;case bi.GREYSCALE_ALPHA:r=2;break;case bi.TRUECOLOUR_ALPHA:r=4;break;case bi.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==U1.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const t={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(t)}decodePLTE(t){if(t%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${t}`);const n=t/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<n;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(t){this._writingDataChunks=!0;const n=t,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodeFDAT(t){this._writingDataChunks=!0;let n=t,r=this.offset+this.byteOffset;if(r+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,r,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(t)}decodetRNS(t){switch(this._colorType){case bi.GREYSCALE:case bi.TRUECOLOUR:{if(t%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${t}`);if(t/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${t/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(t/2);for(let n=0;n<t/2;n++)this._transparency[n]=this.readUint16();break}case bi.INDEXED_COLOUR:{if(t>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${t} vs ${this._palette.length})`);let n=0;for(;n<t;n++){const r=this.readByte();this._palette[n].push(r)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case bi.UNKNOWN:case bi.GREYSCALE_ALPHA:case bi.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(t){const n=VR(this),r=this.readUint8();if(r!==U1.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(t-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:LK(i)}}decodepHYs(){const t=this.readUint32(),n=this.readUint32(),r=this.readByte();this._png.resolution={x:t,y:n,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let t=0;t<this._numberOfFrames;t++){const n={sequenceNumber:this._frames[t].sequenceNumber,delayNumber:this._frames[t].delayNumber,delayDenominator:this._frames[t].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(t);if(r){if(r.data=jA({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),t===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)n.data=r.data;else{const i=this._apng.frames.at(t-1);this.disposeFrame(r,i,n),this.addFrameDataToCanvas(n,r)}this._apng.frames.push(n)}}return this._apng}disposeFrame(t,n,r){switch(t.disposeOp){case um.NONE:break;case um.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const a=(i*t.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[a+o]=0}break;case um.PREVIOUS:r.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(t,n){const r=1<<this._png.depth,i=(s,a)=>{const o=((s+n.yOffset)*this._png.width+n.xOffset+a)*this._png.channels,l=(s*n.width+a)*this._png.channels;return{index:o,frameIndex:l}};switch(n.blendOp){case z1.SOURCE:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++)t.data[o+c]=n.data[l+c]}break;case z1.OVER:for(let s=0;s<n.height;s++)for(let a=0;a<n.width;a++){const{index:o,frameIndex:l}=i(s,a);for(let c=0;c<this._png.channels;c++){const u=n.data[l+this._png.channels-1]/r,f=c%(this._png.channels-1)===0?1:n.data[l+c],g=Math.floor(u*f+(1-u)*t.data[o+c]);t.data[o+c]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const t=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==FA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===$1.NO_INTERLACE)this._png.data=jA({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===$1.ADAM7)this._png.data=UK({data:t,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const t=this._inflator.result,n=this._frames.at(-1);n?n.data=t:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:um.NONE,blendOp:z1.SOURCE,data:t}),this._inflator=new IA,this._writingDataChunks=!1}}function nX(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var BA;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(BA||(BA={}));function rX(e,t){return new tX(e,t).decode()}var Nt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function q1(){Nt.console&&typeof Nt.console.log=="function"&&Nt.console.log.apply(Nt.console,arguments)}var vn={log:q1,warn:function(e){Nt.console&&(typeof Nt.console.warn=="function"?Nt.console.warn.apply(Nt.console,arguments):q1.call(null,arguments))},error:function(e){Nt.console&&(typeof Nt.console.error=="function"?Nt.console.error.apply(Nt.console,arguments):q1(e))}};function H1(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){Tl(r.response,t,n)},r.onerror=function(){vn.error("could not download file")},r.send()}function UA(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function dm(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var Tl=Nt.saveAs||((typeof window>"u"?"undefined":hn(window))!=="object"||window!==Nt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=Nt.URL||Nt.webkitURL,i=document.createElement("a");t=t||e.name||"download",i.download=t,i.rel="noopener",typeof e=="string"?(i.href=e,i.origin!==location.origin?UA(i.href)?H1(e,t,n):dm(i,i.target="_blank"):dm(i)):(i.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){dm(i)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(UA(e))H1(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){dm(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:hn(s)!=="object"&&(vn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return H1(e,t,n);var i=e.type==="application/octet-stream",s=/constructor/i.test(Nt.HTMLElement)||Nt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":hn(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(e)}else{var l=Nt.URL||Nt.webkitURL,c=l.createObjectURL(e);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function GR(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(e);a&&(t=s(a),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}var Om=Nt.atob.bind(Nt),$A=Nt.btoa.bind(Nt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function W1(e,t){var n=e[0],r=e[1],i=e[2],s=e[3];n=Or(n,r,i,s,t[0],7,-680876936),s=Or(s,n,r,i,t[1],12,-389564586),i=Or(i,s,n,r,t[2],17,606105819),r=Or(r,i,s,n,t[3],22,-1044525330),n=Or(n,r,i,s,t[4],7,-176418897),s=Or(s,n,r,i,t[5],12,1200080426),i=Or(i,s,n,r,t[6],17,-1473231341),r=Or(r,i,s,n,t[7],22,-45705983),n=Or(n,r,i,s,t[8],7,1770035416),s=Or(s,n,r,i,t[9],12,-1958414417),i=Or(i,s,n,r,t[10],17,-42063),r=Or(r,i,s,n,t[11],22,-1990404162),n=Or(n,r,i,s,t[12],7,1804603682),s=Or(s,n,r,i,t[13],12,-40341101),i=Or(i,s,n,r,t[14],17,-1502002290),n=jr(n,r=Or(r,i,s,n,t[15],22,1236535329),i,s,t[1],5,-165796510),s=jr(s,n,r,i,t[6],9,-1069501632),i=jr(i,s,n,r,t[11],14,643717713),r=jr(r,i,s,n,t[0],20,-373897302),n=jr(n,r,i,s,t[5],5,-701558691),s=jr(s,n,r,i,t[10],9,38016083),i=jr(i,s,n,r,t[15],14,-660478335),r=jr(r,i,s,n,t[4],20,-405537848),n=jr(n,r,i,s,t[9],5,568446438),s=jr(s,n,r,i,t[14],9,-1019803690),i=jr(i,s,n,r,t[3],14,-187363961),r=jr(r,i,s,n,t[8],20,1163531501),n=jr(n,r,i,s,t[13],5,-1444681467),s=jr(s,n,r,i,t[2],9,-51403784),i=jr(i,s,n,r,t[7],14,1735328473),n=Dr(n,r=jr(r,i,s,n,t[12],20,-1926607734),i,s,t[5],4,-378558),s=Dr(s,n,r,i,t[8],11,-2022574463),i=Dr(i,s,n,r,t[11],16,1839030562),r=Dr(r,i,s,n,t[14],23,-35309556),n=Dr(n,r,i,s,t[1],4,-1530992060),s=Dr(s,n,r,i,t[4],11,1272893353),i=Dr(i,s,n,r,t[7],16,-155497632),r=Dr(r,i,s,n,t[10],23,-1094730640),n=Dr(n,r,i,s,t[13],4,681279174),s=Dr(s,n,r,i,t[0],11,-358537222),i=Dr(i,s,n,r,t[3],16,-722521979),r=Dr(r,i,s,n,t[6],23,76029189),n=Dr(n,r,i,s,t[9],4,-640364487),s=Dr(s,n,r,i,t[12],11,-421815835),i=Dr(i,s,n,r,t[15],16,530742520),n=Fr(n,r=Dr(r,i,s,n,t[2],23,-995338651),i,s,t[0],6,-198630844),s=Fr(s,n,r,i,t[7],10,1126891415),i=Fr(i,s,n,r,t[14],15,-1416354905),r=Fr(r,i,s,n,t[5],21,-57434055),n=Fr(n,r,i,s,t[12],6,1700485571),s=Fr(s,n,r,i,t[3],10,-1894986606),i=Fr(i,s,n,r,t[10],15,-1051523),r=Fr(r,i,s,n,t[1],21,-2054922799),n=Fr(n,r,i,s,t[8],6,1873313359),s=Fr(s,n,r,i,t[15],10,-30611744),i=Fr(i,s,n,r,t[6],15,-1560198380),r=Fr(r,i,s,n,t[13],21,1309151649),n=Fr(n,r,i,s,t[4],6,-145523070),s=Fr(s,n,r,i,t[11],10,-1120210379),i=Fr(i,s,n,r,t[2],15,718787259),r=Fr(r,i,s,n,t[9],21,-343485551),e[0]=No(n,e[0]),e[1]=No(r,e[1]),e[2]=No(i,e[2]),e[3]=No(s,e[3])}function z0(e,t,n,r,i,s){return t=No(No(t,e),No(r,s)),No(t<<i|t>>>32-i,n)}function Or(e,t,n,r,i,s,a){return z0(t&n|~t&r,e,t,i,s,a)}function jr(e,t,n,r,i,s,a){return z0(t&r|n&~r,e,t,i,s,a)}function Dr(e,t,n,r,i,s,a){return z0(t^n^r,e,t,i,s,a)}function Fr(e,t,n,r,i,s,a){return z0(n^(t|~r),e,t,i,s,a)}function YR(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)W1(r,iX(e.substring(t-64,t)));e=e.substring(t-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)i[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(i[t>>2]|=128<<(t%4<<3),t>55)for(W1(r,i),t=0;t<16;t++)i[t]=0;return i[14]=8*n,W1(r,i),r}function iX(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}var zA="0123456789abcdef".split("");function sX(e){for(var t="",n=0;n<4;n++)t+=zA[e>>8*n+4&15]+zA[e>>8*n&15];return t}function aX(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function zw(e){return YR(e).map(aX).join("")}var oX=function(e){for(var t=0;t<e.length;t++)e[t]=sX(e[t]);return e.join("")}(YR("hello"))!="5d41402abc4b2a76b9719d911017c592";function No(e,t){if(oX){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function qw(e,t){var n,r,i,s;if(e!==n){for(var a=(i=e,s=1+(256/e.length|0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=e,r=o}else o=r;var f=t.length,g=0,d=0,m="";for(l=0;l<f;l++)d=(d+(u=o[g=(g+1)%256]))%256,o[g]=o[d],o[d]=u,a=o[(o[g]+o[d])%256],m+=String.fromCharCode(t.charCodeAt(l)^a);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var qA={print:4,modify:8,copy:16,"annot-forms":32};function Wc(e,t,n,r){this.v=1,this.r=2;var i=192;e.forEach(function(o){if(qA.perm!==void 0)throw new Error("Invalid permission: "+o);i+=qA[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(t+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=zw(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=qw(this.encryptionKey,this.padding)}function Vc(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var i=e.charCodeAt(r);t+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):e[r]}return t}function HA(e){if(hn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var s=Math.random().toString(35);return t[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in t[n]){var a=t[n][s];try{a[0].apply(e,r)}catch(o){Nt.console&&vn.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function jg(e){if(!(this instanceof jg))return new jg(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function KR(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Ll(e,t,n,r,i){if(!(this instanceof Ll))return new Ll(e,t,n,r,i);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,KR.call(this,r,i)}function ou(e,t,n,r,i){if(!(this instanceof ou))return new ou(e,t,n,r,i);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,KR.call(this,r,i)}function yt(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;hn(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,i=e.format||i,s=e.compress||e.compressPdf||s,(u=e.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(l=e.floatPrecision),c=e.defaultPathOperation||"S"),a=e.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,g={},d={internal:{},__private__:{}};d.__private__.PubSub=HA;var m="1.3",v=d.__private__.getPdfVersion=function(){return m};d.__private__.setPdfVersion=function(N){m=N};var h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return h};var p=d.__private__.getPageFormat=function(N){return h[N]};i=i||"a4";var y="compat",b="advanced",k=y;function L(){this.saveGraphicsState(),M(new et(Be,0,0,-Be,0,fl()*Be).toString()+" cm"),this.setFontSize(this.getFontSize()/Be),c="n",k=b}function j(){this.restoreGraphicsState(),c="S",k=y}var D=d.__private__.combineFontStyleAndFontWeight=function(N,V){if(N=="bold"&&V=="normal"||N=="bold"&&V==400||N=="normal"&&V=="italic"||N=="bold"&&V=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return V&&(N=V==400||V==="normal"?N==="italic"?"italic":"normal":V!=700&&V!=="bold"||N!=="normal"?(V==700?"bold":V)+""+N:"bold"),N};d.advancedAPI=function(N){var V=k===y;return V&&L.call(this),typeof N!="function"||(N(this),V&&j.call(this)),this},d.compatAPI=function(N){var V=k===b;return V&&j.call(this),typeof N!="function"||(N(this),V&&L.call(this)),this},d.isAdvancedAPI=function(){return k===b};var q,z=function(N){if(k!==b)throw new Error(N+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ee=d.roundToPrecision=d.__private__.roundToPrecision=function(N,V){var be=t||V;if(isNaN(N)||isNaN(be))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return N.toFixed(be).replace(/0+$/,"")};q=d.hpf=d.__private__.hpf=typeof l=="number"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(N,l)}:l==="smart"?function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(N,N>-1&&N<1?16:5)}:function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.hpf");return ee(N,16)};var $=d.f2=d.__private__.f2=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f2");return ee(N,2)},H=d.__private__.f3=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.f3");return ee(N,3)},ae=d.scale=d.__private__.scale=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.scale");return k===y?N*Be:k===b?N:void 0},Y=function(N){return ae(function(V){return k===y?fl()-V:k===b?V:void 0}(N))};d.__private__.setPrecision=d.setPrecision=function(N){typeof parseInt(N,10)=="number"&&(t=parseInt(N,10))};var Q,ie="00000000000000000000000000000000",fe=d.__private__.getFileId=function(){return ie},W=d.__private__.setFileId=function(N){return ie=N!==void 0&&/^[a-fA-F0-9]{32}$/.test(N)?N.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(rr=new Wc(u.userPermissions,u.userPassword,u.ownerPassword,ie)),ie};d.setFileId=function(N){return W(N),this},d.getFileId=function(){return fe()};var se=d.__private__.convertDateToPDFDate=function(N){var V=N.getTimezoneOffset(),be=V<0?"+":"-",_e=Math.floor(Math.abs(V/60)),Ce=Math.abs(V%60),Oe=[be,ne(_e),"'",ne(Ce),"'"].join("");return["D:",N.getFullYear(),ne(N.getMonth()+1),ne(N.getDate()),ne(N.getHours()),ne(N.getMinutes()),ne(N.getSeconds()),Oe].join("")},oe=d.__private__.convertPDFDateToDate=function(N){var V=parseInt(N.substr(2,4),10),be=parseInt(N.substr(6,2),10)-1,_e=parseInt(N.substr(8,2),10),Ce=parseInt(N.substr(10,2),10),Oe=parseInt(N.substr(12,2),10),$e=parseInt(N.substr(14,2),10);return new Date(V,be,_e,Ce,Oe,$e,0)},K=d.__private__.setCreationDate=function(N){var V;if(N===void 0&&(N=new Date),N instanceof Date)V=se(N);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(N))throw new Error("Invalid argument passed to jsPDF.setCreationDate");V=N}return Q=V},B=d.__private__.getCreationDate=function(N){var V=Q;return N==="jsDate"&&(V=oe(Q)),V};d.setCreationDate=function(N){return K(N),this},d.getCreationDate=function(N){return B(N)};var X,ne=d.__private__.padd2=function(N){return("0"+parseInt(N)).slice(-2)},Z=d.__private__.padd2Hex=function(N){return("00"+(N=N.toString())).substr(N.length)},te=0,E=[],T=[],S=0,_=[],C=[],P=!1,O=T;d.__private__.setCustomOutputDestination=function(N){P=!0,O=N};var U=function(N){P||(O=N)};d.__private__.resetCustomOutputDestination=function(){P=!1,O=T};var M=d.__private__.out=function(N){return N=N.toString(),S+=N.length+1,O.push(N),O},J=d.__private__.write=function(N){return M(arguments.length===1?N.toString():Array.prototype.join.call(arguments," "))},pe=d.__private__.getArrayBuffer=function(N){for(var V=N.length,be=new ArrayBuffer(V),_e=new Uint8Array(be);V--;)_e[V]=N.charCodeAt(V);return be},de=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return de};var he=e.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(N){return he=k===b?N/Be:N,this};var xe,ve=d.__private__.getFontSize=d.getFontSize=function(){return k===y?he:he*Be},ce=e.R2L||!1;d.__private__.setR2L=d.setR2L=function(N){return ce=N,this},d.__private__.getR2L=d.getR2L=function(){return ce};var ge,Pe=d.__private__.setZoomMode=function(N){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(N))xe=N;else if(isNaN(N)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(N)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+N+'" is not recognized.');xe=N}else xe=parseInt(N,10)};d.__private__.getZoomMode=function(){return xe};var ke,Re=d.__private__.setPageMode=function(N){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(N)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+N+'" is not recognized.');ge=N};d.__private__.getPageMode=function(){return ge};var Fe=d.__private__.setLayoutMode=function(N){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(N)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+N+'" is not recognized.');ke=N};d.__private__.getLayoutMode=function(){return ke},d.__private__.setDisplayMode=d.setDisplayMode=function(N,V,be){return Pe(N),Fe(V),Re(be),this};var Ue={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(N){if(Object.keys(Ue).indexOf(N)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ue[N]},d.__private__.getDocumentProperties=function(){return Ue},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(N){for(var V in Ue)Ue.hasOwnProperty(V)&&N[V]&&(Ue[V]=N[V]);return this},d.__private__.setDocumentProperty=function(N,V){if(Object.keys(Ue).indexOf(N)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ue[N]=V};var Me,Be,De,lt,Je,Qe={},We={},Et=[],Xe={},Lt={},Ze={},nt={},_t=null,vt=0,rt=[],Ht=new HA(d),wt=e.hotfixes||[],ut={},bt={},pn=[],et=function N(V,be,_e,Ce,Oe,$e){if(!(this instanceof N))return new N(V,be,_e,Ce,Oe,$e);isNaN(V)&&(V=1),isNaN(be)&&(be=0),isNaN(_e)&&(_e=0),isNaN(Ce)&&(Ce=1),isNaN(Oe)&&(Oe=0),isNaN($e)&&($e=0),this._matrix=[V,be,_e,Ce,Oe,$e]};Object.defineProperty(et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(et.prototype,"a",{get:function(){return this._matrix[0]},set:function(N){this._matrix[0]=N}}),Object.defineProperty(et.prototype,"b",{get:function(){return this._matrix[1]},set:function(N){this._matrix[1]=N}}),Object.defineProperty(et.prototype,"c",{get:function(){return this._matrix[2]},set:function(N){this._matrix[2]=N}}),Object.defineProperty(et.prototype,"d",{get:function(){return this._matrix[3]},set:function(N){this._matrix[3]=N}}),Object.defineProperty(et.prototype,"e",{get:function(){return this._matrix[4]},set:function(N){this._matrix[4]=N}}),Object.defineProperty(et.prototype,"f",{get:function(){return this._matrix[5]},set:function(N){this._matrix[5]=N}}),Object.defineProperty(et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),et.prototype.join=function(N){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(N)},et.prototype.multiply=function(N){var V=N.sx*this.sx+N.shy*this.shx,be=N.sx*this.shy+N.shy*this.sy,_e=N.shx*this.sx+N.sy*this.shx,Ce=N.shx*this.shy+N.sy*this.sy,Oe=N.tx*this.sx+N.ty*this.shx+this.tx,$e=N.tx*this.shy+N.ty*this.sy+this.ty;return new et(V,be,_e,Ce,Oe,$e)},et.prototype.decompose=function(){var N=this.sx,V=this.shy,be=this.shx,_e=this.sy,Ce=this.tx,Oe=this.ty,$e=Math.sqrt(N*N+V*V),ot=(N/=$e)*be+(V/=$e)*_e;be-=N*ot,_e-=V*ot;var pt=Math.sqrt(be*be+_e*_e);return ot/=pt,N*(_e/=pt)<V*(be/=pt)&&(N=-N,V=-V,ot=-ot,$e=-$e),{scale:new et($e,0,0,pt,0,0),translate:new et(1,0,0,1,Ce,Oe),rotate:new et(N,V,-V,N,0,0),skew:new et(1,0,ot,1,0,0)}},et.prototype.toString=function(N){return this.join(" ")},et.prototype.inversed=function(){var N=this.sx,V=this.shy,be=this.shx,_e=this.sy,Ce=this.tx,Oe=this.ty,$e=1/(N*_e-V*be),ot=_e*$e,pt=-V*$e,Pt=-be*$e,Dt=N*$e;return new et(ot,pt,Pt,Dt,-ot*Ce-Pt*Oe,-pt*Ce-Dt*Oe)},et.prototype.applyToPoint=function(N){var V=N.x*this.sx+N.y*this.shx+this.tx,be=N.x*this.shy+N.y*this.sy+this.ty;return new pa(V,be)},et.prototype.applyToRectangle=function(N){var V=this.applyToPoint(N),be=this.applyToPoint(new pa(N.x+N.w,N.y+N.h));return new hd(V.x,V.y,be.x-V.x,be.y-V.y)},et.prototype.clone=function(){var N=this.sx,V=this.shy,be=this.shx,_e=this.sy,Ce=this.tx,Oe=this.ty;return new et(N,V,be,_e,Ce,Oe)},d.Matrix=et;var Sn=d.matrixMult=function(N,V){return V.multiply(N)},zt=new et(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=zt;var an=function(N,V){if(!Lt[N]){var be=(V instanceof Ll?"Sh":"P")+(Object.keys(Xe).length+1).toString(10);V.id=be,Lt[N]=be,Xe[be]=V,Ht.publish("addPattern",V)}};d.ShadingPattern=Ll,d.TilingPattern=ou,d.addShadingPattern=function(N,V){return z("addShadingPattern()"),an(N,V),this},d.beginTilingPattern=function(N){z("beginTilingPattern()"),fd(N.boundingBox[0],N.boundingBox[1],N.boundingBox[2]-N.boundingBox[0],N.boundingBox[3]-N.boundingBox[1],N.matrix)},d.endTilingPattern=function(N,V){z("endTilingPattern()"),V.stream=C[X].join(`
`),an(N,V),Ht.publish("endTilingPattern",V),pn.pop().restore()};var An,ln=d.__private__.newObject=function(){var N=fr();return br(N,!0),N},fr=d.__private__.newObjectDeferred=function(){return te++,E[te]=function(){return S},te},br=function(N,V){return V=typeof V=="boolean"&&V,E[N]=S,V&&M(N+" 0 obj"),N},al=d.__private__.newAdditionalObject=function(){var N={objId:fr(),content:""};return _.push(N),N},Va=fr(),ts=fr(),Is=d.__private__.decodeColorString=function(N){var V=N.split(" ");if(V.length!==2||V[1]!=="g"&&V[1]!=="G")V.length!==5||V[4]!=="k"&&V[4]!=="K"||(V=[(1-V[0])*(1-V[3]),(1-V[1])*(1-V[3]),(1-V[2])*(1-V[3]),"r"]);else{var be=parseFloat(V[0]);V=[be,be,be,"r"]}for(var _e="#",Ce=0;Ce<3;Ce++)_e+=("0"+Math.floor(255*parseFloat(V[Ce])).toString(16)).slice(-2);return _e},ns=d.__private__.encodeColorString=function(N){var V;typeof N=="string"&&(N={ch1:N});var be=N.ch1,_e=N.ch2,Ce=N.ch3,Oe=N.ch4,$e=N.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof be=="string"&&be.charAt(0)!=="#"){var ot=new GR(be);if(ot.ok)be=ot.toHex();else if(!/^\d*\.?\d*$/.test(be))throw new Error('Invalid color "'+be+'" passed to jsPDF.encodeColorString.')}if(typeof be=="string"&&/^#[0-9A-Fa-f]{3}$/.test(be)&&(be="#"+be[1]+be[1]+be[2]+be[2]+be[3]+be[3]),typeof be=="string"&&/^#[0-9A-Fa-f]{6}$/.test(be)){var pt=parseInt(be.substr(1),16);be=pt>>16&255,_e=pt>>8&255,Ce=255&pt}if(_e===void 0||Oe===void 0&&be===_e&&_e===Ce)V=typeof be=="string"?be+" "+$e[0]:N.precision===2?$(be/255)+" "+$e[0]:H(be/255)+" "+$e[0];else if(Oe===void 0||hn(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return["1.","1.","1.",$e[1]].join(" ");V=typeof be=="string"?[be,_e,Ce,$e[1]].join(" "):N.precision===2?[$(be/255),$(_e/255),$(Ce/255),$e[1]].join(" "):[H(be/255),H(_e/255),H(Ce/255),$e[1]].join(" ")}else V=typeof be=="string"?[be,_e,Ce,Oe,$e[2]].join(" "):N.precision===2?[$(be),$(_e),$(Ce),$(Oe),$e[2]].join(" "):[H(be),H(_e),H(Ce),H(Oe),$e[2]].join(" ");return V},rs=d.__private__.getFilters=function(){return a},Di=d.__private__.putStream=function(N){var V=(N=N||{}).data||"",be=N.filters||rs(),_e=N.alreadyAppliedFilters||[],Ce=N.addLength1||!1,Oe=V.length,$e=N.objectId,ot=function(ir){return ir};if(u!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(ot=rr.encryptor($e,0));var pt={};be===!0&&(be=["FlateEncode"]);var Pt=N.additionalKeyValues||[],Dt=(pt=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(V,be):{data:V,reverseChain:[]}).reverseChain+(Array.isArray(_e)?_e.join(" "):_e.toString());if(pt.data.length!==0&&(Pt.push({key:"Length",value:pt.data.length}),Ce===!0&&Pt.push({key:"Length1",value:Oe})),Dt.length!=0)if(Dt.split("/").length-1==1)Pt.push({key:"Filter",value:Dt});else{Pt.push({key:"Filter",value:"["+Dt+"]"});for(var Zt=0;Zt<Pt.length;Zt+=1)if(Pt[Zt].key==="DecodeParms"){for(var In=[],Jn=0;Jn<pt.reverseChain.split("/").length-1;Jn+=1)In.push("null");In.push(Pt[Zt].value),Pt[Zt].value="["+In.join(" ")+"]"}}M("<<");for(var yn=0;yn<Pt.length;yn++)M("/"+Pt[yn].key+" "+Pt[yn].value);M(">>"),pt.data.length!==0&&(M("stream"),M(ot(pt.data)),M("endstream"))},ol=d.__private__.putPage=function(N){var V=N.number,be=N.data,_e=N.objId,Ce=N.contentsObjId;br(_e,!0),M("<</Type /Page"),M("/Parent "+N.rootDictionaryObjId+" 0 R"),M("/Resources "+N.resourceDictionaryObjId+" 0 R"),M("/MediaBox ["+parseFloat(q(N.mediaBox.bottomLeftX))+" "+parseFloat(q(N.mediaBox.bottomLeftY))+" "+q(N.mediaBox.topRightX)+" "+q(N.mediaBox.topRightY)+"]"),N.cropBox!==null&&M("/CropBox ["+q(N.cropBox.bottomLeftX)+" "+q(N.cropBox.bottomLeftY)+" "+q(N.cropBox.topRightX)+" "+q(N.cropBox.topRightY)+"]"),N.bleedBox!==null&&M("/BleedBox ["+q(N.bleedBox.bottomLeftX)+" "+q(N.bleedBox.bottomLeftY)+" "+q(N.bleedBox.topRightX)+" "+q(N.bleedBox.topRightY)+"]"),N.trimBox!==null&&M("/TrimBox ["+q(N.trimBox.bottomLeftX)+" "+q(N.trimBox.bottomLeftY)+" "+q(N.trimBox.topRightX)+" "+q(N.trimBox.topRightY)+"]"),N.artBox!==null&&M("/ArtBox ["+q(N.artBox.bottomLeftX)+" "+q(N.artBox.bottomLeftY)+" "+q(N.artBox.topRightX)+" "+q(N.artBox.topRightY)+"]"),typeof N.userUnit=="number"&&N.userUnit!==1&&M("/UserUnit "+N.userUnit),Ht.publish("putPage",{objId:_e,pageContext:rt[V],pageNumber:V,page:be}),M("/Contents "+Ce+" 0 R"),M(">>"),M("endobj");var Oe=be.join(`
`);return k===b&&(Oe+=`
Q`),br(Ce,!0),Di({data:Oe,filters:rs(),objectId:Ce}),M("endobj"),_e},Ms=d.__private__.putPages=function(){var N,V,be=[];for(N=1;N<=vt;N++)rt[N].objId=fr(),rt[N].contentsObjId=fr();for(N=1;N<=vt;N++)be.push(ol({number:N,data:C[N],objId:rt[N].objId,contentsObjId:rt[N].contentsObjId,mediaBox:rt[N].mediaBox,cropBox:rt[N].cropBox,bleedBox:rt[N].bleedBox,trimBox:rt[N].trimBox,artBox:rt[N].artBox,userUnit:rt[N].userUnit,rootDictionaryObjId:Va,resourceDictionaryObjId:ts}));br(Va,!0),M("<</Type /Pages");var _e="/Kids [";for(V=0;V<vt;V++)_e+=be[V]+" 0 R ";M(_e+"]"),M("/Count "+vt),M(">>"),M("endobj"),Ht.publish("postPutPages")},ll=function(N){Ht.publish("putFont",{font:N,out:M,newObject:ln,putStream:Di}),N.isAlreadyPutted!==!0&&(N.objectNumber=ln(),M("<<"),M("/Type /Font"),M("/BaseFont /"+Vc(N.postScriptName)),M("/Subtype /Type1"),typeof N.encoding=="string"&&M("/Encoding /"+N.encoding),M("/FirstChar 32"),M("/LastChar 255"),M(">>"),M("endobj"))},pc=function(N){N.objectNumber=ln();var V=[];V.push({key:"Type",value:"/XObject"}),V.push({key:"Subtype",value:"/Form"}),V.push({key:"BBox",value:"["+[q(N.x),q(N.y),q(N.x+N.width),q(N.y+N.height)].join(" ")+"]"}),V.push({key:"Matrix",value:"["+N.matrix.toString()+"]"});var be=N.pages[1].join(`
`);Di({data:be,additionalKeyValues:V,objectId:N.objectNumber}),M("endobj")},mc=function(N,V){V||(V=21);var be=ln(),_e=function($e,ot){var pt,Pt=[],Dt=1/(ot-1);for(pt=0;pt<1;pt+=Dt)Pt.push(pt);if(Pt.push(1),$e[0].offset!=0){var Zt={offset:0,color:$e[0].color};$e.unshift(Zt)}if($e[$e.length-1].offset!=1){var In={offset:1,color:$e[$e.length-1].color};$e.push(In)}for(var Jn="",yn=0,ir=0;ir<Pt.length;ir++){for(pt=Pt[ir];pt>$e[yn+1].offset;)yn++;var Qn=$e[yn].offset,xr=(pt-Qn)/($e[yn+1].offset-Qn),va=$e[yn].color,ss=$e[yn+1].color;Jn+=Z(Math.round((1-xr)*va[0]+xr*ss[0]).toString(16))+Z(Math.round((1-xr)*va[1]+xr*ss[1]).toString(16))+Z(Math.round((1-xr)*va[2]+xr*ss[2]).toString(16))}return Jn.trim()}(N.colors,V),Ce=[];Ce.push({key:"FunctionType",value:"0"}),Ce.push({key:"Domain",value:"[0.0 1.0]"}),Ce.push({key:"Size",value:"["+V+"]"}),Ce.push({key:"BitsPerSample",value:"8"}),Ce.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ce.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Di({data:_e,additionalKeyValues:Ce,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:be}),M("endobj"),N.objectNumber=ln(),M("<< /ShadingType "+N.type),M("/ColorSpace /DeviceRGB");var Oe="/Coords ["+q(parseFloat(N.coords[0]))+" "+q(parseFloat(N.coords[1]))+" ";N.type===2?Oe+=q(parseFloat(N.coords[2]))+" "+q(parseFloat(N.coords[3])):Oe+=q(parseFloat(N.coords[2]))+" "+q(parseFloat(N.coords[3]))+" "+q(parseFloat(N.coords[4]))+" "+q(parseFloat(N.coords[5])),M(Oe+="]"),N.matrix&&M("/Matrix ["+N.matrix.toString()+"]"),M("/Function "+be+" 0 R"),M("/Extend [true true]"),M(">>"),M("endobj")},gc=function(N,V){var be=fr(),_e=ln();V.push({resourcesOid:be,objectOid:_e}),N.objectNumber=_e;var Ce=[];Ce.push({key:"Type",value:"/Pattern"}),Ce.push({key:"PatternType",value:"1"}),Ce.push({key:"PaintType",value:"1"}),Ce.push({key:"TilingType",value:"1"}),Ce.push({key:"BBox",value:"["+N.boundingBox.map(q).join(" ")+"]"}),Ce.push({key:"XStep",value:q(N.xStep)}),Ce.push({key:"YStep",value:q(N.yStep)}),Ce.push({key:"Resources",value:be+" 0 R"}),N.matrix&&Ce.push({key:"Matrix",value:"["+N.matrix.toString()+"]"}),Di({data:N.stream,additionalKeyValues:Ce,objectId:N.objectNumber}),M("endobj")},q0=function(N){for(var V in N.objectNumber=ln(),M("<<"),N)switch(V){case"opacity":M("/ca "+$(N[V]));break;case"stroke-opacity":M("/CA "+$(N[V]))}M(">>"),M("endobj")},id=function(N){br(N.resourcesOid,!0),M("<<"),M("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var V in M("/Font <<"),Qe)Qe.hasOwnProperty(V)&&(f===!1||f===!0&&g.hasOwnProperty(V))&&M("/"+V+" "+Qe[V].objectNumber+" 0 R");M(">>")}(),function(){if(Object.keys(Xe).length>0){for(var V in M("/Shading <<"),Xe)Xe.hasOwnProperty(V)&&Xe[V]instanceof Ll&&Xe[V].objectNumber>=0&&M("/"+V+" "+Xe[V].objectNumber+" 0 R");Ht.publish("putShadingPatternDict"),M(">>")}}(),function(V){if(Object.keys(Xe).length>0){for(var be in M("/Pattern <<"),Xe)Xe.hasOwnProperty(be)&&Xe[be]instanceof d.TilingPattern&&Xe[be].objectNumber>=0&&Xe[be].objectNumber<V&&M("/"+be+" "+Xe[be].objectNumber+" 0 R");Ht.publish("putTilingPatternDict"),M(">>")}}(N.objectOid),function(){if(Object.keys(Ze).length>0){var V;for(V in M("/ExtGState <<"),Ze)Ze.hasOwnProperty(V)&&Ze[V].objectNumber>=0&&M("/"+V+" "+Ze[V].objectNumber+" 0 R");Ht.publish("putGStateDict"),M(">>")}}(),function(){for(var V in M("/XObject <<"),ut)ut.hasOwnProperty(V)&&ut[V].objectNumber>=0&&M("/"+V+" "+ut[V].objectNumber+" 0 R");Ht.publish("putXobjectDict"),M(">>")}(),M(">>"),M("endobj")},qf=function(N){We[N.fontName]=We[N.fontName]||{},We[N.fontName][N.fontStyle]=N.id},Hf=function(N,V,be,_e,Ce){var Oe={id:"F"+(Object.keys(Qe).length+1).toString(10),postScriptName:N,fontName:V,fontStyle:be,encoding:_e,isStandardFont:Ce||!1,metadata:{}};return Ht.publish("addFont",{font:Oe,instance:this}),Qe[Oe.id]=Oe,qf(Oe),Oe.id},Fi=d.__private__.pdfEscape=d.pdfEscape=function(N,V){return function(be,_e){var Ce,Oe,$e,ot,pt,Pt,Dt,Zt,In;if($e=(_e=_e||{}).sourceEncoding||"Unicode",pt=_e.outputEncoding,(_e.autoencode||pt)&&Qe[Me].metadata&&Qe[Me].metadata[$e]&&Qe[Me].metadata[$e].encoding&&(ot=Qe[Me].metadata[$e].encoding,!pt&&Qe[Me].encoding&&(pt=Qe[Me].encoding),!pt&&ot.codePages&&(pt=ot.codePages[0]),typeof pt=="string"&&(pt=ot[pt]),pt)){for(Dt=!1,Pt=[],Ce=0,Oe=be.length;Ce<Oe;Ce++)(Zt=pt[be.charCodeAt(Ce)])?Pt.push(String.fromCharCode(Zt)):Pt.push(be[Ce]),Pt[Ce].charCodeAt(0)>>8&&(Dt=!0);be=Pt.join("")}for(Ce=be.length;Dt===void 0&&Ce!==0;)be.charCodeAt(Ce-1)>>8&&(Dt=!0),Ce--;if(!Dt)return be;for(Pt=_e.noBOM?[]:[254,255],Ce=0,Oe=be.length;Ce<Oe;Ce++){if((In=(Zt=be.charCodeAt(Ce))>>8)>>8)throw new Error("Character at position "+Ce+" of string '"+be+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Pt.push(In),Pt.push(Zt-(In<<8))}return String.fromCharCode.apply(void 0,Pt)}(N,V).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},sd=d.__private__.beginPage=function(N){C[++vt]=[],rt[vt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(N[0]),topRightY:Number(N[1])}},Vf(vt),U(C[X])},Wf=function(N,V){var be,_e,Ce;switch(n=V||n,typeof N=="string"&&(be=p(N.toLowerCase()),Array.isArray(be)&&(_e=be[0],Ce=be[1])),Array.isArray(N)&&(_e=N[0]*Be,Ce=N[1]*Be),isNaN(_e)&&(_e=i[0],Ce=i[1]),(_e>14400||Ce>14400)&&(vn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_e=Math.min(14400,_e),Ce=Math.min(14400,Ce)),i=[_e,Ce],n.substr(0,1)){case"l":Ce>_e&&(i=[Ce,_e]);break;case"p":_e>Ce&&(i=[Ce,_e])}sd(i),Rt(ld),M(bc),ud!==0&&M(ud+" J"),dd!==0&&M(dd+" j"),Ht.publish("addPage",{pageNumber:vt})},ad=function(N){N>0&&N<=vt&&(C.splice(N,1),rt.splice(N,1),vt--,X>vt&&(X=vt),this.setPage(X))},Vf=function(N){N>0&&N<=vt&&(X=N)},Gf=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return C.length-1},Yf=function(N,V,be){var _e,Ce=void 0;return be=be||{},N=N!==void 0?N:Qe[Me].fontName,V=V!==void 0?V:Qe[Me].fontStyle,_e=N.toLowerCase(),We[_e]!==void 0&&We[_e][V]!==void 0?Ce=We[_e][V]:We[N]!==void 0&&We[N][V]!==void 0?Ce=We[N][V]:be.disableWarning===!1&&vn.warn("Unable to look up font label for font '"+N+"', '"+V+"'. Refer to getFontList() for available fonts."),Ce||be.noFallback||(Ce=We.times[V])==null&&(Ce=We.times.normal),Ce},Os=d.__private__.putInfo=function(){var N=ln(),V=function(_e){return _e};for(var be in u!==null&&(V=rr.encryptor(N,0)),M("<<"),M("/Producer ("+Fi(V("jsPDF "+yt.version))+")"),Ue)Ue.hasOwnProperty(be)&&Ue[be]&&M("/"+be.substr(0,1).toUpperCase()+be.substr(1)+" ("+Fi(V(Ue[be]))+")");M("/CreationDate ("+Fi(V(Q))+")"),M(">>"),M("endobj")},vc=d.__private__.putCatalog=function(N){var V=(N=N||{}).rootDictionaryObjId||Va;switch(ln(),M("<<"),M("/Type /Catalog"),M("/Pages "+V+" 0 R"),xe||(xe="fullwidth"),xe){case"fullwidth":M("/OpenAction [3 0 R /FitH null]");break;case"fullheight":M("/OpenAction [3 0 R /FitV null]");break;case"fullpage":M("/OpenAction [3 0 R /Fit]");break;case"original":M("/OpenAction [3 0 R /XYZ null null 1]");break;default:var be=""+xe;be.substr(be.length-1)==="%"&&(xe=parseInt(xe)/100),typeof xe=="number"&&M("/OpenAction [3 0 R /XYZ null null "+$(xe)+"]")}switch(ke||(ke="continuous"),ke){case"continuous":M("/PageLayout /OneColumn");break;case"single":M("/PageLayout /SinglePage");break;case"two":case"twoleft":M("/PageLayout /TwoColumnLeft");break;case"tworight":M("/PageLayout /TwoColumnRight")}ge&&M("/PageMode /"+ge),Ht.publish("putCatalog"),M(">>"),M("endobj")},H0=d.__private__.putTrailer=function(){M("trailer"),M("<<"),M("/Size "+(te+1)),M("/Root "+te+" 0 R"),M("/Info "+(te-1)+" 0 R"),u!==null&&M("/Encrypt "+rr.oid+" 0 R"),M("/ID [ <"+ie+"> <"+ie+"> ]"),M(">>")},Zn=d.__private__.putHeader=function(){M("%PDF-"+m),M("%")},Kf=d.__private__.putXRef=function(){var N="0000000000";M("xref"),M("0 "+(te+1)),M("0000000000 65535 f ");for(var V=1;V<=te;V++)typeof E[V]=="function"?M((N+E[V]()).slice(-10)+" 00000 n "):E[V]!==void 0?M((N+E[V]).slice(-10)+" 00000 n "):M("0000000000 00000 n ")},js=d.__private__.buildDocument=function(){var N;te=0,S=0,T=[],E=[],_=[],Va=fr(),ts=fr(),U(T),Ht.publish("buildDocument"),Zn(),Ms(),function(){Ht.publish("putAdditionalObjects");for(var be=0;be<_.length;be++){var _e=_[be];br(_e.objId,!0),M(_e.content),M("endobj")}Ht.publish("postPutAdditionalObjects")}(),N=[],function(){for(var be in Qe)Qe.hasOwnProperty(be)&&(f===!1||f===!0&&g.hasOwnProperty(be))&&ll(Qe[be])}(),function(){var be;for(be in Ze)Ze.hasOwnProperty(be)&&q0(Ze[be])}(),function(){for(var be in ut)ut.hasOwnProperty(be)&&pc(ut[be])}(),function(be){var _e;for(_e in Xe)Xe.hasOwnProperty(_e)&&(Xe[_e]instanceof Ll?mc(Xe[_e]):Xe[_e]instanceof ou&&gc(Xe[_e],be))}(N),Ht.publish("putResources"),N.forEach(id),id({resourcesOid:ts,objectOid:Number.MAX_SAFE_INTEGER}),Ht.publish("postPutResources"),u!==null&&(rr.oid=ln(),M("<<"),M("/Filter /Standard"),M("/V "+rr.v),M("/R "+rr.r),M("/U <"+rr.toHexString(rr.U)+">"),M("/O <"+rr.toHexString(rr.O)+">"),M("/P "+rr.P),M(">>"),M("endobj")),Os(),vc();var V=S;return Kf(),H0(),M("startxref"),M(""+V),M("%%EOF"),U(C[X]),T.join(`
`)},yc=d.__private__.getBlob=function(N){return new Blob([pe(N)],{type:"application/pdf"})},Xf=d.output=d.__private__.output=(An=function(N,V){switch(typeof(V=V||{})=="string"?V={filename:V}:V.filename=V.filename||"generated.pdf",N){case void 0:return js();case"save":d.save(V.filename);break;case"arraybuffer":return pe(js());case"blob":return yc(js());case"bloburi":case"bloburl":if(Nt.URL!==void 0&&typeof Nt.URL.createObjectURL=="function")return Nt.URL&&Nt.URL.createObjectURL(yc(js()))||void 0;vn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var be="",_e=js();try{be=$A(_e)}catch{be=$A(unescape(encodeURIComponent(_e)))}return"data:application/pdf;filename="+V.filename+";base64,"+be;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Nt)==="[object Window]"){var Ce="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';V.pdfObjectUrl&&(Ce=V.pdfObjectUrl,Oe="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ce+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(V)+");<\/script></body></html>",ot=Nt.open();return ot!==null&&ot.document.write($e),ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Nt)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(V.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+V.filename+'" width="500px" height="400px" /></body></html>',Pt=Nt.open();if(Pt!==null){Pt.document.write(pt);var Dt=this;Pt.document.documentElement.querySelector("#pdfViewer").onload=function(){Pt.document.title=V.filename,Pt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Dt.output("bloburl"))}}return Pt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Nt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",V)+'"></iframe></body></html>',In=Nt.open();if(In!==null&&(In.document.write(Zt),In.document.title=V.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return Nt.document.location.href=this.output("datauristring",V);default:return null}},An.foo=function(){try{return An.apply(this,arguments)}catch(be){var N=be.stack||"";~N.indexOf(" at ")&&(N=N.split(" at ")[1]);var V="Error in function "+N.split(`
`)[0].split("<")[0]+": "+be.message;if(!Nt.console)throw new Error(V);Nt.console.error(V,be),Nt.alert&&alert(V)}},An.foo.bar=An,An.foo),Bi=function(N){return Array.isArray(wt)===!0&&wt.indexOf(N)>-1};switch(r){case"pt":Be=1;break;case"mm":Be=72/25.4;break;case"cm":Be=72/2.54;break;case"in":Be=72;break;case"px":Be=Bi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Be=12;break;case"ex":Be=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Be=r}var rr=null;K(),W();var ua=d.__private__.getPageInfo=d.getPageInfo=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:rt[N].objId,pageNumber:N,pageContext:rt[N]}},Zf=d.__private__.getPageInfoByObjId=function(N){if(isNaN(N)||N%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var V in rt)if(rt[V].objId===N)break;return ua(V)},W0=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:rt[X].objId,pageNumber:X,pageContext:rt[X]}};d.addPage=function(){return Wf.apply(this,arguments),this},d.setPage=function(){return Vf.apply(this,arguments),U.call(this,C[X]),this},d.insertPage=function(N){return this.addPage(),this.movePage(X,N),this},d.movePage=function(N,V){var be,_e;if(N>V){be=C[N],_e=rt[N];for(var Ce=N;Ce>V;Ce--)C[Ce]=C[Ce-1],rt[Ce]=rt[Ce-1];C[V]=be,rt[V]=_e,this.setPage(V)}else if(N<V){be=C[N],_e=rt[N];for(var Oe=N;Oe<V;Oe++)C[Oe]=C[Oe+1],rt[Oe]=rt[Oe+1];C[V]=be,rt[V]=_e,this.setPage(V)}return this},d.deletePage=function(){return ad.apply(this,arguments),this},d.__private__.text=d.text=function(N,V,be,_e,Ce){var Oe,$e,ot,pt,Pt,Dt,Zt,In,Jn,yn=(_e=_e||{}).scope||this;if(typeof N=="number"&&typeof V=="number"&&(typeof be=="string"||Array.isArray(be))){var ir=be;be=V,V=N,N=ir}if(arguments[3]instanceof et==0?(ot=arguments[4],pt=arguments[5],hn(Zt=arguments[3])==="object"&&Zt!==null||(typeof ot=="string"&&(pt=ot,ot=null),typeof Zt=="string"&&(pt=Zt,Zt=null),typeof Zt=="number"&&(ot=Zt,Zt=null),_e={flags:Zt,angle:ot,align:pt})):(z("The transform parameter of text() with a Matrix value"),Jn=Ce),isNaN(V)||isNaN(be)||N==null)throw new Error("Invalid arguments passed to jsPDF.text");if(N.length===0)return yn;var Qn,xr="",va=typeof _e.lineHeightFactor=="number"?_e.lineHeightFactor:ul,ss=yn.internal.scaleFactor;function ya(on){return on=on.split("	").join(Array(_e.TabLen||9).join(" ")),Fi(on,Zt)}function md(on){for(var mn,Hn=on.concat(),sr=[],xa=Hn.length;xa--;)typeof(mn=Hn.shift())=="string"?sr.push(mn):Array.isArray(on)&&(mn.length===1||mn[1]===void 0&&mn[2]===void 0)?sr.push(mn[0]):sr.push([mn[0],mn[1],mn[2]]);return sr}function _c(on,mn){var Hn;if(typeof on=="string")Hn=mn(on)[0];else if(Array.isArray(on)){for(var sr,xa,kd=on.concat(),kc=[],lp=kd.length;lp--;)typeof(sr=kd.shift())=="string"?kc.push(mn(sr)[0]):Array.isArray(sr)&&typeof sr[0]=="string"&&(xa=mn(sr[0],sr[1],sr[2]),kc.push([xa[0],xa[1],xa[2]]));Hn=kc}return Hn}var Ga=!1,pl=!0;if(typeof N=="string")Ga=!0;else if(Array.isArray(N)){var ml=N.concat();$e=[];for(var Ya,_r=ml.length;_r--;)(typeof(Ya=ml.shift())!="string"||Array.isArray(Ya)&&typeof Ya[0]!="string")&&(pl=!1);Ga=pl}if(Ga===!1)throw new Error('Type of text must be string or Array. "'+N+'" is not recognized.');typeof N=="string"&&(N=N.match(/[\r?\n]/)?N.split(/\r\n|\r|\n/g):[N]);var gl=he/yn.internal.scaleFactor,vl=gl*(va-1);switch(_e.baseline){case"bottom":be-=vl;break;case"top":be+=gl-vl;break;case"hanging":be+=gl-2*vl;break;case"middle":be+=gl/2-vl}if((Dt=_e.maxWidth||0)>0&&(typeof N=="string"?N=yn.splitTextToSize(N,Dt):Object.prototype.toString.call(N)==="[object Array]"&&(N=N.reduce(function(on,mn){return on.concat(yn.splitTextToSize(mn,Dt))},[]))),Oe={text:N,x:V,y:be,options:_e,mutex:{pdfEscape:Fi,activeFontKey:Me,fonts:Qe,activeFontSize:he}},Ht.publish("preProcessText",Oe),N=Oe.text,ot=(_e=Oe.options).angle,Jn instanceof et==0&&ot&&typeof ot=="number"){ot*=Math.PI/180,_e.rotationDirection===0&&(ot=-ot),k===b&&(ot=-ot);var gd=Math.cos(ot),vd=Math.sin(ot);Jn=new et(gd,vd,-vd,gd,0,0)}else ot&&ot instanceof et&&(Jn=ot);k!==b||Jn||(Jn=zt),(Pt=_e.charSpace||fa)!==void 0&&(xr+=q(ae(Pt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=_e.horizontalScale)!==void 0&&(xr+=q(100*In)+` Tz
`),_e.lang;var zr=-1,wa=_e.renderingMode!==void 0?_e.renderingMode:_e.stroke,Sc=yn.internal.getCurrentPageInfo().pageContext;switch(wa){case 0:case!1:case"fill":zr=0;break;case 1:case!0:case"stroke":zr=1;break;case 2:case"fillThenStroke":zr=2;break;case 3:case"invisible":zr=3;break;case 4:case"fillAndAddForClipping":zr=4;break;case 5:case"strokeAndAddPathForClipping":zr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":zr=6;break;case 7:case"addToPathForClipping":zr=7}var ap=Sc.usedRenderingMode!==void 0?Sc.usedRenderingMode:-1;zr!==-1?xr+=zr+` Tr
`:ap!==-1&&(xr+=`0 Tr
`),zr!==-1&&(Sc.usedRenderingMode=zr),pt=_e.align||"left";var Ui,yl=he*va,yd=yn.internal.pageSize.getWidth(),wd=Qe[Me];Pt=_e.charSpace||fa,Dt=_e.maxWidth||0,Zt=Object.assign({autoencode:!0,noBOM:!0},_e.flags);var Ka=[],wl=function(on){return yn.getStringUnitWidth(on,{font:wd,charSpace:Pt,fontSize:he,doKerning:!1})*he/ss};if(Object.prototype.toString.call(N)==="[object Array]"){var hi;$e=md(N),pt!=="left"&&(Ui=$e.map(wl));var fi,Xa=0;if(pt==="right"){V-=Ui[0],N=[],_r=$e.length;for(var ba=0;ba<_r;ba++)ba===0?(fi=da(V),hi=ha(be)):(fi=ae(Xa-Ui[ba]),hi=-yl),N.push([$e[ba],fi,hi]),Xa=Ui[ba]}else if(pt==="center"){V-=Ui[0]/2,N=[],_r=$e.length;for(var Za=0;Za<_r;Za++)Za===0?(fi=da(V),hi=ha(be)):(fi=ae((Xa-Ui[Za])/2),hi=-yl),N.push([$e[Za],fi,hi]),Xa=Ui[Za]}else if(pt==="left"){N=[],_r=$e.length;for(var bd=0;bd<_r;bd++)N.push($e[bd])}else if(pt==="justify"&&wd.encoding==="Identity-H"){N=[],_r=$e.length,Dt=Dt!==0?Dt:yd;for(var Ac=0,qn=0;qn<_r;qn++)if(hi=qn===0?ha(be):-yl,fi=qn===0?da(V):Ac,qn<_r-1){var op=ae((Dt-Ui[qn])/($e[qn].split(" ").length-1)),Fs=$e[qn].split(" ");N.push([Fs[0]+" ",fi,hi]),Ac=0;for(var Bs=1;Bs<Fs.length;Bs++){var xd=(wl(Fs[Bs-1]+" "+Fs[Bs])-wl(Fs[Bs]))*ss+op;Bs==Fs.length-1?N.push([Fs[Bs],xd,0]):N.push([Fs[Bs]+" ",xd,0]),Ac-=xd}}else N.push([$e[qn],fi,hi]);N.push(["",Ac,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(N=[],_r=$e.length,Dt=Dt!==0?Dt:yd,qn=0;qn<_r;qn++){hi=qn===0?ha(be):-yl,fi=qn===0?da(V):0;var _d=$e[qn].split(" ").length-1,Sd=_d>0?(Dt-Ui[qn])/_d:0;qn<_r-1?Ka.push(q(ae(Sd))):Ka.push(0),N.push([$e[qn],fi,hi])}}}(typeof _e.R2L=="boolean"?_e.R2L:ce)===!0&&(N=_c(N,function(on,mn,Hn){return[on.split("").reverse().join(""),mn,Hn]})),Oe={text:N,x:V,y:be,options:_e,mutex:{pdfEscape:Fi,activeFontKey:Me,fonts:Qe,activeFontSize:he}},Ht.publish("postProcessText",Oe),N=Oe.text,Qn=Oe.mutex.isHex||!1;var Ad=Qe[Me].encoding;Ad!=="WinAnsiEncoding"&&Ad!=="StandardEncoding"||(N=_c(N,function(on,mn,Hn){return[ya(on),mn,Hn]})),$e=md(N),N=[];for(var Ja,Qa,eo,bl=Array.isArray($e[0])?1:0,to="",xl=function(on,mn,Hn){var sr="";return Hn instanceof et?(Hn=typeof _e.angle=="number"?Sn(Hn,new et(1,0,0,1,on,mn)):Sn(new et(1,0,0,1,on,mn),Hn),k===b&&(Hn=Sn(new et(1,0,0,-1,0,0),Hn)),sr=Hn.join(" ")+` Tm
`):sr=q(on)+" "+q(mn)+` Td
`,sr},$i=0;$i<$e.length;$i++){switch(to="",bl){case 1:eo=(Qn?"<":"(")+$e[$i][0]+(Qn?">":")"),Ja=parseFloat($e[$i][1]),Qa=parseFloat($e[$i][2]);break;case 0:eo=(Qn?"<":"(")+$e[$i]+(Qn?">":")"),Ja=da(V),Qa=ha(be)}Ka!==void 0&&Ka[$i]!==void 0&&(to=Ka[$i]+` Tw
`),$i===0?N.push(to+xl(Ja,Qa,Jn)+eo):bl===0?N.push(to+eo):bl===1&&N.push(to+xl(Ja,Qa,Jn)+eo)}N=bl===0?N.join(` Tj
T* `):N.join(` Tj
`),N+=` Tj
`;var Us=`BT
/`;return Us+=Me+" "+he+` Tf
`,Us+=q(he*va)+` TL
`,Us+=dl+`
`,Us+=xr,Us+=N,M(Us+="ET"),g[Me]=!0,yn};var V0=d.__private__.clip=d.clip=function(N){return M(N==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return V0("evenodd")},d.__private__.discardPath=d.discardPath=function(){return M("n"),this};var Ds=d.__private__.isValidStyle=function(N){var V=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(N)!==-1&&(V=!0),V};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(N){return Ds(N)&&(c=N),this};var Jf=d.__private__.getStyle=d.getStyle=function(N){var V=c;switch(N){case"D":case"S":V="S";break;case"F":V="f";break;case"FD":case"DF":V="B";break;case"f":case"f*":case"B":case"B*":V=N}return V},Qf=d.close=function(){return M("h"),this};d.stroke=function(){return M("S"),this},d.fill=function(N){return wc("f",N),this},d.fillEvenOdd=function(N){return wc("f*",N),this},d.fillStroke=function(N){return wc("B",N),this},d.fillStrokeEvenOdd=function(N){return wc("B*",N),this};var wc=function(N,V){hn(V)==="object"?Y0(V,N):M(N)},cl=function(N){N===null||k===b&&N===void 0||(N=Jf(N),M(N))};function G0(N,V,be,_e,Ce){var Oe=new ou(V||this.boundingBox,be||this.xStep,_e||this.yStep,this.gState,Ce||this.matrix);Oe.stream=this.stream;var $e=N+"$$"+this.cloneIndex+++"$$";return an($e,Oe),Oe}var Y0=function(N,V){var be=Lt[N.key],_e=Xe[be];if(_e instanceof Ll)M("q"),M(K0(V)),_e.gState&&d.setGState(_e.gState),M(N.matrix.toString()+" cm"),M("/"+be+" sh"),M("Q");else if(_e instanceof ou){var Ce=new et(1,0,0,-1,0,fl());N.matrix&&(Ce=Ce.multiply(N.matrix||zt),be=G0.call(_e,N.key,N.boundingBox,N.xStep,N.yStep,Ce).id),M("q"),M("/Pattern cs"),M("/"+be+" scn"),_e.gState&&d.setGState(_e.gState),M(V),M("Q")}},K0=function(N){switch(N){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},od=d.moveTo=function(N,V){return M(q(ae(N))+" "+q(Y(V))+" m"),this},ep=d.lineTo=function(N,V){return M(q(ae(N))+" "+q(Y(V))+" l"),this},is=d.curveTo=function(N,V,be,_e,Ce,Oe){return M([q(ae(N)),q(Y(V)),q(ae(be)),q(Y(_e)),q(ae(Ce)),q(Y(Oe)),"c"].join(" ")),this};d.__private__.line=d.line=function(N,V,be,_e,Ce){if(isNaN(N)||isNaN(V)||isNaN(be)||isNaN(_e)||!Ds(Ce))throw new Error("Invalid arguments passed to jsPDF.line");return k===y?this.lines([[be-N,_e-V]],N,V,[1,1],Ce||"S"):this.lines([[be-N,_e-V]],N,V,[1,1]).stroke()},d.__private__.lines=d.lines=function(N,V,be,_e,Ce,Oe){var $e,ot,pt,Pt,Dt,Zt,In,Jn,yn,ir,Qn,xr;if(typeof N=="number"&&(xr=be,be=V,V=N,N=xr),_e=_e||[1,1],Oe=Oe||!1,isNaN(V)||isNaN(be)||!Array.isArray(N)||!Array.isArray(_e)||!Ds(Ce)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(od(V,be),$e=_e[0],ot=_e[1],Pt=N.length,ir=V,Qn=be,pt=0;pt<Pt;pt++)(Dt=N[pt]).length===2?(ir=Dt[0]*$e+ir,Qn=Dt[1]*ot+Qn,ep(ir,Qn)):(Zt=Dt[0]*$e+ir,In=Dt[1]*ot+Qn,Jn=Dt[2]*$e+ir,yn=Dt[3]*ot+Qn,ir=Dt[4]*$e+ir,Qn=Dt[5]*ot+Qn,is(Zt,In,Jn,yn,ir,Qn));return Oe&&Qf(),cl(Ce),this},d.path=function(N){for(var V=0;V<N.length;V++){var be=N[V],_e=be.c;switch(be.op){case"m":od(_e[0],_e[1]);break;case"l":ep(_e[0],_e[1]);break;case"c":is.apply(this,_e);break;case"h":Qf()}}return this},d.__private__.rect=d.rect=function(N,V,be,_e,Ce){if(isNaN(N)||isNaN(V)||isNaN(be)||isNaN(_e)||!Ds(Ce))throw new Error("Invalid arguments passed to jsPDF.rect");return k===y&&(_e=-_e),M([q(ae(N)),q(Y(V)),q(ae(be)),q(ae(_e)),"re"].join(" ")),cl(Ce),this},d.__private__.triangle=d.triangle=function(N,V,be,_e,Ce,Oe,$e){if(isNaN(N)||isNaN(V)||isNaN(be)||isNaN(_e)||isNaN(Ce)||isNaN(Oe)||!Ds($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[be-N,_e-V],[Ce-be,Oe-_e],[N-Ce,V-Oe]],N,V,[1,1],$e,!0),this},d.__private__.roundedRect=d.roundedRect=function(N,V,be,_e,Ce,Oe,$e){if(isNaN(N)||isNaN(V)||isNaN(be)||isNaN(_e)||isNaN(Ce)||isNaN(Oe)||!Ds($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ot=4/3*(Math.SQRT2-1);return Ce=Math.min(Ce,.5*be),Oe=Math.min(Oe,.5*_e),this.lines([[be-2*Ce,0],[Ce*ot,0,Ce,Oe-Oe*ot,Ce,Oe],[0,_e-2*Oe],[0,Oe*ot,-Ce*ot,Oe,-Ce,Oe],[2*Ce-be,0],[-Ce*ot,0,-Ce,-Oe*ot,-Ce,-Oe],[0,2*Oe-_e],[0,-Oe*ot,Ce*ot,-Oe,Ce,-Oe]],N+Ce,V,[1,1],$e,!0),this},d.__private__.ellipse=d.ellipse=function(N,V,be,_e,Ce){if(isNaN(N)||isNaN(V)||isNaN(be)||isNaN(_e)||!Ds(Ce))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*be,$e=4/3*(Math.SQRT2-1)*_e;return od(N+be,V),is(N+be,V-$e,N+Oe,V-_e,N,V-_e),is(N-Oe,V-_e,N-be,V-$e,N-be,V),is(N-be,V+$e,N-Oe,V+_e,N,V+_e),is(N+Oe,V+_e,N+be,V+$e,N+be,V),cl(Ce),this},d.__private__.circle=d.circle=function(N,V,be,_e){if(isNaN(N)||isNaN(V)||isNaN(be)||!Ds(_e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(N,V,be,be,_e)},d.setFont=function(N,V,be){return be&&(V=D(V,be)),Me=Yf(N,V,{disableWarning:!1}),this};var X0=d.__private__.getFont=d.getFont=function(){return Qe[Yf.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var N,V,be={};for(N in We)if(We.hasOwnProperty(N))for(V in be[N]=[],We[N])We[N].hasOwnProperty(V)&&be[N].push(V);return be},d.addFont=function(N,V,be,_e,Ce){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?Ce=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(be=D(be,_e)),Hf.call(this,N,V,be,Ce=Ce||"Identity-H")};var ul,ld=e.lineWidth||.200025,Z0=d.__private__.getLineWidth=d.getLineWidth=function(){return ld},Rt=d.__private__.setLineWidth=d.setLineWidth=function(N){return ld=N,M(q(ae(N))+" w"),this};d.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(N,V){if(N=N||[],V=V||0,isNaN(V)||!Array.isArray(N))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return N=N.map(function(be){return q(ae(be))}).join(" "),V=q(ae(V)),M("["+N+"] "+V+" d"),this};var J0=d.__private__.getLineHeight=d.getLineHeight=function(){return he*ul};d.__private__.getLineHeight=d.getLineHeight=function(){return he*ul};var Q0=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(N){return typeof(N=N||1.15)=="number"&&(ul=N),this},ev=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return ul};Q0(e.lineHeight);var da=d.__private__.getHorizontalCoordinate=function(N){return ae(N)},ha=d.__private__.getVerticalCoordinate=function(N){return k===b?N:rt[X].mediaBox.topRightY-rt[X].mediaBox.bottomLeftY-ae(N)},tv=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(N){return q(da(N))},nv=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(N){return q(ha(N))},bc=e.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Is(bc)},d.__private__.setStrokeColor=d.setDrawColor=function(N,V,be,_e){return bc=ns({ch1:N,ch2:V,ch3:be,ch4:_e,pdfColorType:"draw",precision:2}),M(bc),this};var cd=e.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Is(cd)},d.__private__.setFillColor=d.setFillColor=function(N,V,be,_e){return cd=ns({ch1:N,ch2:V,ch3:be,ch4:_e,pdfColorType:"fill",precision:2}),M(cd),this};var dl=e.textColor||"0 g",rv=d.__private__.getTextColor=d.getTextColor=function(){return Is(dl)};d.__private__.setTextColor=d.setTextColor=function(N,V,be,_e){return dl=ns({ch1:N,ch2:V,ch3:be,ch4:_e,pdfColorType:"text",precision:3}),this};var fa=e.charSpace,iv=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(fa||0)};d.__private__.setCharSpace=d.setCharSpace=function(N){if(isNaN(N))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return fa=N,this};var ud=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(N){var V=d.CapJoinStyles[N];if(V===void 0)throw new Error("Line cap style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ud=V,M(V+" J"),this};var dd=0;d.__private__.setLineJoin=d.setLineJoin=function(N){var V=d.CapJoinStyles[N];if(V===void 0)throw new Error("Line join style of '"+N+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return dd=V,M(V+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(N){if(N=N||0,isNaN(N))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return M(q(ae(N))+" M"),this},d.GState=jg,d.setGState=function(N){(N=typeof N=="string"?Ze[nt[N]]:tp(null,N)).equals(_t)||(M("/"+N.id+" gs"),_t=N)};var tp=function(N,V){if(!N||!nt[N]){var be=!1;for(var _e in Ze)if(Ze.hasOwnProperty(_e)&&Ze[_e].equals(V)){be=!0;break}if(be)V=Ze[_e];else{var Ce="GS"+(Object.keys(Ze).length+1).toString(10);Ze[Ce]=V,V.id=Ce}return N&&(nt[N]=V.id),Ht.publish("addGState",V),V}};d.addGState=function(N,V){return tp(N,V),this},d.saveGraphicsState=function(){return M("q"),Et.push({key:Me,size:he,color:dl}),this},d.restoreGraphicsState=function(){M("Q");var N=Et.pop();return Me=N.key,he=N.size,dl=N.color,_t=null,this},d.setCurrentTransformationMatrix=function(N){return M(N.toString()+" cm"),this},d.comment=function(N){return M("#"+N),this};var pa=function(N,V){var be=N||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return be},set:function(Oe){isNaN(Oe)||(be=parseFloat(Oe))}});var _e=V||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _e},set:function(Oe){isNaN(Oe)||(_e=parseFloat(Oe))}});var Ce="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ce},set:function(Oe){Ce=Oe.toString()}}),this},hd=function(N,V,be,_e){pa.call(this,N,V),this.type="rect";var Ce=be||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ce},set:function($e){isNaN($e)||(Ce=parseFloat($e))}});var Oe=_e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function($e){isNaN($e)||(Oe=parseFloat($e))}}),this},xc=function(){this.page=vt,this.currentPage=X,this.pages=C.slice(0),this.pagesContext=rt.slice(0),this.x=De,this.y=lt,this.matrix=Je,this.width=pd(X),this.height=rp(X),this.outputDestination=O,this.id="",this.objectNumber=-1};xc.prototype.restore=function(){vt=this.page,X=this.currentPage,rt=this.pagesContext,C=this.pages,De=this.x,lt=this.y,Je=this.matrix,np(X,this.width),ma(X,this.height),O=this.outputDestination};var fd=function(N,V,be,_e,Ce){pn.push(new xc),vt=X=0,C=[],De=N,lt=V,Je=Ce,sd([be,_e])};for(var hl in d.beginFormObject=function(N,V,be,_e,Ce){return fd(N,V,be,_e,Ce),this},d.endFormObject=function(N){return function(V){if(bt[V])pn.pop().restore();else{var be=new xc,_e="Xo"+(Object.keys(ut).length+1).toString(10);be.id=_e,bt[V]=_e,ut[_e]=be,Ht.publish("addFormObject",be),pn.pop().restore()}}(N),this},d.doFormObject=function(N,V){var be=ut[bt[N]];return M("q"),M(V.toString()+" cm"),M("/"+be.id+" Do"),M("Q"),this},d.getFormObject=function(N){var V=ut[bt[N]];return{x:V.x,y:V.y,width:V.width,height:V.height,matrix:V.matrix}},d.save=function(N,V){return N=N||"generated.pdf",(V=V||{}).returnPromise=V.returnPromise||!1,V.returnPromise===!1?(Tl(yc(js()),N),typeof Tl.unload=="function"&&Nt.setTimeout&&setTimeout(Tl.unload,911),this):new Promise(function(be,_e){try{var Ce=Tl(yc(js()),N);typeof Tl.unload=="function"&&Nt.setTimeout&&setTimeout(Tl.unload,911),be(Ce)}catch(Oe){_e(Oe.message)}})},yt.API)yt.API.hasOwnProperty(hl)&&(hl==="events"&&yt.API.events.length?function(N,V){var be,_e,Ce;for(Ce=V.length-1;Ce!==-1;Ce--)be=V[Ce][0],_e=V[Ce][1],N.subscribe.apply(N,[be].concat(typeof _e=="function"?[_e]:_e))}(Ht,yt.API.events):d[hl]=yt.API[hl]);function pd(N){return rt[N].mediaBox.topRightX-rt[N].mediaBox.bottomLeftX}function np(N,V){rt[N].mediaBox.topRightX=V+rt[N].mediaBox.bottomLeftX}function rp(N){return rt[N].mediaBox.topRightY-rt[N].mediaBox.bottomLeftY}function ma(N,V){rt[N].mediaBox.topRightY=V+rt[N].mediaBox.bottomLeftY}var ga=d.getPageWidth=function(N){return pd(N=N||X)/Be},ip=d.setPageWidth=function(N,V){np(N,V*Be)},fl=d.getPageHeight=function(N){return rp(N=N||X)/Be},sp=d.setPageHeight=function(N,V){ma(N,V*Be)};return d.internal={pdfEscape:Fi,getStyle:Jf,getFont:X0,getFontSize:ve,getCharSpace:iv,getTextColor:rv,getLineHeight:J0,getLineHeightFactor:ev,getLineWidth:Z0,write:J,getHorizontalCoordinate:da,getVerticalCoordinate:ha,getCoordinateString:tv,getVerticalCoordinateString:nv,collections:{},newObject:ln,newAdditionalObject:al,newObjectDeferred:fr,newObjectDeferredBegin:br,getFilters:rs,putStream:Di,events:Ht,scaleFactor:Be,pageSize:{getWidth:function(){return ga(X)},setWidth:function(N){ip(X,N)},getHeight:function(){return fl(X)},setHeight:function(N){sp(X,N)}},encryptionOptions:u,encryption:rr,getEncryptor:function(N){return u!==null?rr.encryptor(N,0):function(V){return V}},output:Xf,getNumberOfPages:Gf,get pages(){return C},out:M,f2:$,f3:H,getPageInfo:ua,getPageInfoByObjId:Zf,getCurrentPageInfo:W0,getPDFVersion:v,Point:pa,Rectangle:hd,Matrix:et,hasHotfix:Bi},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return ga(X)},set:function(N){ip(X,N)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return fl(X)},set:function(N){sp(X,N)},enumerable:!0,configurable:!0}),function(N){for(var V=0,be=de.length;V<be;V++){var _e=Hf.call(this,N[V][0],N[V][1],N[V][2],de[V][3],!0);f===!1&&(g[_e]=!0);var Ce=N[V][0].split("-");qf({id:_e,fontName:Ce[0],fontStyle:Ce[1]||""})}Ht.publish("addFonts",{fonts:Qe,dictionary:We})}.call(d,de),Me="F1",Wf(i,n),Ht.publish("initialized"),d}Wc.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Wc.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Wc.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Wc.prototype.processOwnerPassword=function(e,t){return qw(zw(t).substr(0,5),e)},Wc.prototype.encryptor=function(e,t){var n=zw(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return qw(n,r)}},jg.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||hn(e)!==hn(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},yt.API={events:[]},yt.version="4.1.0";var Bn=yt.API,cx=1,fc=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uc=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Dg=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var n=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(n.length===1?"0"+n:n)})},It=function(e){return e.toFixed(2)},po=function(e){return e.toFixed(5)};Bn.__acroform__={};var di=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},WA=function(e){return e*cx},qs=function(e){var t=new ZR,n=at.internal.getHeight(e)||0,r=at.internal.getWidth(e)||0;return t.BBox=[0,0,Number(It(r)),Number(It(n))],t},lX=Bn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},cX=Bn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},uX=Bn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Yn=Bn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return uX(e,t-1)},Kn=Bn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lX(e,t-1)},Xn=Bn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cX(e,t-1)},dX=Bn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,i=e[0],s=e[1],a=e[2],o=e[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(It(l.lowerLeft_X)),Number(It(l.lowerLeft_Y)),Number(It(l.upperRight_X)),Number(It(l.upperRight_Y))]},hX=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Hw(e,n),i=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+i+" "+It(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var s=qs(e);return s.scope=e.scope,s.stream=t.join(`
`),s}},Hw=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},i=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");i=e.multiline?i.map(function($){return $.split(`
`)}):i.map(function($){return[$]});var s=n,a=at.internal.getHeight(e)||0;a=a<0?-a:a;var o=at.internal.getWidth(e)||0;o=o<0?-o:o;var l=function($,H,ae){if($+1<i.length){var Y=H+" "+i[$+1][0];return hm(Y,e,ae).width<=o-4}return!1};s++;e:for(;s>0;){t="",s--;var c,u,f=hm("3",e,s).height,g=e.multiline?a-s:(a-f)/2,d=g+=2,m=0,v=0,h=0;if(s<=0){t=`(...) Tj
`,t+="% Width of Text: "+hm(t,e,s=12).width+", FieldWidth:"+o+`
`;break}for(var p="",y=0,b=0;b<i.length;b++)if(i.hasOwnProperty(b)){var k=!1;if(i[b].length!==1&&h!==i[b].length-1){if((f+2)*(y+2)+2>a)continue e;p+=i[b][h],k=!0,v=b,b--}else{p=(p+=i[b][h]+" ").substr(p.length-1)==" "?p.substr(0,p.length-1):p;var L=parseInt(b),j=l(L,p,s),D=b>=i.length-1;if(j&&!D){p+=" ",h=0;continue}if(j||D){if(D)v=L;else if(e.multiline&&(f+2)*(y+2)+2>a)continue e}else{if(!e.multiline||(f+2)*(y+2)+2>a)continue e;v=L}}for(var q="",z=m;z<=v;z++){var ee=i[z];if(e.multiline){if(z===v){q+=ee[h]+" ",h=(h+1)%ee.length;continue}if(z===m){q+=ee[ee.length-1]+" ";continue}}q+=ee[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,u=hm(q,e,s).width,e.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;default:c=2}t+=It(c)+" "+It(d)+` Td
`,t+="("+fc(q)+`) Tj
`,t+=-It(c)+` 0 Td
`,d=-(s+2),u=0,m=k?v:v+1,y++,p=""}break}return r.text=t,r.fontSize=s,r},hm=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),i=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},fX={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},pX=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},mX=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Rs.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(fX)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");cx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new JR,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&pX(s,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=dX(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=at.createDefaultAppearanceStream(o),hn(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=hX(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var f="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var d=o.appearanceStreamContent[g];if(f+="/"+g+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var m=d[a];typeof m=="function"&&(m=m.call(i,o)),f+="/"+a+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=d)=="function"&&(m=m.call(i,o)),f+="/"+a+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&function(v,h){for(var p in v)if(v.hasOwnProperty(p)){var y=p,b=v[p];h.internal.newObjectDeferredBegin(b.objId,!0),hn(b)==="object"&&typeof b.putStream=="function"&&b.putStream(),delete v[y]}}(i.internal.acroformPlugin.xForms,i)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},XR=Bn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(a){return a};if(Array.isArray(e)){for(var i="[",s=0;s<e.length;s++)switch(s!==0&&(i+=" "),hn(e[s])){case"boolean":case"number":case"object":i+=e[s].toString();break;case"string":e[s].substr(0,1)==="/"?i+="/"+Dg(e[s].substr(1)):(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),i+="("+fc(r(e[s].toString()))+")")}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},V1=function(e,t,n){var r=function(i){return i};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+fc(r(e))+")"},Js=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Js.prototype.toString=function(){return this.objId+" 0 R"},Js.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Js.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],i=this[r];i&&(Array.isArray(i)?e.push({key:r,value:XR(i,this.objId,this.scope)}):i instanceof Js?(i.scope=this.scope,e.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&e.push({key:r,value:i}))}return e};var ZR=function(){Js.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};di(ZR,Js);var JR=function(){Js.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+fc(n(e))+")"}},set:function(n){e=n}})};di(JR,Js);var Rs=function e(){Js.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute F supplied.');t=p}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yn(t,3)},set:function(p){p?this.F=Kn(t,3):this.F=Xn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(p){if(isNaN(p))throw new Error('Invalid value "'+p+'" for attribute Ff supplied.');n=p}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(p){r=p!==void 0?p:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(p){r[0]=p}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(p){r[1]=p}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(p){r[2]=p}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(p){r[3]=p}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(p){switch(p){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=p;break;default:throw new Error('Invalid value "'+p+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Fg)return;s="FieldObject"+e.FieldNum++}var p=function(y){return y};return this.scope&&(p=this.scope.internal.getEncryptor(this.objId)),"("+fc(p(s))+")"},set:function(p){s=p.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(p){s=p}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(p){a=p}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(p){o=p}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(p){l=p}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/cx:c},set:function(p){c=p}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(p){u=p}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Fg||this instanceof Hl))return V1(f,this.objId,this.scope)},set:function(p){p=p.toString(),f=p}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof vr==0?V1(g,this.objId,this.scope):g},set:function(p){p=p.toString(),g=this instanceof vr==0?p.substr(0,1)==="("?Uc(p.substr(1,p.length-2)):Uc(p):p}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr==1?Uc(g.substr(1,g.length-1)):g},set:function(p){p=p.toString(),g=this instanceof vr==1?"/"+Dg(p):p}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(p){this.V=p}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof vr==0?V1(d,this.objId,this.scope):d},set:function(p){p=p.toString(),d=this instanceof vr==0?p.substr(0,1)==="("?Uc(p.substr(1,p.length-2)):Uc(p):p}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof vr==1?Uc(d.substr(1,d.length-1)):d},set:function(p){p=p.toString(),d=this instanceof vr==1?"/"+Dg(p):p}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(p){p=!!p,v=p}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(p){m=p}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,1)},set:function(p){p?this.Ff=Kn(this.Ff,1):this.Ff=Xn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,2)},set:function(p){p?this.Ff=Kn(this.Ff,2):this.Ff=Xn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,3)},set:function(p){p?this.Ff=Kn(this.Ff,3):this.Ff=Xn(this.Ff,3)}});var h=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(h!==null)return h},set:function(p){if([0,1,2].indexOf(p)===-1)throw new Error('Invalid value "'+p+'" for attribute Q supplied.');h=p}}),Object.defineProperty(this,"textAlign",{get:function(){var p;switch(h){case 0:default:p="left";break;case 1:p="center";break;case 2:p="right"}return p},configurable:!0,enumerable:!0,set:function(p){switch(p){case"right":case 2:h=2;break;case"center":case 1:h=1;break;default:h=0}}})};di(Rs,Js);var wu=function(){Rs.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return XR(t,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),t=i}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,18)},set:function(n){n?this.Ff=Kn(this.Ff,18):this.Ff=Xn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Kn(this.Ff,19):this.Ff=Xn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,20)},set:function(n){n?(this.Ff=Kn(this.Ff,20),t.sort()):this.Ff=Xn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,22)},set:function(n){n?this.Ff=Kn(this.Ff,22):this.Ff=Xn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(n){n?this.Ff=Kn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,27)},set:function(n){n?this.Ff=Kn(this.Ff,27):this.Ff=Xn(this.Ff,27)}}),this.hasAppearanceStream=!1};di(wu,Rs);var bu=function(){wu.call(this),this.fontName="helvetica",this.combo=!1};di(bu,wu);var xu=function(){bu.call(this),this.combo=!0};di(xu,bu);var jm=function(){xu.call(this),this.edit=!0};di(jm,xu);var vr=function(){Rs.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,15)},set:function(n){n?this.Ff=Kn(this.Ff,15):this.Ff=Xn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,16)},set:function(n){n?this.Ff=Kn(this.Ff,16):this.Ff=Xn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,17)},set:function(n){n?this.Ff=Kn(this.Ff,17):this.Ff=Xn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(n){n?this.Ff=Kn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,i=[];for(r in i.push("<<"),t)i.push("/"+r+" ("+fc(n(t[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){hn(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+Dg(n)}})};di(vr,Rs);var Dm=function(){vr.call(this),this.pushButton=!0};di(Dm,vr);var _u=function(){vr.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};di(_u,vr);var Fg=function(){var e,t;Rs.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(i){e=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(i){t=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+fc(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){hn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=at.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};di(Fg,Rs),_u.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},_u.prototype.createOption=function(e){var t=new Fg;return t.Parent=this,t.optionName=e,this.Kids.push(t),gX.call(this.scope,t),t};var Fm=function(){vr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=at.CheckBox.createAppearanceStream()};di(Fm,vr);var Hl=function(){Rs.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,13)},set:function(t){t?this.Ff=Kn(this.Ff,13):this.Ff=Xn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,21)},set:function(t){t?this.Ff=Kn(this.Ff,21):this.Ff=Xn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,23)},set:function(t){t?this.Ff=Kn(this.Ff,23):this.Ff=Xn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,24)},set:function(t){t?this.Ff=Kn(this.Ff,24):this.Ff=Xn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,25)},set:function(t){t?this.Ff=Kn(this.Ff,25):this.Ff=Xn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,26)},set:function(t){t?this.Ff=Kn(this.Ff,26):this.Ff=Xn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};di(Hl,Rs);var Bm=function(){Hl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yn(this.Ff,14)},set:function(e){e?this.Ff=Kn(this.Ff,14):this.Ff=Xn(this.Ff,14)}}),this.password=!0};di(Bm,Hl);var at={CheckBox:{createAppearanceStream:function(){return{N:{On:at.CheckBox.YesNormal},D:{On:at.CheckBox.YesPushDown,Off:at.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=qs(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,i=e.scope.__private__.encodeColorString(e.color),s=Hw(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+It(at.internal.getWidth(e))+" "+It(at.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+It(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=qs(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),i=[],s=at.internal.getHeight(e),a=at.internal.getWidth(e),o=Hw(e,e.caption);return i.push("1 g"),i.push("0 0 "+It(a)+" "+It(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+It(a-1)+" "+It(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+It(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),t.stream=i.join(`
`),t},OffPushDown:function(e){var t=qs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+It(at.internal.getWidth(e))+" "+It(at.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:at.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=at.RadioButton.Circle.YesNormal,t.D[e]=at.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=qs(e);t.scope=e.scope;var n=[],r=at.internal.getWidth(e)<=at.internal.getHeight(e)?at.internal.getWidth(e)/4:at.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=at.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+po(at.internal.getWidth(e)/2)+" "+po(at.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=qs(e);t.scope=e.scope;var n=[],r=at.internal.getWidth(e)<=at.internal.getHeight(e)?at.internal.getWidth(e)/4:at.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*at.internal.Bezier_C).toFixed(5)),a=Number((r*at.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+po(at.internal.getWidth(e)/2)+" "+po(at.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+po(at.internal.getWidth(e)/2)+" "+po(at.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=qs(e);t.scope=e.scope;var n=[],r=at.internal.getWidth(e)<=at.internal.getHeight(e)?at.internal.getWidth(e)/4:at.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*at.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+po(at.internal.getWidth(e)/2)+" "+po(at.internal.getHeight(e)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:at.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=at.RadioButton.Cross.YesNormal,t.D[e]=at.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=qs(e);t.scope=e.scope;var n=[],r=at.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+It(at.internal.getWidth(e)-2)+" "+It(at.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(It(r.x1.x)+" "+It(r.x1.y)+" m"),n.push(It(r.x2.x)+" "+It(r.x2.y)+" l"),n.push(It(r.x4.x)+" "+It(r.x4.y)+" m"),n.push(It(r.x3.x)+" "+It(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=qs(e);t.scope=e.scope;var n=at.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+It(at.internal.getWidth(e))+" "+It(at.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+It(at.internal.getWidth(e)-2)+" "+It(at.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(It(n.x1.x)+" "+It(n.x1.y)+" m"),r.push(It(n.x2.x)+" "+It(n.x2.y)+" l"),r.push(It(n.x4.x)+" "+It(n.x4.y)+" m"),r.push(It(n.x3.x)+" "+It(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=qs(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+It(at.internal.getWidth(e))+" "+It(at.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};at.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=at.internal.getWidth(e),n=at.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},at.internal.getWidth=function(e){var t=0;return hn(e)==="object"&&(t=WA(e.Rect[2])),t},at.internal.getHeight=function(e){var t=0;return hn(e)==="object"&&(t=WA(e.Rect[3])),t};var gX=Bn.addField=function(e){if(mX(this,e),!(e instanceof Rs))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Bn.AcroFormChoiceField=wu,Bn.AcroFormListBox=bu,Bn.AcroFormComboBox=xu,Bn.AcroFormEditBox=jm,Bn.AcroFormButton=vr,Bn.AcroFormPushButton=Dm,Bn.AcroFormRadioButton=_u,Bn.AcroFormCheckBox=Fm,Bn.AcroFormTextField=Hl,Bn.AcroFormPasswordField=Bm,Bn.AcroFormAppearance=at,Bn.AcroForm={ChoiceField:wu,ListBox:bu,ComboBox:xu,EditBox:jm,Button:vr,PushButton:Dm,RadioButton:_u,CheckBox:Fm,TextField:Hl,PasswordField:Bm,Appearance:at},yt.AcroForm={ChoiceField:wu,ListBox:bu,ComboBox:xu,EditBox:jm,Button:vr,PushButton:Dm,RadioButton:_u,CheckBox:Fm,TextField:Hl,PasswordField:Bm,Appearance:at};function QR(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){var t="addImage_";e.__addimage__={};var n="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=e.__addimage__.getImageFileTypeByImageData=function($,H){var ae,Y,Q,ie,fe,W=n;if((H=H||n)==="RGBA"||$.data!==void 0&&$.data instanceof Uint8ClampedArray&&"height"in $&&"width"in $)return"RGBA";if(j($))for(fe in r)for(Q=r[fe],ae=0;ae<Q.length;ae+=1){for(ie=!0,Y=0;Y<Q[ae].length;Y+=1)if(Q[ae][Y]!==void 0&&Q[ae][Y]!==$[Y]){ie=!1;break}if(ie===!0){W=fe;break}}else for(fe in r)for(Q=r[fe],ae=0;ae<Q.length;ae+=1){for(ie=!0,Y=0;Y<Q[ae].length;Y+=1)if(Q[ae][Y]!==void 0&&Q[ae][Y]!==$.charCodeAt(Y)){ie=!1;break}if(ie===!0){W=fe;break}}return W===n&&H!==n&&(W=H),W},s=function $(H){for(var ae=this.internal.write,Y=this.internal.putStream,Q=(0,this.internal.getFilters)();Q.indexOf("FlateEncode")!==-1;)Q.splice(Q.indexOf("FlateEncode"),1);H.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:H.width}),ie.push({key:"Height",value:H.height}),H.colorSpace===p.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(H.palette.length/3-1)+" "+("sMask"in H&&H.sMask!==void 0?H.objectId+2:H.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+H.colorSpace}),H.colorSpace===p.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:H.bitsPerComponent}),"decodeParameters"in H&&H.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+H.decodeParameters+">>"}),"transparency"in H&&Array.isArray(H.transparency)&&H.transparency.length>0){for(var fe="",W=0,se=H.transparency.length;W<se;W++)fe+=H.transparency[W]+" "+H.transparency[W]+" ";ie.push({key:"Mask",value:"["+fe+"]"})}H.sMask!==void 0&&ie.push({key:"SMask",value:H.objectId+1+" 0 R"});var oe=H.filter!==void 0?["/"+H.filter]:void 0;if(Y({data:H.data,additionalKeyValues:ie,alreadyAppliedFilters:oe,objectId:H.objectId}),ae("endobj"),"sMask"in H&&H.sMask!==void 0){var K,B=(K=H.sMaskBitsPerComponent)!==null&&K!==void 0?K:H.bitsPerComponent,X={width:H.width,height:H.height,colorSpace:"DeviceGray",bitsPerComponent:B,data:H.sMask};"filter"in H&&(X.decodeParameters="/Predictor ".concat(H.predictor," /Colors 1 /BitsPerComponent ").concat(B," /Columns ").concat(H.width),X.filter=H.filter),$.call(this,X)}if(H.colorSpace===p.INDEXED){var ne=this.internal.newObject();Y({data:q(new Uint8Array(H.palette)),objectId:ne}),ae("endobj")}},a=function(){var $=this.internal.collections[t+"images"];for(var H in $)s.call(this,$[H])},o=function(){var $,H=this.internal.collections[t+"images"],ae=this.internal.write;for(var Y in H)ae("/I"+($=H[Y]).index,$.objectId,"0","R")},l=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var $=this.internal.collections[t+"images"];return l.call(this),$},u=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function($){return typeof e["process"+$.toUpperCase()]=="function"},g=function($){return hn($)==="object"&&$.nodeType===1},d=function($,H){if($.nodeName==="IMG"&&$.hasAttribute("src")){var ae=""+$.getAttribute("src");if(ae.indexOf("data:image/")===0)return Om(unescape(ae).split("base64,").pop());var Y=e.loadFile(ae,!0);if(Y!==void 0)return Y}if($.nodeName==="CANVAS"){if($.width===0||$.height===0)throw new Error("Given canvas must have data. Canvas width: "+$.width+", height: "+$.height);var Q;switch(H){case"PNG":Q="image/png";break;case"WEBP":Q="image/webp";break;default:Q="image/jpeg"}return Om($.toDataURL(Q,1).split("base64,").pop())}},m=function($){var H=this.internal.collections[t+"images"];if(H){for(var ae in H)if($===H[ae].alias)return H[ae]}},v=function($,H,ae){return $||H||($=-96,H=-96),$<0&&($=-1*ae.width*72/$/this.internal.scaleFactor),H<0&&(H=-1*ae.height*72/H/this.internal.scaleFactor),$===0&&($=H*ae.width/ae.height),H===0&&(H=$*ae.height/ae.width),[$,H]},h=function($,H,ae,Y,Q,ie){var fe=v.call(this,ae,Y,Q),W=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,oe=c.call(this);if(ae=fe[0],Y=fe[1],oe[Q.index]=Q,ie){ie*=Math.PI/180;var K=Math.cos(ie),B=Math.sin(ie),X=function(Z){return Z.toFixed(4)},ne=[X(K),X(B),X(-1*B),X(K),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,W($),se(H+Y),"cm"].join(" ")),this.internal.write(ne.join(" ")),this.internal.write([W(ae),"0","0",W(Y),"0","0","cm"].join(" "))):this.internal.write([W(ae),"0","0",W(Y),W($),se(H+Y),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Q.index+" Do"),this.internal.write("Q")},p=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function($){var H,ae,Y=0;if(typeof $=="string")for(ae=$.length,H=0;H<ae;H++)Y=(Y<<5)-Y+$.charCodeAt(H),Y|=0;else if(j($))for(ae=$.byteLength/2,H=0;H<ae;H++)Y=(Y<<5)-Y+$[H],Y|=0;return Y},k=e.__addimage__.validateStringAsBase64=function($){($=$||"").toString().trim();var H=!0;return $.length===0&&(H=!1),$.length%4!=0&&(H=!1),/^[A-Za-z0-9+/]+$/.test($.substr(0,$.length-2))===!1&&(H=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test($.substr(-2))===!1&&(H=!1),H},L=e.__addimage__.extractImageFromDataUrl=function($){if($==null||!($=$.trim()).startsWith("data:"))return null;var H=$.indexOf(",");return H<0?null:$.substring(0,H).trim().endsWith("base64")?$.substring(H+1):null};e.__addimage__.isArrayBuffer=function($){return $ instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function($){return $ instanceof Int8Array||$ instanceof Uint8Array||$ instanceof Uint8ClampedArray||$ instanceof Int16Array||$ instanceof Uint16Array||$ instanceof Int32Array||$ instanceof Uint32Array||$ instanceof Float32Array||$ instanceof Float64Array},D=e.__addimage__.binaryStringToUint8Array=function($){for(var H=$.length,ae=new Uint8Array(H),Y=0;Y<H;Y++)ae[Y]=$.charCodeAt(Y);return ae},q=e.__addimage__.arrayBufferToBinaryString=function($){for(var H="",ae=j($)?$:new Uint8Array($),Y=0;Y<ae.length;Y+=8192)H+=String.fromCharCode.apply(null,ae.subarray(Y,Y+8192));return H};e.addImage=function(){var $,H,ae,Y,Q,ie,fe,W,se;if(typeof arguments[1]=="number"?(H=n,ae=arguments[1],Y=arguments[2],Q=arguments[3],ie=arguments[4],fe=arguments[5],W=arguments[6],se=arguments[7]):(H=arguments[1],ae=arguments[2],Y=arguments[3],Q=arguments[4],ie=arguments[5],fe=arguments[6],W=arguments[7],se=arguments[8]),hn($=arguments[0])==="object"&&!g($)&&"imageData"in $){var oe=$;$=oe.imageData,H=oe.format||H||n,ae=oe.x||ae||0,Y=oe.y||Y||0,Q=oe.w||oe.width||Q,ie=oe.h||oe.height||ie,fe=oe.alias||fe,W=oe.compression||W,se=oe.rotation||oe.angle||se}var K=this.internal.getFilters();if(W===void 0&&K.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(ae)||isNaN(Y))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var B=z.call(this,$,H,fe,W);return h.call(this,ae,Y,Q,ie,B,se),this};var z=function($,H,ae,Y){var Q,ie,fe;if(typeof $=="string"&&i($)===n){$=unescape($);var W=ee($,!1);(W!==""||(W=e.loadFile($,!0))!==void 0)&&($=W)}if(g($)&&($=d($,H)),H=i($,H),!f(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(((fe=ae)==null||fe.length===0)&&(ae=function(se){return typeof se=="string"||j(se)?b(se):j(se.data)?b(se.data):null}($)),(Q=m.call(this,ae))||($ instanceof Uint8Array||H==="RGBA"||(ie=$,$=D($)),Q=this["process"+H.toUpperCase()]($,u.call(this),ae,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in e.image_compression?se:y.NONE}(Y),ie)),!Q)throw new Error("An unknown error occurred whilst processing the image.");return Q},ee=e.__addimage__.convertBase64ToBinaryString=function($,H){H=typeof H!="boolean"||H;var ae,Y="";if(typeof $=="string"){var Q;ae=(Q=L($))!==null&&Q!==void 0?Q:$;try{Y=Om(ae)}catch(ie){if(H)throw k(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Y};e.getImageProperties=function($){var H,ae,Y="";if(g($)&&($=d($)),typeof $=="string"&&i($)===n&&((Y=ee($,!1))===""&&(Y=e.loadFile($)||""),$=Y),ae=i($),!f(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if($ instanceof Uint8Array||($=D($)),!(H=this["process"+ae.toUpperCase()]($)))throw new Error("An unknown error occurred whilst processing the image");return H.fileType=ae,H}})(yt.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};yt.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,f=0;f<c.length&&!u;f++)switch((r=c[f]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var g=0;g<c.length;g++){r=c[g];var d=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),h=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(v.objId),y=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+d(p(r.contents))+")",s+=" /Popup "+h.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(p(y))+") >>",v.content=s;var b=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+b,r.open&&(s+=" /Open true"),s+=" >>",h.content=s,this.internal.write(v.objId,"0 R",h.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var k=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(m(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var L=this.annotations._nameMap[r.options.name];r.options.pageNumber=L.page,r.options.top=L.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var j=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+j+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:"link"})},e.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(n,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(yt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];e.__arabicParser__={};var s=e.__arabicParser__.isInArabicSubstitutionA=function(v){return t[v.charCodeAt(0)]!==void 0},a=e.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=e.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&s(v)&&t[v.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&i.indexOf(v.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&s(v)&&t[v.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&s(v)&&t[v.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&s(v)&&t[v.charCodeAt(0)].length>=3};var u=e.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&s(v)&&t[v.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(v){var h=0,p=n,y="",b=0;for(h=0;h<v.length;h+=1)p[v.charCodeAt(h)]!==void 0?(b++,typeof(p=p[v.charCodeAt(h)])=="number"&&(y+=String.fromCharCode(p),p=n,b=0),h===v.length-1&&(p=n,y+=v.charAt(h-(b-1)),h-=b-1,b=0)):(p=n,y+=v.charAt(h-b),h-=b,b=0);return y};e.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&r[v.charCodeAt(0)]!==void 0};var g=e.__arabicParser__.getCorrectForm=function(v,h,p){return a(v)?s(v)===!1?-1:!c(v)||!a(h)&&!a(p)||!a(p)&&o(h)||o(v)&&!a(h)||o(v)&&l(h)||o(v)&&o(h)?0:u(v)&&a(h)&&!o(h)&&a(p)&&c(p)?3:o(v)||!a(p)?1:2:-1},d=function(v){var h=0,p=0,y=0,b="",k="",L="",j=(v=v||"").split("\\s+"),D=[];for(h=0;h<j.length;h+=1){for(D.push(""),p=0;p<j[h].length;p+=1)b=j[h][p],k=j[h][p-1],L=j[h][p+1],a(b)?(y=g(b,k,L),D[h]+=y!==-1?String.fromCharCode(t[b.charCodeAt(0)][y]):b):D[h]+=b;D[h]=f(D[h])}return D.join(" ")},m=e.__arabicParser__.processArabic=e.processArabic=function(){var v,h=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,p=[];if(Array.isArray(h)){var y=0;for(p=[],y=0;y<h.length;y+=1)Array.isArray(h[y])?p.push([d(h[y][0]),h[y][1],h[y][2]]):p.push([d(h[y])]);v=p}else v=d(h);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};e.events.push(["preProcessText",m])}(yt.API),yt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(yt.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(v){g=v}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(v){m=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},e.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),g=c.scaleFactor||this.internal.scaleFactor,d=0,m=0,v=0,h=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var p=c.maxWidth;p>0?typeof l=="string"?l=this.splitTextToSize(l,p):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(b,k){return b.concat(h.splitTextToSize(k,p))},[])):l=Array.isArray(l)?l:[l];for(var y=0;y<l.length;y++)d<(v=this.getStringUnitWidth(l[y],{font:f})*u)&&(d=v);return d!==0&&(m=l.length),{w:d/=g,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/g,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=e.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,g=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};e.table=function(l,c,u,f,g){if(r.call(this),!u)throw new Error("No data for PDF table.");var d,m,v,h,p=[],y=[],b=[],k={},L={},j=[],D=[],q=(g=g||{}).autoSize||!1,z=g.printHeaders!==!1,ee=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,$=g.margins||Object.assign({width:this.getPageWidth()},t),H=typeof g.padding=="number"?g.padding:3,ae=g.headerBackgroundColor||"#c8c8c8",Y=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=$,this.internal.__cell__.table_font_size=ee,this.internal.__cell__.padding=H,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=Y,this.setFontSize(ee),f==null)y=p=Object.keys(u[0]),b=p.map(function(){return"left"});else if(Array.isArray(f)&&hn(f[0])==="object")for(p=f.map(function(oe){return oe.name}),y=f.map(function(oe){return oe.prompt||oe.name||""}),b=f.map(function(oe){return oe.align||"left"}),d=0;d<f.length;d+=1)L[f[d].name]=.7499990551181103*f[d].width;else Array.isArray(f)&&typeof f[0]=="string"&&(y=p=f,b=p.map(function(){return"left"}));if(q||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<p.length;d+=1){for(k[h=p[d]]=u.map(function(oe){return oe[h]}),this.setFont(void 0,"bold"),j.push(this.getTextDimensions(y[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=k[h],this.setFont(void 0,"normal"),v=0;v<m.length;v+=1)j.push(this.getTextDimensions(m[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[h]=Math.max.apply(null,j)+H+H,j=[]}if(z){var Q={};for(d=0;d<p.length;d+=1)Q[p[d]]={},Q[p[d]].text=y[d],Q[p[d]].align=b[d];var ie=o.call(this,Q,L);D=p.map(function(oe){return new s(l,c,L[oe],ie,Q[oe].text,void 0,Q[oe].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var fe=f.reduce(function(oe,K){return oe[K.name]=K.align,oe},{});for(d=0;d<u.length;d+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:d,data:u[d]},this);var W=o.call(this,u[d],L);for(v=0;v<p.length;v+=1){var se=u[d][p[v]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:d,col:v,data:se},this),a.call(this,new s(l,c,L[p[v]],W,se,d+2,fe[p[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(d){var m=l[d];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,c[d]-u-u)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/g+u+u},this).reduce(function(d,m){return Math.max(d,m)},0)};e.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},e.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){u=this.internal.__cell__.tableHeaderRow[d].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,g.push(u)),u.lineNumber=l;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(m)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}(yt.API);var eL={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},tL=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ww=QR(tL),nL=[100,200,300,400,500,600,700,800,900],vX=QR(nL);function G1(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return eL[s=s||"normal"]?s:"normal"}(e.style),r=function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400}(e.weight),i=function(s){return typeof Ww[s=s||"normal"]=="number"?s:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:i,src:e.src||[],ref:e.ref||{name:t,style:[i,n,r].join(" ")}}}function VA(e,t,n,r){var i;for(i=n;i>=0&&i<t.length;i+=r)if(e[t[i]])return e[t[i]];for(i=n;i>=0&&i<t.length;i-=r)if(e[t[i]])return e[t[i]]}var yX={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},GA={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function YA(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function KA(e){return e.trimLeft()}function wX(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function bX(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var $c,fm,XA,ZA,JA,Y1=["times"];function QA(e,t,n,r,i){var s=4,a=tk;switch(i){case yt.API.image_compression.FAST:s=1,a=ek;break;case yt.API.image_compression.MEDIUM:s=6,a=nk;break;case yt.API.image_compression.SLOW:s=9,a=rk}e=function(l,c,u,f){for(var g,d=l.length/c,m=new Uint8Array(l.length+d),v=[xX,ek,tk,nk,rk],h=0;h<d;h+=1){var p=h*c,y=l.subarray(p,p+c);if(f)m.set(f(y,u,g),p+h);else{for(var b=v.length,k=[],L=0;L<b;L+=1)k[L]=v[L](y,u,g);var j=SX(k.concat());m.set(k[j],p+h)}g=y}return m}(e,t,Math.ceil(n*r/8),a);var o=Lw(e,{level:s});return yt.API.__addimage__.arrayBufferToBinaryString(o)}function xX(e){var t=Array.apply([],e);return t.unshift(0),t}function ek(e,t){var n=e.length,r=[];r[0]=1;for(var i=0;i<n;i+=1){var s=e[i-t]||0;r[i+1]=e[i]-s+256&255}return r}function tk(e,t,n){var r=e.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var a=n&&n[s]||0;i[s+1]=e[s]-a+256&255}return i}function nk(e,t,n){var r=e.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var a=e[s-t]||0,o=n&&n[s]||0;i[s+1]=e[s]+256-(a+o>>>1)&255}return i}function rk(e,t,n){var r=e.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var a=_X(e[s-t]||0,n&&n[s]||0,n&&n[s-t]||0);i[s+1]=e[s]-a+256&255}return i}function _X(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),i=Math.abs(e-n),s=Math.abs(e+t-n-n);return r<=i&&r<=s?e:i<=s?t:n}function SX(e){var t=e.map(function(n){return n.reduce(function(r,i){return r+Math.abs(i)},0)});return t.indexOf(Math.min.apply(null,t))}function K1(e,t,n){var r=t*n,i=Math.floor(r/8),s=16-(r-8*i+n),a=(1<<n)-1;return rL(e,i)>>s&a}function ik(e,t,n,r){var i=n*r,s=Math.floor(i/8),a=16-(i-8*s+r),o=(1<<r)-1,l=(t&o)<<a;(function(c,u,f){if(u+1<c.byteLength)c.setUint16(u,f,!1);else{var g=f>>8&255;c.setUint8(u,g)}})(e,s,rL(e,s)&~(o<<a)&65535|l)}function rL(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function AX(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,i=e[t++],s=i>>7,a=1<<1+(7&i);e[t++],e[t++];var o=null,l=null;s&&(o=t,l=a,t+=3*a);var c=!0,u=[],f=0,g=null,d=0,m=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,m=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!(($=e[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var v=e[t++];f=e[t++]|e[t++]<<8,g=e[t++],1&v||(g=null),d=v>>2&7,t++;break;case 254:for(;;){if(!(($=e[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var h=e[t++]|e[t++]<<8,p=e[t++]|e[t++]<<8,y=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,k=e[t++],L=k>>6&1,j=1<<1+(7&k),D=o,q=l,z=!1;k>>7&&(z=!0,D=t,q=j,t+=3*j);var ee=t;for(t++;;){var $;if(!(($=e[t++])>=0))throw Error("Invalid block size");if($===0)break;t+=$}u.push({x:h,y:p,width:y,height:b,has_local_palette:z,palette_offset:D,palette_size:q,data_offset:ee,data_length:t-ee,transparent_index:g,interlaced:!!L,delay:f,disposal:d});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(H){if(H<0||H>=u.length)throw new Error("Frame index out of range.");return u[H]},this.decodeAndBlitFrameBGRA=function(H,ae){var Y=this.frameInfo(H),Q=Y.width*Y.height,ie=new Uint8Array(Q);sk(e,Y.data_offset,ie,Q);var fe=Y.palette_offset,W=Y.transparent_index;W===null&&(W=256);var se=Y.width,oe=n-se,K=se,B=4*(Y.y*n+Y.x),X=4*((Y.y+Y.height)*n+Y.x),ne=B,Z=4*oe;Y.interlaced===!0&&(Z+=4*n*7);for(var te=8,E=0,T=ie.length;E<T;++E){var S=ie[E];if(K===0&&(K=se,(ne+=Z)>=X&&(Z=4*oe+4*n*(te-1),ne=B+(se+oe)*(te<<1),te>>=1)),S===W)ne+=4;else{var _=e[fe+3*S],C=e[fe+3*S+1],P=e[fe+3*S+2];ae[ne++]=P,ae[ne++]=C,ae[ne++]=_,ae[ne++]=255}--K}},this.decodeAndBlitFrameRGBA=function(H,ae){var Y=this.frameInfo(H),Q=Y.width*Y.height,ie=new Uint8Array(Q);sk(e,Y.data_offset,ie,Q);var fe=Y.palette_offset,W=Y.transparent_index;W===null&&(W=256);var se=Y.width,oe=n-se,K=se,B=4*(Y.y*n+Y.x),X=4*((Y.y+Y.height)*n+Y.x),ne=B,Z=4*oe;Y.interlaced===!0&&(Z+=4*n*7);for(var te=8,E=0,T=ie.length;E<T;++E){var S=ie[E];if(K===0&&(K=se,(ne+=Z)>=X&&(Z=4*oe+4*n*(te-1),ne=B+(se+oe)*(te<<1),te>>=1)),S===W)ne+=4;else{var _=e[fe+3*S],C=e[fe+3*S+1],P=e[fe+3*S+2];ae[ne++]=_,ae[ne++]=C,ae[ne++]=P,ae[ne++]=255}--K}}}function sk(e,t,n,r){for(var i=e[t++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,f=0,g=0,d=e[t++],m=new Int32Array(4096),v=null;;){for(;u<16&&d!==0;)f|=e[t++]<<u,u+=8,d===1?d=e[t++]:--d;if(u<l)break;var h=f&c;if(f>>=l,u-=l,h!==s){if(h===a)break;for(var p=h<o?h:v,y=0,b=p;b>s;)b=m[b]>>8,++y;var k=b;if(g+y+(p!==h?1:0)>r)return void vn.log("Warning, gif stream longer than expected.");n[g++]=k;var L=g+=y;for(p!==h&&(n[g++]=k),b=p;y--;)b=m[b],n[--L]=255&b,b>>=8;v!==null&&o<4096&&(m[o++]=v<<8|k,o>=c+1&&l<12&&(++l,c=c<<1|1)),v=h}else o=a+1,c=(1<<(l=i+1))-1,v=null}return g!==r&&vn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function X1(e){var t,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(65535),g=new Array(65535),d=new Array(64),m=new Array(64),v=[],h=0,p=7,y=new Array(64),b=new Array(64),k=new Array(64),L=new Array(256),j=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],ee=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],$=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],H=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(B,X){for(var ne=0,Z=0,te=new Array,E=1;E<=16;E++){for(var T=1;T<=B[E];T++)te[X[Z]]=[],te[X[Z]][0]=ne,te[X[Z]][1]=E,Z++,ne++;ne*=2}return te}function fe(B){for(var X=B[0],ne=B[1]-1;ne>=0;)X&1<<ne&&(h|=1<<p),ne--,--p<0&&(h==255?(W(255),W(0)):W(h),p=7,h=0)}function W(B){v.push(B)}function se(B){W(B>>8&255),W(255&B)}function oe(B,X,ne,Z,te){for(var E,T=te[0],S=te[240],_=function(he,xe){var ve,ce,ge,Pe,ke,Re,Fe,Ue,Me,Be,De=0;for(Me=0;Me<8;++Me){ve=he[De],ce=he[De+1],ge=he[De+2],Pe=he[De+3],ke=he[De+4],Re=he[De+5],Fe=he[De+6];var lt=ve+(Ue=he[De+7]),Je=ve-Ue,Qe=ce+Fe,We=ce-Fe,Et=ge+Re,Xe=ge-Re,Lt=Pe+ke,Ze=Pe-ke,nt=lt+Lt,_t=lt-Lt,vt=Qe+Et,rt=Qe-Et;he[De]=nt+vt,he[De+4]=nt-vt;var Ht=.707106781*(rt+_t);he[De+2]=_t+Ht,he[De+6]=_t-Ht;var wt=.382683433*((nt=Ze+Xe)-(rt=We+Je)),ut=.5411961*nt+wt,bt=1.306562965*rt+wt,pn=.707106781*(vt=Xe+We),et=Je+pn,Sn=Je-pn;he[De+5]=Sn+ut,he[De+3]=Sn-ut,he[De+1]=et+bt,he[De+7]=et-bt,De+=8}for(De=0,Me=0;Me<8;++Me){ve=he[De],ce=he[De+8],ge=he[De+16],Pe=he[De+24],ke=he[De+32],Re=he[De+40],Fe=he[De+48];var zt=ve+(Ue=he[De+56]),an=ve-Ue,An=ce+Fe,ln=ce-Fe,fr=ge+Re,br=ge-Re,al=Pe+ke,Va=Pe-ke,ts=zt+al,Is=zt-al,ns=An+fr,rs=An-fr;he[De]=ts+ns,he[De+32]=ts-ns;var Di=.707106781*(rs+Is);he[De+16]=Is+Di,he[De+48]=Is-Di;var ol=.382683433*((ts=Va+br)-(rs=ln+an)),Ms=.5411961*ts+ol,ll=1.306562965*rs+ol,pc=.707106781*(ns=br+ln),mc=an+pc,gc=an-pc;he[De+40]=gc+Ms,he[De+24]=gc-Ms,he[De+8]=mc+ll,he[De+56]=mc-ll,De++}for(Me=0;Me<64;++Me)Be=he[Me]*xe[Me],d[Me]=Be>0?Be+.5|0:Be-.5|0;return d}(B,X),C=0;C<64;++C)m[D[C]]=_[C];var P=m[0]-ne;ne=m[0],P==0?fe(Z[0]):(fe(Z[g[E=32767+P]]),fe(f[E]));for(var O=63;O>0&&m[O]==0;)O--;if(O==0)return fe(T),ne;for(var U,M=1;M<=O;){for(var J=M;m[M]==0&&M<=O;)++M;var pe=M-J;if(pe>=16){U=pe>>4;for(var de=1;de<=U;++de)fe(S);pe&=15}E=32767+m[M],fe(te[(pe<<4)+g[E]]),fe(f[E]),M++}return O!=63&&fe(T),ne}function K(B){B=Math.min(Math.max(B,1),100),s!=B&&(function(X){for(var ne=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var te=a((ne[Z]*X+50)/100);te=Math.min(Math.max(te,1),255),o[D[Z]]=te}for(var E=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],T=0;T<64;T++){var S=a((E[T]*X+50)/100);S=Math.min(Math.max(S,1),255),l[D[T]]=S}for(var _=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],C=0,P=0;P<8;P++)for(var O=0;O<8;O++)c[C]=1/(o[D[C]]*_[P]*_[O]*8),u[C]=1/(l[D[C]]*_[P]*_[O]*8),C++}(B<50?Math.floor(5e3/B):Math.floor(200-2*B)),s=B)}this.encode=function(B,X){X&&K(X),v=new Array,h=0,p=7,se(65496),se(65504),se(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),se(1),se(1),W(0),W(0),function(){se(65499),se(132),W(0);for(var ce=0;ce<64;ce++)W(o[ce]);W(1);for(var ge=0;ge<64;ge++)W(l[ge])}(),function(ce,ge){se(65472),se(17),W(8),se(ge),se(ce),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(B.width,B.height),function(){se(65476),se(418),W(0);for(var ce=0;ce<16;ce++)W(q[ce+1]);for(var ge=0;ge<=11;ge++)W(z[ge]);W(16);for(var Pe=0;Pe<16;Pe++)W(ee[Pe+1]);for(var ke=0;ke<=161;ke++)W($[ke]);W(1);for(var Re=0;Re<16;Re++)W(H[Re+1]);for(var Fe=0;Fe<=11;Fe++)W(ae[Fe]);W(17);for(var Ue=0;Ue<16;Ue++)W(Y[Ue+1]);for(var Me=0;Me<=161;Me++)W(Q[Me])}(),se(65498),se(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var ne=0,Z=0,te=0;h=0,p=7,this.encode.displayName="_encode_";for(var E,T,S,_,C,P,O,U,M,J=B.data,pe=B.width,de=B.height,he=4*pe,xe=0;xe<de;){for(E=0;E<he;){for(C=he*xe+E,O=-1,U=0,M=0;M<64;M++)P=C+(U=M>>3)*he+(O=4*(7&M)),xe+U>=de&&(P-=he*(xe+1+U-de)),E+O>=he&&(P-=E+O-he+4),T=J[P++],S=J[P++],_=J[P++],y[M]=(j[T]+j[S+256|0]+j[_+512|0]>>16)-128,b[M]=(j[T+768|0]+j[S+1024|0]+j[_+1280|0]>>16)-128,k[M]=(j[T+1280|0]+j[S+1536|0]+j[_+1792|0]>>16)-128;ne=oe(y,c,ne,t,r),Z=oe(b,u,Z,n,i),te=oe(k,u,te,n,i),E+=32}xe+=8}if(p>=0){var ve=[];ve[1]=p+1,ve[0]=(1<<p+1)-1,fe(ve)}return se(65497),new Uint8Array(v)},e=e||50,function(){for(var B=String.fromCharCode,X=0;X<256;X++)L[X]=B(X)}(),t=ie(q,z),n=ie(H,ae),r=ie(ee,$),i=ie(Y,Q),function(){for(var B=1,X=2,ne=1;ne<=15;ne++){for(var Z=B;Z<X;Z++)g[32767+Z]=ne,f[32767+Z]=[],f[32767+Z][1]=ne,f[32767+Z][0]=Z;for(var te=-(X-1);te<=-B;te++)g[32767+te]=ne,f[32767+te]=[],f[32767+te][1]=ne,f[32767+te][0]=X-1+te;B<<=1,X<<=1}}(),function(){for(var B=0;B<256;B++)j[B]=19595*B,j[B+256|0]=38470*B,j[B+512|0]=7471*B+32768,j[B+768|0]=-11059*B,j[B+1024|0]=-21709*B,j[B+1280|0]=32768*B+8421375,j[B+1536|0]=-27439*B,j[B+1792|0]=-5329*B}(),K(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ds(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ak(e){function t(z){if(!z)throw Error("assert :P")}function n(z,ee,$){for(var H=0;4>H;H++)if(z[ee+H]!=$.charCodeAt(H))return!0;return!1}function r(z,ee,$,H,ae){for(var Y=0;Y<ae;Y++)z[ee+Y]=$[H+Y]}function i(z,ee,$,H){for(var ae=0;ae<H;ae++)z[ee+ae]=$}function s(z){return new Int32Array(z)}function a(z,ee){for(var $=[],H=0;H<z;H++)$.push(new ee);return $}function o(z,ee){var $=[];return function H(ae,Y,Q){for(var ie=Q[Y],fe=0;fe<ie&&(ae.push(Q.length>Y+1?[]:new ee),!(Q.length<Y+1));fe++)H(ae[fe],Y+1,Q)}($,0,z),$}var l=function(){var z=this;function ee(w,A){for(var I=1<<A-1>>>0;w&I;)I>>>=1;return I?(w&I-1)+I:w}function $(w,A,I,F,G){t(!(F%I));do w[A+(F-=I)]=G;while(0<F)}function H(w,A,I,F,G){if(t(2328>=G),512>=G)var re=s(512);else if((re=s(G))==null)return 0;return function(le,ue,me,ye,Se,Te){var we,Ae,Ee=ue,Le=1<<me,Ne=s(16),Ie=s(16);for(t(Se!=0),t(ye!=null),t(le!=null),t(0<me),Ae=0;Ae<Se;++Ae){if(15<ye[Ae])return 0;++Ne[ye[Ae]]}if(Ne[0]==Se)return 0;for(Ie[1]=0,we=1;15>we;++we){if(Ne[we]>1<<we)return 0;Ie[we+1]=Ie[we]+Ne[we]}for(Ae=0;Ae<Se;++Ae)we=ye[Ae],0<ye[Ae]&&(Te[Ie[we]++]=Ae);if(Ie[15]==1)return(ye=new ae).g=0,ye.value=Te[0],$(le,Ee,1,Le,ye),Le;var je,qe=-1,ze=Le-1,gt=0,st=1,Ft=1,dt=1<<me;for(Ae=0,we=1,Se=2;we<=me;++we,Se<<=1){if(st+=Ft<<=1,0>(Ft-=Ne[we]))return 0;for(;0<Ne[we];--Ne[we])(ye=new ae).g=we,ye.value=Te[Ae++],$(le,Ee+gt,Se,dt,ye),gt=ee(gt,we)}for(we=me+1,Se=2;15>=we;++we,Se<<=1){if(st+=Ft<<=1,0>(Ft-=Ne[we]))return 0;for(;0<Ne[we];--Ne[we]){if(ye=new ae,(gt&ze)!=qe){for(Ee+=dt,je=1<<(qe=we)-me;15>qe&&!(0>=(je-=Ne[qe]));)++qe,je<<=1;Le+=dt=1<<(je=qe-me),le[ue+(qe=gt&ze)].g=je+me,le[ue+qe].value=Ee-ue-qe}ye.g=we-me,ye.value=Te[Ae++],$(le,Ee+(gt>>me),Se,dt,ye),gt=ee(gt,we)}}return st!=2*Ie[15]-1?0:Le}(w,A,I,F,G,re)}function ae(){this.value=this.g=0}function Y(){this.value=this.g=0}function Q(){this.G=a(5,ae),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(wl,Y)}function ie(w,A,I,F){t(w!=null),t(A!=null),t(2147483648>F),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=A,w.pa=I,w.Jd=A,w.Yc=I+F,w.Zc=4<=F?I+F-4+1:I,T(w)}function fe(w,A){for(var I=0;0<A--;)I|=_(w,128)<<A;return I}function W(w,A){var I=fe(w,A);return S(w)?-I:I}function se(w,A,I,F){var G,re=0;for(t(w!=null),t(A!=null),t(4294967288>F),w.Sb=F,w.Ra=0,w.u=0,w.h=0,4<F&&(F=4),G=0;G<F;++G)re+=A[I+G]<<8*G;w.Ra=re,w.bb=F,w.oa=A,w.pa=I}function oe(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<Xa-8>>>0,++w.bb,w.u-=8;Z(w)&&(w.h=1,w.u=0)}function K(w,A){if(t(0<=A),!w.h&&A<=fi){var I=ne(w)&hi[A];return w.u+=A,oe(w),I}return w.h=1,w.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ne(w){return w.Ra>>>(w.u&Xa-1)>>>0}function Z(w){return t(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>Xa}function te(w,A){w.u=A,w.h=Z(w)}function E(w){w.u>=ba&&(t(w.u>=ba),oe(w))}function T(w){t(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(t(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function S(w){return fe(w,1)}function _(w,A){var I=w.Ca;0>w.b&&T(w);var F=w.b,G=I*A>>>8,re=(w.I>>>F>G)+0;for(re?(I-=G,w.I-=G+1<<F>>>0):I=G+1,F=I,G=0;256<=F;)G+=8,F>>=8;return F=7^G+Za[F],w.b-=F,w.Ca=(I<<F)-1,re}function C(w,A,I){w[A+0]=I>>24&255,w[A+1]=I>>16&255,w[A+2]=I>>8&255,w[A+3]=255&I}function P(w,A){return w[A+0]|w[A+1]<<8}function O(w,A){return P(w,A)|w[A+2]<<16}function U(w,A){return P(w,A)|P(w,A+2)<<16}function M(w,A){var I=1<<A;return t(w!=null),t(0<A),w.X=s(I),w.X==null?0:(w.Mb=32-A,w.Xa=A,1)}function J(w,A){t(w!=null),t(A!=null),t(w.Xa==A.Xa),r(A.X,0,w.X,0,1<<A.Xa)}function pe(){this.X=[],this.Xa=this.Mb=0}function de(w,A,I,F){t(I!=null),t(F!=null);var G=I[0],re=F[0];return G==0&&(G=(w*re+A/2)/A),re==0&&(re=(A*G+w/2)/w),0>=G||0>=re?0:(I[0]=G,F[0]=re,1)}function he(w,A){return w+(1<<A)-1>>>A}function xe(w,A){return((4278255360&w)+(4278255360&A)>>>0&4278255360)+((16711935&w)+(16711935&A)>>>0&16711935)>>>0}function ve(w,A){z[A]=function(I,F,G,re,le,ue,me){var ye;for(ye=0;ye<le;++ye){var Se=z[w](ue[me+ye-1],G,re+ye);ue[me+ye]=xe(I[F+ye],Se)}}}function ce(){this.ud=this.hd=this.jd=0}function ge(w,A){return((4278124286&(w^A))>>>1)+(w&A)>>>0}function Pe(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function ke(w,A){return Pe(w+(w-A+.5>>1))}function Re(w,A,I){return Math.abs(A-I)-Math.abs(w-I)}function Fe(w,A,I,F,G,re,le){for(F=re[le-1],I=0;I<G;++I)re[le+I]=F=xe(w[A+I],F)}function Ue(w,A,I,F,G){var re;for(re=0;re<I;++re){var le=w[A+re],ue=le>>8&255,me=16711935&(me=(me=16711935&le)+((ue<<16)+ue));F[G+re]=(4278255360&le)+me>>>0}}function Me(w,A){A.jd=255&w,A.hd=w>>8&255,A.ud=w>>16&255}function Be(w,A,I,F,G,re){var le;for(le=0;le<F;++le){var ue=A[I+le],me=ue>>>8,ye=ue,Se=255&(Se=(Se=ue>>>16)+((w.jd<<24>>24)*(me<<24>>24)>>>5));ye=255&(ye=(ye+=(w.hd<<24>>24)*(me<<24>>24)>>>5)+((w.ud<<24>>24)*(Se<<24>>24)>>>5)),G[re+le]=(4278255360&ue)+(Se<<16)+ye}}function De(w,A,I,F,G){z[A]=function(re,le,ue,me,ye,Se,Te,we,Ae){for(me=Te;me<we;++me)for(Te=0;Te<Ae;++Te)ye[Se++]=G(ue[F(re[le++])])},z[w]=function(re,le,ue,me,ye,Se,Te){var we=8>>re.b,Ae=re.Ea,Ee=re.K[0],Le=re.w;if(8>we)for(re=(1<<re.b)-1,Le=(1<<we)-1;le<ue;++le){var Ne,Ie=0;for(Ne=0;Ne<Ae;++Ne)Ne&re||(Ie=F(me[ye++])),Se[Te++]=G(Ee[Ie&Le]),Ie>>=we}else z["VP8LMapColor"+I](me,ye,Ee,Le,Se,Te,le,ue,Ae)}}function lt(w,A,I,F,G){for(I=A+I;A<I;){var re=w[A++];F[G++]=re>>16&255,F[G++]=re>>8&255,F[G++]=255&re}}function Je(w,A,I,F,G){for(I=A+I;A<I;){var re=w[A++];F[G++]=re>>16&255,F[G++]=re>>8&255,F[G++]=255&re,F[G++]=re>>24&255}}function Qe(w,A,I,F,G){for(I=A+I;A<I;){var re=(le=w[A++])>>16&240|le>>12&15,le=240&le|le>>28&15;F[G++]=re,F[G++]=le}}function We(w,A,I,F,G){for(I=A+I;A<I;){var re=(le=w[A++])>>16&248|le>>13&7,le=le>>5&224|le>>3&31;F[G++]=re,F[G++]=le}}function Et(w,A,I,F,G){for(I=A+I;A<I;){var re=w[A++];F[G++]=255&re,F[G++]=re>>8&255,F[G++]=re>>16&255}}function Xe(w,A,I,F,G,re){if(re==0)for(I=A+I;A<I;)C(F,((re=w[A++])[0]>>24|re[1]>>8&65280|re[2]<<8&16711680|re[3]<<24)>>>0),G+=32;else r(F,G,w,A,I)}function Lt(w,A){z[A][0]=z[w+"0"],z[A][1]=z[w+"1"],z[A][2]=z[w+"2"],z[A][3]=z[w+"3"],z[A][4]=z[w+"4"],z[A][5]=z[w+"5"],z[A][6]=z[w+"6"],z[A][7]=z[w+"7"],z[A][8]=z[w+"8"],z[A][9]=z[w+"9"],z[A][10]=z[w+"10"],z[A][11]=z[w+"11"],z[A][12]=z[w+"12"],z[A][13]=z[w+"13"],z[A][14]=z[w+"0"],z[A][15]=z[w+"0"]}function Ze(w){return w==ov||w==lv||w==pp||w==cv}function nt(){this.eb=[],this.size=this.A=this.fb=0}function _t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function vt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new nt,this.f.kb=new _t,this.sd=null}function rt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function wt(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function ut(w,A){var I=w.T,F=A.ba.f.RGBA,G=F.eb,re=F.fb+w.ka*F.A,le=qi[A.ba.S],ue=w.y,me=w.O,ye=w.f,Se=w.N,Te=w.ea,we=w.W,Ae=A.cc,Ee=A.dc,Le=A.Mc,Ne=A.Nc,Ie=w.ka,je=w.ka+w.T,qe=w.U,ze=qe+1>>1;for(Ie==0?le(ue,me,null,null,ye,Se,Te,we,ye,Se,Te,we,G,re,null,null,qe):(le(A.ec,A.fc,ue,me,Ae,Ee,Le,Ne,ye,Se,Te,we,G,re-F.A,G,re,qe),++I);Ie+2<je;Ie+=2)Ae=ye,Ee=Se,Le=Te,Ne=we,Se+=w.Rc,we+=w.Rc,re+=2*F.A,le(ue,(me+=2*w.fa)-w.fa,ue,me,Ae,Ee,Le,Ne,ye,Se,Te,we,G,re-F.A,G,re,qe);return me+=w.fa,w.j+je<w.o?(r(A.ec,A.fc,ue,me,qe),r(A.cc,A.dc,ye,Se,ze),r(A.Mc,A.Nc,Te,we,ze),I--):1&je||le(ue,me,null,null,ye,Se,Te,we,ye,Se,Te,we,G,re+F.A,null,null,qe),I}function bt(w,A,I){var F=w.F,G=[w.J];if(F!=null){var re=w.U,le=A.ba.S,ue=le==fp||le==pp;A=A.ba.f.RGBA;var me=[0],ye=w.ka;me[0]=w.T,w.Kb&&(ye==0?--me[0]:(--ye,G[0]-=w.width),w.j+w.ka+w.T==w.o&&(me[0]=w.o-w.j-ye));var Se=A.eb;ye=A.fb+ye*A.A,w=yx(F,G[0],w.width,re,me,Se,ye+(ue?0:3),A.A),t(I==me),w&&Ze(le)&&Cd(Se,ye,ue,re,me,A.A)}return 0}function pn(w){var A=w.ma,I=A.ba.S,F=11>I,G=I==dp||I==hp||I==fp||I==av||I==12||Ze(I);if(A.memory=null,A.Ib=null,A.Jb=null,A.Nd=null,!yd(A.Oa,w,G?11:12))return 0;if(G&&Ze(I)&&md(),w.da)alert("todo:use_scaling");else{if(F){if(A.Ib=wt,w.Kb){if(I=w.U+1>>1,A.memory=s(w.U+2*I),A.memory==null)return 0;A.ec=A.memory,A.fc=0,A.cc=A.ec,A.dc=A.fc+w.U,A.Mc=A.cc,A.Nc=A.dc+I,A.Ib=ut,md()}}else alert("todo:EmitYUV");G&&(A.Jb=bt,F&&ss())}if(F&&!Ox){for(w=0;256>w;++w)TL[w]=89858*(w-128)+gp>>mp,LL[w]=-22014*(w-128)+gp,RL[w]=-45773*(w-128),PL[w]=113618*(w-128)+gp>>mp;for(w=Nd;w<hv;++w)A=76283*(w-16)+gp>>mp,IL[w-Nd]=Os(A,255),ML[w-Nd]=Os(A+8>>4,15);Ox=1}return 1}function et(w){var A=w.ma,I=w.U,F=w.T;return t(!(1&w.ka)),0>=I||0>=F?0:(I=A.Ib(w,A),A.Jb!=null&&A.Jb(w,A,I),A.Dc+=I,1)}function Sn(w){w.ma.memory=null}function zt(w,A,I,F){return K(w,8)!=47?0:(A[0]=K(w,14)+1,I[0]=K(w,14)+1,F[0]=K(w,1),K(w,3)!=0?0:!w.h)}function an(w,A){if(4>w)return w+1;var I=w-2>>1;return(2+(1&w)<<I)+K(A,I)+1}function An(w,A){return 120<A?A-120:1<=(I=((I=mL[A-1])>>4)*w+(8-(15&I)))?I:1;var I}function ln(w,A,I){var F=ne(I),G=w[A+=255&F].g-8;return 0<G&&(te(I,I.u+8),F=ne(I),A+=w[A].value,A+=F&(1<<G)-1),te(I,I.u+w[A].g),w[A].value}function fr(w,A,I){return I.g+=w.g,I.value+=w.value<<A>>>0,t(8>=I.g),w.g}function br(w,A,I){var F=w.xc;return t((A=F==0?0:w.vc[w.md*(I>>F)+(A>>F)])<w.Wb),w.Ya[A]}function al(w,A,I,F){var G=w.ab,re=w.c*A,le=w.C;A=le+A;var ue=I,me=F;for(F=w.Ta,I=w.Ua;0<G--;){var ye=w.gc[G],Se=le,Te=A,we=ue,Ae=me,Ee=(me=F,ue=I,ye.Ea);switch(t(Se<Te),t(Te<=ye.nc),ye.hc){case 2:qn(we,Ae,(Te-Se)*Ee,me,ue);break;case 0:var Le=Se,Ne=Te,Ie=me,je=ue,qe=(dt=ye).Ea;Le==0&&(bd(we,Ae,null,null,1,Ie,je),Fe(we,Ae+1,0,0,qe-1,Ie,je+1),Ae+=qe,je+=qe,++Le);for(var ze=1<<dt.b,gt=ze-1,st=he(qe,dt.b),Ft=dt.K,dt=dt.w+(Le>>dt.b)*st;Le<Ne;){var Gt=Ft,ar=dt,Bt=1;for(Ac(we,Ae,Ie,je-qe,1,Ie,je);Bt<qe;){var ht=(Bt&~gt)+ze;ht>qe&&(ht=qe),(0,_d[Gt[ar++]>>8&15])(we,Ae+ +Bt,Ie,je+Bt-qe,ht-Bt,Ie,je+Bt),Bt=ht}Ae+=qe,je+=qe,++Le&gt||(dt+=st)}Te!=ye.nc&&r(me,ue-Ee,me,ue+(Te-Se-1)*Ee,Ee);break;case 1:for(Ee=we,Ne=Ae,qe=(we=ye.Ea)-(je=we&~(Ie=(Ae=1<<ye.b)-1)),Le=he(we,ye.b),ze=ye.K,ye=ye.w+(Se>>ye.b)*Le;Se<Te;){for(gt=ze,st=ye,Ft=new ce,dt=Ne+je,Gt=Ne+we;Ne<dt;)Me(gt[st++],Ft),Sd(Ft,Ee,Ne,Ae,me,ue),Ne+=Ae,ue+=Ae;Ne<Gt&&(Me(gt[st++],Ft),Sd(Ft,Ee,Ne,qe,me,ue),Ne+=qe,ue+=qe),++Se&Ie||(ye+=Le)}break;case 3:if(we==me&&Ae==ue&&0<ye.b){for(Ne=me,we=Ee=ue+(Te-Se)*Ee-(je=(Te-Se)*he(ye.Ea,ye.b)),Ae=me,Ie=ue,Le=[],je=(qe=je)-1;0<=je;--je)Le[je]=Ae[Ie+je];for(je=qe-1;0<=je;--je)Ne[we+je]=Le[je];op(ye,Se,Te,me,Ee,me,ue)}else op(ye,Se,Te,we,Ae,me,ue)}ue=F,me=I}me!=I&&r(F,I,ue,me,re)}function Va(w,A){var I=w.V,F=w.Ba+w.c*w.C,G=A-w.C;if(t(A<=w.l.o),t(16>=G),0<G){var re=w.l,le=w.Ta,ue=w.Ua,me=re.width;if(al(w,G,I,F),G=ue=[ue],t((I=w.C)<(F=A)),t(re.v<re.va),F>re.o&&(F=re.o),I<re.j){var ye=re.j-I;I=re.j,G[0]+=ye*me}if(I>=F?I=0:(G[0]+=4*re.v,re.ka=I-re.j,re.U=re.va-re.v,re.T=F-I,I=1),I){if(ue=ue[0],11>(I=w.ca).S){var Se=I.f.RGBA,Te=(F=I.S,G=re.U,re=re.T,ye=Se.eb,Se.A),we=re;for(Se=Se.fb+w.Ma*Se.A;0<we--;){var Ae=le,Ee=ue,Le=G,Ne=ye,Ie=Se;switch(F){case up:Ad(Ae,Ee,Le,Ne,Ie);break;case dp:Ja(Ae,Ee,Le,Ne,Ie);break;case ov:Ja(Ae,Ee,Le,Ne,Ie),Cd(Ne,Ie,0,Le,1,0);break;case kx:bl(Ae,Ee,Le,Ne,Ie);break;case hp:Xe(Ae,Ee,Le,Ne,Ie,1);break;case lv:Xe(Ae,Ee,Le,Ne,Ie,1),Cd(Ne,Ie,0,Le,1,0);break;case fp:Xe(Ae,Ee,Le,Ne,Ie,0);break;case pp:Xe(Ae,Ee,Le,Ne,Ie,0),Cd(Ne,Ie,1,Le,1,0);break;case av:Qa(Ae,Ee,Le,Ne,Ie);break;case cv:Qa(Ae,Ee,Le,Ne,Ie),vx(Ne,Ie,Le,1,0);break;case Cx:eo(Ae,Ee,Le,Ne,Ie);break;default:t(0)}ue+=me,Se+=Te}w.Ma+=re}else alert("todo:EmitRescaledRowsYUVA");t(w.Ma<=I.height)}}w.C=A,t(w.C<=w.i)}function ts(w){var A;if(0<w.ua)return 0;for(A=0;A<w.Wb;++A){var I=w.Ya[A].G,F=w.Ya[A].H;if(0<I[1][F[1]+0].g||0<I[2][F[2]+0].g||0<I[3][F[3]+0].g)return 0}return 1}function Is(w,A,I,F,G,re){if(w.Z!=0){var le=w.qd,ue=w.rd;for(t(ro[w.Z]!=null);A<I;++A)ro[w.Z](le,ue,F,G,F,G,re),le=F,ue=G,G+=re;w.qd=le,w.rd=ue}}function ns(w,A){var I=w.l.ma,F=I.Z==0||I.Z==1?w.l.j:w.C;if(F=w.C<F?F:w.C,t(A<=w.l.o),A>F){var G=w.l.width,re=I.ca,le=I.tb+G*F,ue=w.V,me=w.Ba+w.c*F,ye=w.gc;t(w.ab==1),t(ye[0].hc==3),Bs(ye[0],F,A,ue,me,re,le),Is(I,F,A,re,le,G)}w.C=w.Ma=A}function rs(w,A,I,F,G,re,le){var ue=w.$/F,me=w.$%F,ye=w.m,Se=w.s,Te=I+w.$,we=Te;G=I+F*G;var Ae=I+F*re,Ee=280+Se.ua,Le=w.Pb?ue:16777216,Ne=0<Se.ua?Se.Wa:null,Ie=Se.wc,je=Te<Ae?br(Se,me,ue):null;t(w.C<re),t(Ae<=G);var qe=!1;e:for(;;){for(;qe||Te<Ae;){var ze=0;if(ue>=Le){var gt=Te-I;t((Le=w).Pb),Le.wd=Le.m,Le.xd=gt,0<Le.s.ua&&J(Le.s.Wa,Le.s.vb),Le=ue+vL}if(me&Ie||(je=br(Se,me,ue)),t(je!=null),je.Qb&&(A[Te]=je.qb,qe=!0),!qe)if(E(ye),je.jc){ze=ye,gt=A;var st=Te,Ft=je.pd[ne(ze)&wl-1];t(je.jc),256>Ft.g?(te(ze,ze.u+Ft.g),gt[st]=Ft.value,ze=0):(te(ze,ze.u+Ft.g-256),t(256<=Ft.value),ze=Ft.value),ze==0&&(qe=!0)}else ze=ln(je.G[0],je.H[0],ye);if(ye.h)break;if(qe||256>ze){if(!qe)if(je.nd)A[Te]=(je.qb|ze<<8)>>>0;else{if(E(ye),qe=ln(je.G[1],je.H[1],ye),E(ye),gt=ln(je.G[2],je.H[2],ye),st=ln(je.G[3],je.H[3],ye),ye.h)break;A[Te]=(st<<24|qe<<16|ze<<8|gt)>>>0}if(qe=!1,++Te,++me>=F&&(me=0,++ue,le!=null&&ue<=re&&!(ue%16)&&le(w,ue),Ne!=null))for(;we<Te;)ze=A[we++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze}else if(280>ze){if(ze=an(ze-256,ye),gt=ln(je.G[4],je.H[4],ye),E(ye),gt=An(F,gt=an(gt,ye)),ye.h)break;if(Te-I<gt||G-Te<ze)break e;for(st=0;st<ze;++st)A[Te+st]=A[Te+st-gt];for(Te+=ze,me+=ze;me>=F;)me-=F,++ue,le!=null&&ue<=re&&!(ue%16)&&le(w,ue);if(t(Te<=G),me&Ie&&(je=br(Se,me,ue)),Ne!=null)for(;we<Te;)ze=A[we++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze}else{if(!(ze<Ee))break e;for(qe=ze-280,t(Ne!=null);we<Te;)ze=A[we++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze;ze=Te,t(!(qe>>>(gt=Ne).Xa)),A[ze]=gt.X[qe],qe=!0}qe||t(ye.h==Z(ye))}if(w.Pb&&ye.h&&Te<G)t(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&J(w.s.vb,w.s.Wa);else{if(ye.h)break e;le?.(w,ue>re?re:ue),w.a=0,w.$=Te-I}return 1}return w.a=3,0}function Di(w){t(w!=null),w.vc=null,w.yc=null,w.Ya=null;var A=w.Wa;A!=null&&(A.X=null),w.vb=null,t(w!=null)}function ol(){var w=new Pt;return w==null?null:(w.a=0,w.xb=Tx,Lt("Predictor","VP8LPredictors"),Lt("Predictor","VP8LPredictors_C"),Lt("PredictorAdd","VP8LPredictorsAdd"),Lt("PredictorAdd","VP8LPredictorsAdd_C"),qn=Ue,Sd=Be,Ad=lt,Ja=Je,Qa=Qe,eo=We,bl=Et,z.VP8LMapColor32b=Fs,z.VP8LMapColor8b=xd,w)}function Ms(w,A,I,F,G){var re=1,le=[w],ue=[A],me=F.m,ye=F.s,Se=null,Te=0;e:for(;;){if(I)for(;re&&K(me,1);){var we=le,Ae=ue,Ee=F,Le=1,Ne=Ee.m,Ie=Ee.gc[Ee.ab],je=K(Ne,2);if(Ee.Oc&1<<je)re=0;else{switch(Ee.Oc|=1<<je,Ie.hc=je,Ie.Ea=we[0],Ie.nc=Ae[0],Ie.K=[null],++Ee.ab,t(4>=Ee.ab),je){case 0:case 1:Ie.b=K(Ne,3)+2,Le=Ms(he(Ie.Ea,Ie.b),he(Ie.nc,Ie.b),0,Ee,Ie.K),Ie.K=Ie.K[0];break;case 3:var qe,ze=K(Ne,8)+1,gt=16<ze?0:4<ze?1:2<ze?2:3;if(we[0]=he(Ie.Ea,gt),Ie.b=gt,qe=Le=Ms(ze,1,0,Ee,Ie.K)){var st,Ft=ze,dt=Ie,Gt=1<<(8>>dt.b),ar=s(Gt);if(ar==null)qe=0;else{var Bt=dt.K[0],ht=dt.w;for(ar[0]=dt.K[0][0],st=1;st<1*Ft;++st)ar[st]=xe(Bt[ht+st],ar[st-1]);for(;st<4*Gt;++st)ar[st]=0;dt.K[0]=null,dt.K[0]=ar,qe=1}}Le=qe;break;case 2:break;default:t(0)}re=Le}}if(le=le[0],ue=ue[0],re&&K(me,1)&&!(re=1<=(Te=K(me,4))&&11>=Te)){F.a=3;break e}var Ye;if(Ye=re)t:{var Wn,jt,Kt,kn=F,Sr=le,qr=ue,Dn=Te,Lr=I,Hr=kn.m,or=kn.s,Jt=[null],cn=1,Fn=0,un=gL[Dn];n:for(;;){if(Lr&&K(Hr,1)){var Ar=K(Hr,3)+2,os=he(Sr,Ar),Vn=he(qr,Ar),ei=os*Vn;if(!Ms(os,Vn,0,kn,Jt))break n;for(Jt=Jt[0],or.xc=Ar,Wn=0;Wn<ei;++Wn){var gn=Jt[Wn]>>8&65535;Jt[Wn]=gn,gn>=cn&&(cn=gn+1)}}if(Hr.h)break n;for(jt=0;5>jt;++jt){var lr=Ex[jt];!jt&&0<Dn&&(lr+=1<<Dn),Fn<lr&&(Fn=lr)}var mi=a(cn*un,ae),Wr=cn,gi=a(Wr,Q);if(gi==null)var vi=null;else t(65536>=Wr),vi=gi;var ti=s(Fn);if(vi==null||ti==null||mi==null){kn.a=1;break n}var yi=mi;for(Wn=Kt=0;Wn<cn;++Wn){var wn=vi[Wn],wi=wn.G,ls=wn.H,_l=0,Sa=1,kr=0;for(jt=0;5>jt;++jt){lr=Ex[jt],wi[jt]=yi,ls[jt]=Kt,!jt&&0<Dn&&(lr+=1<<Dn);i:{var yp,fv=lr,wp=kn,Td=ti,DL=yi,FL=Kt,pv=0,io=wp.m,BL=K(io,1);if(i(Td,0,0,fv),BL){var UL=K(io,1)+1,$L=K(io,1),Fx=K(io,$L==0?1:8);Td[Fx]=1,UL==2&&(Td[Fx=K(io,8)]=1);var bp=1}else{var Bx=s(19),Ux=K(io,4)+4;if(19<Ux){wp.a=3;var xp=0;break i}for(yp=0;yp<Ux;++yp)Bx[pL[yp]]=K(io,3);var mv=void 0,Pd=void 0,$x=wp,zL=Bx,_p=fv,zx=Td,gv=0,so=$x.m,qx=8,Hx=a(128,ae);r:for(;H(Hx,0,7,zL,19);){if(K(so,1)){var qL=2+2*K(so,3);if((mv=2+K(so,qL))>_p)break r}else mv=_p;for(Pd=0;Pd<_p&&mv--;){E(so);var Wx=Hx[0+(127&ne(so))];te(so,so.u+Wx.g);var Cc=Wx.value;if(16>Cc)zx[Pd++]=Cc,Cc!=0&&(qx=Cc);else{var HL=Cc==16,Vx=Cc-16,WL=hL[Vx],Gx=K(so,dL[Vx])+WL;if(Pd+Gx>_p)break r;for(var VL=HL?qx:0;0<Gx--;)zx[Pd++]=VL}}gv=1;break r}gv||($x.a=3),bp=gv}(bp=bp&&!io.h)&&(pv=H(DL,FL,8,Td,fv)),bp&&pv!=0?xp=pv:(wp.a=3,xp=0)}if(xp==0)break n;if(Sa&&fL[jt]==1&&(Sa=yi[Kt].g==0),_l+=yi[Kt].g,Kt+=xp,3>=jt){var Rd,vv=ti[0];for(Rd=1;Rd<lr;++Rd)ti[Rd]>vv&&(vv=ti[Rd]);kr+=vv}}if(wn.nd=Sa,wn.Qb=0,Sa&&(wn.qb=(wi[3][ls[3]+0].value<<24|wi[1][ls[1]+0].value<<16|wi[2][ls[2]+0].value)>>>0,_l==0&&256>wi[0][ls[0]+0].value&&(wn.Qb=1,wn.qb+=wi[0][ls[0]+0].value<<8)),wn.jc=!wn.Qb&&6>kr,wn.jc){var Sp,Aa=wn;for(Sp=0;Sp<wl;++Sp){var ao=Sp,oo=Aa.pd[ao],Ap=Aa.G[0][Aa.H[0]+ao];256<=Ap.value?(oo.g=Ap.g+256,oo.value=Ap.value):(oo.g=0,oo.value=0,ao>>=fr(Ap,8,oo),ao>>=fr(Aa.G[1][Aa.H[1]+ao],16,oo),ao>>=fr(Aa.G[2][Aa.H[2]+ao],0,oo),fr(Aa.G[3][Aa.H[3]+ao],24,oo))}}}or.vc=Jt,or.Wb=cn,or.Ya=vi,or.yc=mi,Ye=1;break t}Ye=0}if(!(re=Ye)){F.a=3;break e}if(0<Te){if(ye.ua=1<<Te,!M(ye.Wa,Te)){F.a=1,re=0;break e}}else ye.ua=0;var yv=F,Yx=le,GL=ue,wv=yv.s,bv=wv.xc;if(yv.c=Yx,yv.i=GL,wv.md=he(Yx,bv),wv.wc=bv==0?-1:(1<<bv)-1,I){F.xb=AL;break e}if((Se=s(le*ue))==null){F.a=1,re=0;break e}re=(re=rs(F,Se,0,le,ue,ue,null))&&!me.h;break e}return re?(G!=null?G[0]=Se:(t(Se==null),t(I)),F.$=0,I||Di(ye)):Di(ye),re}function ll(w,A){var I=w.c*w.i,F=I+A+16*A;return t(w.c<=A),w.V=s(F),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+I+A,1)}function pc(w,A){var I=w.C,F=A-I,G=w.V,re=w.Ba+w.c*I;for(t(A<=w.l.o);0<F;){var le=16<F?16:F,ue=w.l.ma,me=w.l.width,ye=me*le,Se=ue.ca,Te=ue.tb+me*I,we=w.Ta,Ae=w.Ua;al(w,le,G,re),wx(we,Ae,Se,Te,ye),Is(ue,I,I+le,Se,Te,me),F-=le,G+=le*w.c,I+=le}t(I==A),w.C=w.Ma=A}function mc(){this.ub=this.yd=this.td=this.Rb=0}function gc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function q0(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function id(){this.Yb=function(){var w=[];return function A(I,F,G){for(var re=G[F],le=0;le<re&&(I.push(G.length>F+1?[]:0),!(G.length<F+1));le++)A(I[le],F+1,G)}(w,0,[3,11]),w}()}function qf(){this.jb=s(3),this.Wc=o([4,8],id),this.Xc=o([4,17],id)}function Hf(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Fi(){this.ld=this.La=this.dd=this.tc=0}function sd(){this.Na=this.la=0}function Wf(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ad(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vf(){this.uc=this.M=this.Nb=0,this.wa=Array(new Fi),this.Y=0,this.ya=Array(new ad),this.aa=0,this.l=new vc}function Gf(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Yf(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new mc,this.Kc=new gc,this.ed=new Hf,this.Qa=new q0,this.Ic=this.$c=this.Aa=0,this.D=new Vf,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,B),this.ia=0,this.pb=a(4,Wf),this.Pa=new qf,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gf),this.Hd=0,this.rb=Array(new sd),this.sb=0,this.wa=Array(new Fi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ad),this.L=this.aa=0,this.gd=o([4,2],Fi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Os(w,A){return 0>w?0:w>A?A:w}function vc(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function H0(){var w=new Yf;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,Ed||(Ed=yc)),w}function Zn(w,A,I){return w.a==0&&(w.a=A,w.sc=I,w.cb=0),0}function Kf(w,A,I){return 3<=I&&w[A+0]==157&&w[A+1]==1&&w[A+2]==42}function js(w,A){if(w==null)return 0;if(w.a=0,w.sc="OK",A==null)return Zn(w,2,"null VP8Io passed to VP8GetHeaders()");var I=A.data,F=A.w,G=A.ha;if(4>G)return Zn(w,7,"Truncated header.");var re=I[F+0]|I[F+1]<<8|I[F+2]<<16,le=w.Od;if(le.Rb=!(1&re),le.td=re>>1&7,le.yd=re>>4&1,le.ub=re>>5,3<le.td)return Zn(w,3,"Incorrect keyframe parameters.");if(!le.yd)return Zn(w,4,"Frame not displayable.");F+=3,G-=3;var ue=w.Kc;if(le.Rb){if(7>G)return Zn(w,7,"cannot parse picture header");if(!Kf(I,F,G))return Zn(w,3,"Bad code word");ue.c=16383&(I[F+4]<<8|I[F+3]),ue.Td=I[F+4]>>6,ue.i=16383&(I[F+6]<<8|I[F+5]),ue.Ud=I[F+6]>>6,F+=7,G-=7,w.za=ue.c+15>>4,w.Ub=ue.i+15>>4,A.width=ue.c,A.height=ue.i,A.Da=0,A.j=0,A.v=0,A.va=A.width,A.o=A.height,A.da=0,A.ib=A.width,A.hb=A.height,A.U=A.width,A.T=A.height,i((re=w.Pa).jb,0,255,re.jb.length),t((re=w.Qa)!=null),re.Cb=0,re.Bb=0,re.Fb=1,i(re.Zb,0,0,re.Zb.length),i(re.Lb,0,0,re.Lb)}if(le.ub>G)return Zn(w,7,"bad partition length");ie(re=w.m,I,F,le.ub),F+=le.ub,G-=le.ub,le.Rb&&(ue.Ld=S(re),ue.Kd=S(re)),ue=w.Qa;var me,ye=w.Pa;if(t(re!=null),t(ue!=null),ue.Cb=S(re),ue.Cb){if(ue.Bb=S(re),S(re)){for(ue.Fb=S(re),me=0;4>me;++me)ue.Zb[me]=S(re)?W(re,7):0;for(me=0;4>me;++me)ue.Lb[me]=S(re)?W(re,6):0}if(ue.Bb)for(me=0;3>me;++me)ye.jb[me]=S(re)?fe(re,8):255}else ue.Bb=0;if(re.Ka)return Zn(w,3,"cannot parse segment header");if((ue=w.ed).zd=S(re),ue.Tb=fe(re,6),ue.wb=fe(re,3),ue.Pc=S(re),ue.Pc&&S(re)){for(ye=0;4>ye;++ye)S(re)&&(ue.vd[ye]=W(re,6));for(ye=0;4>ye;++ye)S(re)&&(ue.od[ye]=W(re,6))}if(w.L=ue.Tb==0?0:ue.zd?1:2,re.Ka)return Zn(w,3,"cannot parse filter header");var Se=G;if(G=me=F,F=me+Se,ue=Se,w.Xb=(1<<fe(w.m,2))-1,Se<3*(ye=w.Xb))I=7;else{for(me+=3*ye,ue-=3*ye,Se=0;Se<ye;++Se){var Te=I[G+0]|I[G+1]<<8|I[G+2]<<16;Te>ue&&(Te=ue),ie(w.Jc[+Se],I,me,Te),me+=Te,ue-=Te,G+=3}ie(w.Jc[+ye],I,me,ue),I=me<F?0:5}if(I!=0)return Zn(w,I,"cannot parse partitions");for(I=fe(me=w.m,7),G=S(me)?W(me,4):0,F=S(me)?W(me,4):0,ue=S(me)?W(me,4):0,ye=S(me)?W(me,4):0,me=S(me)?W(me,4):0,Se=w.Qa,Te=0;4>Te;++Te){if(Se.Cb){var we=Se.Zb[Te];Se.Fb||(we+=I)}else{if(0<Te){w.pb[Te]=w.pb[0];continue}we=I}var Ae=w.pb[Te];Ae.Sc[0]=uv[Os(we+G,127)],Ae.Sc[1]=dv[Os(we+0,127)],Ae.Eb[0]=2*uv[Os(we+F,127)],Ae.Eb[1]=101581*dv[Os(we+ue,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=uv[Os(we+ye,117)],Ae.Qc[1]=dv[Os(we+me,127)],Ae.lc=we+me}if(!le.Rb)return Zn(w,4,"Not a key frame.");for(S(re),le=w.Pa,I=0;4>I;++I){for(G=0;8>G;++G)for(F=0;3>F;++F)for(ue=0;11>ue;++ue)ye=_(re,_L[I][G][F][ue])?fe(re,8):bL[I][G][F][ue],le.Wc[I][G].Yb[F][ue]=ye;for(G=0;17>G;++G)le.Xc[I][G]=le.Wc[I][SL[G]]}return w.kc=S(re),w.kc&&(w.Bd=fe(re,8)),w.cb=1}function yc(w,A,I,F,G,re,le){var ue=A[G].Yb[I];for(I=0;16>G;++G){if(!_(w,ue[I+0]))return G;for(;!_(w,ue[I+1]);)if(ue=A[++G].Yb[0],I=0,G==16)return 16;var me=A[G+1].Yb;if(_(w,ue[I+2])){var ye=w,Se=0;if(_(ye,(we=ue)[(Te=I)+3]))if(_(ye,we[Te+6])){for(ue=0,Te=2*(Se=_(ye,we[Te+8]))+(we=_(ye,we[Te+9+Se])),Se=0,we=yL[Te];we[ue];++ue)Se+=Se+_(ye,we[ue]);Se+=3+(8<<Te)}else _(ye,we[Te+7])?(Se=7+2*_(ye,165),Se+=_(ye,145)):Se=5+_(ye,159);else Se=_(ye,we[Te+4])?3+_(ye,we[Te+5]):2;ue=me[2]}else Se=1,ue=me[1];me=le+wL[G],0>(ye=w).b&&T(ye);var Te,we=ye.b,Ae=(Te=ye.Ca>>1)-(ye.I>>we)>>31;--ye.b,ye.Ca+=Ae,ye.Ca|=1,ye.I-=(Te+1&Ae)<<we,re[me]=((Se^Ae)-Ae)*F[(0<G)+0]}return 16}function Xf(w){var A=w.rb[w.sb-1];A.la=0,A.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function Bi(w,A,I,F,G){G=w[A+I+32*F]+(G>>3),w[A+I+32*F]=-256&G?0>G?0:255:G}function rr(w,A,I,F,G,re){Bi(w,A,0,I,F+G),Bi(w,A,1,I,F+re),Bi(w,A,2,I,F-re),Bi(w,A,3,I,F-G)}function ua(w){return(20091*w>>16)+w}function Zf(w,A,I,F){var G,re=0,le=s(16);for(G=0;4>G;++G){var ue=w[A+0]+w[A+8],me=w[A+0]-w[A+8],ye=(35468*w[A+4]>>16)-ua(w[A+12]),Se=ua(w[A+4])+(35468*w[A+12]>>16);le[re+0]=ue+Se,le[re+1]=me+ye,le[re+2]=me-ye,le[re+3]=ue-Se,re+=4,A++}for(G=re=0;4>G;++G)ue=(w=le[re+0]+4)+le[re+8],me=w-le[re+8],ye=(35468*le[re+4]>>16)-ua(le[re+12]),Bi(I,F,0,0,ue+(Se=ua(le[re+4])+(35468*le[re+12]>>16))),Bi(I,F,1,0,me+ye),Bi(I,F,2,0,me-ye),Bi(I,F,3,0,ue-Se),re++,F+=32}function W0(w,A,I,F){var G=w[A+0]+4,re=35468*w[A+4]>>16,le=ua(w[A+4]),ue=35468*w[A+1]>>16;rr(I,F,0,G+le,w=ua(w[A+1]),ue),rr(I,F,1,G+re,w,ue),rr(I,F,2,G-re,w,ue),rr(I,F,3,G-le,w,ue)}function V0(w,A,I,F,G){Zf(w,A,I,F),G&&Zf(w,A+16,I,F+4)}function Ds(w,A,I,F){xl(w,A+0,I,F,1),xl(w,A+32,I,F+128,1)}function Jf(w,A,I,F){var G;for(w=w[A+0]+4,G=0;4>G;++G)for(A=0;4>A;++A)Bi(I,F,A,G,w)}function Qf(w,A,I,F){w[A+0]&&on(w,A+0,I,F),w[A+16]&&on(w,A+16,I,F+4),w[A+32]&&on(w,A+32,I,F+128),w[A+48]&&on(w,A+48,I,F+128+4)}function wc(w,A,I,F){var G,re=s(16);for(G=0;4>G;++G){var le=w[A+0+G]+w[A+12+G],ue=w[A+4+G]+w[A+8+G],me=w[A+4+G]-w[A+8+G],ye=w[A+0+G]-w[A+12+G];re[0+G]=le+ue,re[8+G]=le-ue,re[4+G]=ye+me,re[12+G]=ye-me}for(G=0;4>G;++G)le=(w=re[0+4*G]+3)+re[3+4*G],ue=re[1+4*G]+re[2+4*G],me=re[1+4*G]-re[2+4*G],ye=w-re[3+4*G],I[F+0]=le+ue>>3,I[F+16]=ye+me>>3,I[F+32]=le-ue>>3,I[F+48]=ye-me>>3,F+=64}function cl(w,A,I){var F,G=A-32,re=pi,le=255-w[G-1];for(F=0;F<I;++F){var ue,me=re,ye=le+w[A-1];for(ue=0;ue<I;++ue)w[A+ue]=me[ye+w[G+ue]];A+=32}}function G0(w,A){cl(w,A,4)}function Y0(w,A){cl(w,A,8)}function K0(w,A){cl(w,A,16)}function od(w,A){var I;for(I=0;16>I;++I)r(w,A+32*I,w,A-32,16)}function ep(w,A){var I;for(I=16;0<I;--I)i(w,A,w[A-1],16),A+=32}function is(w,A,I){var F;for(F=0;16>F;++F)i(A,I+32*F,w,16)}function X0(w,A){var I,F=16;for(I=0;16>I;++I)F+=w[A-1+32*I]+w[A+I-32];is(F>>5,w,A)}function ul(w,A){var I,F=8;for(I=0;16>I;++I)F+=w[A-1+32*I];is(F>>4,w,A)}function ld(w,A){var I,F=8;for(I=0;16>I;++I)F+=w[A+I-32];is(F>>4,w,A)}function Z0(w,A){is(128,w,A)}function Rt(w,A,I){return w+2*A+I+2>>2}function J0(w,A){var I,F=A-32;for(F=new Uint8Array([Rt(w[F-1],w[F+0],w[F+1]),Rt(w[F+0],w[F+1],w[F+2]),Rt(w[F+1],w[F+2],w[F+3]),Rt(w[F+2],w[F+3],w[F+4])]),I=0;4>I;++I)r(w,A+32*I,F,0,F.length)}function Q0(w,A){var I=w[A-1],F=w[A-1+32],G=w[A-1+64],re=w[A-1+96];C(w,A+0,16843009*Rt(w[A-1-32],I,F)),C(w,A+32,16843009*Rt(I,F,G)),C(w,A+64,16843009*Rt(F,G,re)),C(w,A+96,16843009*Rt(G,re,re))}function ev(w,A){var I,F=4;for(I=0;4>I;++I)F+=w[A+I-32]+w[A-1+32*I];for(F>>=3,I=0;4>I;++I)i(w,A+32*I,F,4)}function da(w,A){var I=w[A-1+0],F=w[A-1+32],G=w[A-1+64],re=w[A-1-32],le=w[A+0-32],ue=w[A+1-32],me=w[A+2-32],ye=w[A+3-32];w[A+0+96]=Rt(F,G,w[A-1+96]),w[A+1+96]=w[A+0+64]=Rt(I,F,G),w[A+2+96]=w[A+1+64]=w[A+0+32]=Rt(re,I,F),w[A+3+96]=w[A+2+64]=w[A+1+32]=w[A+0+0]=Rt(le,re,I),w[A+3+64]=w[A+2+32]=w[A+1+0]=Rt(ue,le,re),w[A+3+32]=w[A+2+0]=Rt(me,ue,le),w[A+3+0]=Rt(ye,me,ue)}function ha(w,A){var I=w[A+1-32],F=w[A+2-32],G=w[A+3-32],re=w[A+4-32],le=w[A+5-32],ue=w[A+6-32],me=w[A+7-32];w[A+0+0]=Rt(w[A+0-32],I,F),w[A+1+0]=w[A+0+32]=Rt(I,F,G),w[A+2+0]=w[A+1+32]=w[A+0+64]=Rt(F,G,re),w[A+3+0]=w[A+2+32]=w[A+1+64]=w[A+0+96]=Rt(G,re,le),w[A+3+32]=w[A+2+64]=w[A+1+96]=Rt(re,le,ue),w[A+3+64]=w[A+2+96]=Rt(le,ue,me),w[A+3+96]=Rt(ue,me,me)}function tv(w,A){var I=w[A-1+0],F=w[A-1+32],G=w[A-1+64],re=w[A-1-32],le=w[A+0-32],ue=w[A+1-32],me=w[A+2-32],ye=w[A+3-32];w[A+0+0]=w[A+1+64]=re+le+1>>1,w[A+1+0]=w[A+2+64]=le+ue+1>>1,w[A+2+0]=w[A+3+64]=ue+me+1>>1,w[A+3+0]=me+ye+1>>1,w[A+0+96]=Rt(G,F,I),w[A+0+64]=Rt(F,I,re),w[A+0+32]=w[A+1+96]=Rt(I,re,le),w[A+1+32]=w[A+2+96]=Rt(re,le,ue),w[A+2+32]=w[A+3+96]=Rt(le,ue,me),w[A+3+32]=Rt(ue,me,ye)}function nv(w,A){var I=w[A+0-32],F=w[A+1-32],G=w[A+2-32],re=w[A+3-32],le=w[A+4-32],ue=w[A+5-32],me=w[A+6-32],ye=w[A+7-32];w[A+0+0]=I+F+1>>1,w[A+1+0]=w[A+0+64]=F+G+1>>1,w[A+2+0]=w[A+1+64]=G+re+1>>1,w[A+3+0]=w[A+2+64]=re+le+1>>1,w[A+0+32]=Rt(I,F,G),w[A+1+32]=w[A+0+96]=Rt(F,G,re),w[A+2+32]=w[A+1+96]=Rt(G,re,le),w[A+3+32]=w[A+2+96]=Rt(re,le,ue),w[A+3+64]=Rt(le,ue,me),w[A+3+96]=Rt(ue,me,ye)}function bc(w,A){var I=w[A-1+0],F=w[A-1+32],G=w[A-1+64],re=w[A-1+96];w[A+0+0]=I+F+1>>1,w[A+2+0]=w[A+0+32]=F+G+1>>1,w[A+2+32]=w[A+0+64]=G+re+1>>1,w[A+1+0]=Rt(I,F,G),w[A+3+0]=w[A+1+32]=Rt(F,G,re),w[A+3+32]=w[A+1+64]=Rt(G,re,re),w[A+3+64]=w[A+2+64]=w[A+0+96]=w[A+1+96]=w[A+2+96]=w[A+3+96]=re}function cd(w,A){var I=w[A-1+0],F=w[A-1+32],G=w[A-1+64],re=w[A-1+96],le=w[A-1-32],ue=w[A+0-32],me=w[A+1-32],ye=w[A+2-32];w[A+0+0]=w[A+2+32]=I+le+1>>1,w[A+0+32]=w[A+2+64]=F+I+1>>1,w[A+0+64]=w[A+2+96]=G+F+1>>1,w[A+0+96]=re+G+1>>1,w[A+3+0]=Rt(ue,me,ye),w[A+2+0]=Rt(le,ue,me),w[A+1+0]=w[A+3+32]=Rt(I,le,ue),w[A+1+32]=w[A+3+64]=Rt(F,I,le),w[A+1+64]=w[A+3+96]=Rt(G,F,I),w[A+1+96]=Rt(re,G,F)}function dl(w,A){var I;for(I=0;8>I;++I)r(w,A+32*I,w,A-32,8)}function rv(w,A){var I;for(I=0;8>I;++I)i(w,A,w[A-1],8),A+=32}function fa(w,A,I){var F;for(F=0;8>F;++F)i(A,I+32*F,w,8)}function iv(w,A){var I,F=8;for(I=0;8>I;++I)F+=w[A+I-32]+w[A-1+32*I];fa(F>>4,w,A)}function ud(w,A){var I,F=4;for(I=0;8>I;++I)F+=w[A+I-32];fa(F>>3,w,A)}function dd(w,A){var I,F=4;for(I=0;8>I;++I)F+=w[A-1+32*I];fa(F>>3,w,A)}function tp(w,A){fa(128,w,A)}function pa(w,A,I){var F=w[A-I],G=w[A+0],re=3*(G-F)+sv[1020+w[A-2*I]-w[A+I]],le=cp[112+(re+4>>3)];w[A-I]=pi[255+F+cp[112+(re+3>>3)]],w[A+0]=pi[255+G-le]}function hd(w,A,I,F){var G=w[A+0],re=w[A+I];return zi[255+w[A-2*I]-w[A-I]]>F||zi[255+re-G]>F}function xc(w,A,I,F){return 4*zi[255+w[A-I]-w[A+0]]+zi[255+w[A-2*I]-w[A+I]]<=F}function fd(w,A,I,F,G){var re=w[A-3*I],le=w[A-2*I],ue=w[A-I],me=w[A+0],ye=w[A+I],Se=w[A+2*I],Te=w[A+3*I];return 4*zi[255+ue-me]+zi[255+le-ye]>F?0:zi[255+w[A-4*I]-re]<=G&&zi[255+re-le]<=G&&zi[255+le-ue]<=G&&zi[255+Te-Se]<=G&&zi[255+Se-ye]<=G&&zi[255+ye-me]<=G}function hl(w,A,I,F){var G=2*F+1;for(F=0;16>F;++F)xc(w,A+F,I,G)&&pa(w,A+F,I)}function pd(w,A,I,F){var G=2*F+1;for(F=0;16>F;++F)xc(w,A+F*I,1,G)&&pa(w,A+F*I,1)}function np(w,A,I,F){var G;for(G=3;0<G;--G)hl(w,A+=4*I,I,F)}function rp(w,A,I,F){var G;for(G=3;0<G;--G)pd(w,A+=4,I,F)}function ma(w,A,I,F,G,re,le,ue){for(re=2*re+1;0<G--;){if(fd(w,A,I,re,le))if(hd(w,A,I,ue))pa(w,A,I);else{var me=w,ye=A,Se=I,Te=me[ye-2*Se],we=me[ye-Se],Ae=me[ye+0],Ee=me[ye+Se],Le=me[ye+2*Se],Ne=27*(je=sv[1020+3*(Ae-we)+sv[1020+Te-Ee]])+63>>7,Ie=18*je+63>>7,je=9*je+63>>7;me[ye-3*Se]=pi[255+me[ye-3*Se]+je],me[ye-2*Se]=pi[255+Te+Ie],me[ye-Se]=pi[255+we+Ne],me[ye+0]=pi[255+Ae-Ne],me[ye+Se]=pi[255+Ee-Ie],me[ye+2*Se]=pi[255+Le-je]}A+=F}}function ga(w,A,I,F,G,re,le,ue){for(re=2*re+1;0<G--;){if(fd(w,A,I,re,le))if(hd(w,A,I,ue))pa(w,A,I);else{var me=w,ye=A,Se=I,Te=me[ye-Se],we=me[ye+0],Ae=me[ye+Se],Ee=cp[112+(4+(Le=3*(we-Te))>>3)],Le=cp[112+(Le+3>>3)],Ne=Ee+1>>1;me[ye-2*Se]=pi[255+me[ye-2*Se]+Ne],me[ye-Se]=pi[255+Te+Le],me[ye+0]=pi[255+we-Ee],me[ye+Se]=pi[255+Ae-Ne]}A+=F}}function ip(w,A,I,F,G,re){ma(w,A,I,1,16,F,G,re)}function fl(w,A,I,F,G,re){ma(w,A,1,I,16,F,G,re)}function sp(w,A,I,F,G,re){var le;for(le=3;0<le;--le)ga(w,A+=4*I,I,1,16,F,G,re)}function N(w,A,I,F,G,re){var le;for(le=3;0<le;--le)ga(w,A+=4,1,I,16,F,G,re)}function V(w,A,I,F,G,re,le,ue){ma(w,A,G,1,8,re,le,ue),ma(I,F,G,1,8,re,le,ue)}function be(w,A,I,F,G,re,le,ue){ma(w,A,1,G,8,re,le,ue),ma(I,F,1,G,8,re,le,ue)}function _e(w,A,I,F,G,re,le,ue){ga(w,A+4*G,G,1,8,re,le,ue),ga(I,F+4*G,G,1,8,re,le,ue)}function Ce(w,A,I,F,G,re,le,ue){ga(w,A+4,1,G,8,re,le,ue),ga(I,F+4,1,G,8,re,le,ue)}function Oe(){this.ba=new vt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function $e(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ot(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pt(){this.ua=0,this.Wa=new pe,this.vb=new pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Q,this.yc=new ae}function Pt(){this.xb=this.a=0,this.l=new vc,this.ca=new vt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pt,this.ab=0,this.gc=a(4,ot),this.Oc=0}function Dt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new vc,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Zt(w,A,I,F,G,re,le){for(w=w==null?0:w[A+0],A=0;A<le;++A)G[re+A]=w+I[F+A]&255,w=G[re+A]}function In(w,A,I,F,G,re,le){var ue;if(w==null)Zt(null,null,I,F,G,re,le);else for(ue=0;ue<le;++ue)G[re+ue]=w[A+ue]+I[F+ue]&255}function Jn(w,A,I,F,G,re,le){if(w==null)Zt(null,null,I,F,G,re,le);else{var ue,me=w[A+0],ye=me,Se=me;for(ue=0;ue<le;++ue)ye=Se+(me=w[A+ue])-ye,Se=I[F+ue]+(-256&ye?0>ye?0:255:ye)&255,ye=me,G[re+ue]=Se}}function yn(w,A,I,F){var G=A.width,re=A.o;if(t(w!=null&&A!=null),0>I||0>=F||I+F>re)return null;if(!w.Cc){if(w.ga==null){var le;if(w.ga=new Dt,(le=w.ga==null)||(le=A.width*A.o,t(w.Gb.length==0),w.Gb=s(le),w.Uc=0,w.Gb==null?le=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,le=1),le=!le),!le){le=w.ga;var ue=w.Fa,me=w.P,ye=w.qc,Se=w.mb,Te=w.nb,we=me+1,Ae=ye-1,Ee=le.l;if(t(ue!=null&&Se!=null&&A!=null),ro[0]=null,ro[1]=Zt,ro[2]=In,ro[3]=Jn,le.ca=Se,le.tb=Te,le.c=A.width,le.i=A.height,t(0<le.c&&0<le.i),1>=ye)A=0;else if(le.$a=3&ue[me+0],le.Z=ue[me+0]>>2&3,le.Lc=ue[me+0]>>4&3,me=ue[me+0]>>6&3,0>le.$a||1<le.$a||4<=le.Z||1<le.Lc||me)A=0;else if(Ee.put=et,Ee.ac=pn,Ee.bc=Sn,Ee.ma=le,Ee.width=A.width,Ee.height=A.height,Ee.Da=A.Da,Ee.v=A.v,Ee.va=A.va,Ee.j=A.j,Ee.o=A.o,le.$a)e:{t(le.$a==1),A=ol();t:for(;;){if(A==null){A=0;break e}if(t(le!=null),le.mc=A,A.c=le.c,A.i=le.i,A.l=le.l,A.l.ma=le,A.l.width=le.c,A.l.height=le.i,A.a=0,se(A.m,ue,we,Ae),!Ms(le.c,le.i,1,A,null)||(A.ab==1&&A.gc[0].hc==3&&ts(A.s)?(le.ic=1,ue=A.c*A.i,A.Ta=null,A.Ua=0,A.V=s(ue),A.Ba=0,A.V==null?(A.a=1,A=0):A=1):(le.ic=0,A=ll(A,le.c)),!A))break t;A=1;break e}le.mc=null,A=0}else A=Ae>=le.c*le.i;le=!A}if(le)return null;w.ga.Lc!=1?w.Ga=0:F=re-I}t(w.ga!=null),t(I+F<=re);e:{if(A=(ue=w.ga).c,re=ue.l.o,ue.$a==0){if(we=w.rc,Ae=w.Vc,Ee=w.Fa,me=w.P+1+I*A,ye=w.mb,Se=w.nb+I*A,t(me<=w.P+w.qc),ue.Z!=0)for(t(ro[ue.Z]!=null),le=0;le<F;++le)ro[ue.Z](we,Ae,Ee,me,ye,Se,A),we=ye,Ae=Se,Se+=A,me+=A;else for(le=0;le<F;++le)r(ye,Se,Ee,me,A),we=ye,Ae=Se,Se+=A,me+=A;w.rc=we,w.Vc=Ae}else{if(t(ue.mc!=null),A=I+F,t((le=ue.mc)!=null),t(A<=le.i),le.C>=A)A=1;else if(ue.ic||ss(),ue.ic){ue=le.V,we=le.Ba,Ae=le.c;var Le=le.i,Ne=(Ee=1,me=le.$/Ae,ye=le.$%Ae,Se=le.m,Te=le.s,le.$),Ie=Ae*Le,je=Ae*A,qe=Te.wc,ze=Ne<je?br(Te,ye,me):null;t(Ne<=Ie),t(A<=Le),t(ts(Te));t:for(;;){for(;!Se.h&&Ne<je;){if(ye&qe||(ze=br(Te,ye,me)),t(ze!=null),E(Se),256>(Le=ln(ze.G[0],ze.H[0],Se)))ue[we+Ne]=Le,++Ne,++ye>=Ae&&(ye=0,++me<=A&&!(me%16)&&ns(le,me));else{if(!(280>Le)){Ee=0;break t}Le=an(Le-256,Se);var gt,st=ln(ze.G[4],ze.H[4],Se);if(E(Se),!(Ne>=(st=An(Ae,st=an(st,Se)))&&Ie-Ne>=Le)){Ee=0;break t}for(gt=0;gt<Le;++gt)ue[we+Ne+gt]=ue[we+Ne+gt-st];for(Ne+=Le,ye+=Le;ye>=Ae;)ye-=Ae,++me<=A&&!(me%16)&&ns(le,me);Ne<je&&ye&qe&&(ze=br(Te,ye,me))}t(Se.h==Z(Se))}ns(le,me>A?A:me);break t}!Ee||Se.h&&Ne<Ie?(Ee=0,le.a=Se.h?5:3):le.$=Ne,A=Ee}else A=rs(le,le.V,le.Ba,le.c,le.i,A,pc);if(!A){F=0;break e}}I+F>=re&&(w.Cc=1),F=1}if(!F)return null;if(w.Cc&&((F=w.ga)!=null&&(F.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+I*G}function ir(w,A,I,F,G,re){for(;0<G--;){var le,ue=w,me=A+(I?1:0),ye=w,Se=A+(I?0:3);for(le=0;le<F;++le){var Te=ye[Se+4*le];Te!=255&&(Te*=32897,ue[me+4*le+0]=ue[me+4*le+0]*Te>>23,ue[me+4*le+1]=ue[me+4*le+1]*Te>>23,ue[me+4*le+2]=ue[me+4*le+2]*Te>>23)}A+=re}}function Qn(w,A,I,F,G){for(;0<F--;){var re;for(re=0;re<I;++re){var le=w[A+2*re+0],ue=15&(ye=w[A+2*re+1]),me=4369*ue,ye=(240&ye|ye>>4)*me>>16;w[A+2*re+0]=(240&le|le>>4)*me>>16&240|(15&le|le<<4)*me>>16>>4&15,w[A+2*re+1]=240&ye|ue}A+=G}}function xr(w,A,I,F,G,re,le,ue){var me,ye,Se=255;for(ye=0;ye<G;++ye){for(me=0;me<F;++me){var Te=w[A+me];re[le+4*me]=Te,Se&=Te}A+=I,le+=ue}return Se!=255}function va(w,A,I,F,G){var re;for(re=0;re<G;++re)I[F+re]=w[A+re]>>8}function ss(){Cd=ir,vx=Qn,yx=xr,wx=va}function ya(w,A,I){z[w]=function(F,G,re,le,ue,me,ye,Se,Te,we,Ae,Ee,Le,Ne,Ie,je,qe){var ze,gt=qe-1>>1,st=ue[me+0]|ye[Se+0]<<16,Ft=Te[we+0]|Ae[Ee+0]<<16;t(F!=null);var dt=3*st+Ft+131074>>2;for(A(F[G+0],255&dt,dt>>16,Le,Ne),re!=null&&(dt=3*Ft+st+131074>>2,A(re[le+0],255&dt,dt>>16,Ie,je)),ze=1;ze<=gt;++ze){var Gt=ue[me+ze]|ye[Se+ze]<<16,ar=Te[we+ze]|Ae[Ee+ze]<<16,Bt=st+Gt+Ft+ar+524296,ht=Bt+2*(Gt+Ft)>>3;dt=ht+st>>1,st=(Bt=Bt+2*(st+ar)>>3)+Gt>>1,A(F[G+2*ze-1],255&dt,dt>>16,Le,Ne+(2*ze-1)*I),A(F[G+2*ze-0],255&st,st>>16,Le,Ne+(2*ze-0)*I),re!=null&&(dt=Bt+Ft>>1,st=ht+ar>>1,A(re[le+2*ze-1],255&dt,dt>>16,Ie,je+(2*ze-1)*I),A(re[le+2*ze+0],255&st,st>>16,Ie,je+(2*ze+0)*I)),st=Gt,Ft=ar}1&qe||(dt=3*st+Ft+131074>>2,A(F[G+qe-1],255&dt,dt>>16,Le,Ne+(qe-1)*I),re!=null&&(dt=3*Ft+st+131074>>2,A(re[le+qe-1],255&dt,dt>>16,Ie,je+(qe-1)*I)))}}function md(){qi[up]=kL,qi[dp]=Px,qi[kx]=CL,qi[hp]=Rx,qi[fp]=Lx,qi[av]=Ix,qi[Cx]=EL,qi[ov]=Px,qi[lv]=Rx,qi[pp]=Lx,qi[cv]=Ix}function _c(w){return w&~NL?0>w?0:255:w>>Mx}function Ga(w,A){return _c((19077*w>>8)+(26149*A>>8)-14234)}function pl(w,A,I){return _c((19077*w>>8)-(6419*A>>8)-(13320*I>>8)+8708)}function ml(w,A){return _c((19077*w>>8)+(33050*A>>8)-17685)}function Ya(w,A,I,F,G){F[G+0]=Ga(w,I),F[G+1]=pl(w,A,I),F[G+2]=ml(w,A)}function _r(w,A,I,F,G){F[G+0]=ml(w,A),F[G+1]=pl(w,A,I),F[G+2]=Ga(w,I)}function gl(w,A,I,F,G){var re=pl(w,A,I);A=re<<3&224|ml(w,A)>>3,F[G+0]=248&Ga(w,I)|re>>5,F[G+1]=A}function vl(w,A,I,F,G){var re=240&ml(w,A)|15;F[G+0]=240&Ga(w,I)|pl(w,A,I)>>4,F[G+1]=re}function gd(w,A,I,F,G){F[G+0]=255,Ya(w,A,I,F,G+1)}function vd(w,A,I,F,G){_r(w,A,I,F,G),F[G+3]=255}function zr(w,A,I,F,G){Ya(w,A,I,F,G),F[G+3]=255}function wa(w,A,I){z[w]=function(F,G,re,le,ue,me,ye,Se,Te){for(var we=Se+(-2&Te)*I;Se!=we;)A(F[G+0],re[le+0],ue[me+0],ye,Se),A(F[G+1],re[le+0],ue[me+0],ye,Se+I),G+=2,++le,++me,Se+=2*I;1&Te&&A(F[G+0],re[le+0],ue[me+0],ye,Se)}}function Sc(w,A,I){return I==0?w==0?A==0?6:5:A==0?4:0:I}function ap(w,A,I,F,G){switch(w>>>30){case 3:xl(A,I,F,G,0);break;case 2:$i(A,I,F,G);break;case 1:on(A,I,F,G)}}function Ui(w,A){var I,F,G=A.M,re=A.Nb,le=w.oc,ue=w.pc+40,me=w.oc,ye=w.pc+584,Se=w.oc,Te=w.pc+600;for(I=0;16>I;++I)le[ue+32*I-1]=129;for(I=0;8>I;++I)me[ye+32*I-1]=129,Se[Te+32*I-1]=129;for(0<G?le[ue-1-32]=me[ye-1-32]=Se[Te-1-32]=129:(i(le,ue-32-1,127,21),i(me,ye-32-1,127,9),i(Se,Te-32-1,127,9)),F=0;F<w.za;++F){var we=A.ya[A.aa+F];if(0<F){for(I=-1;16>I;++I)r(le,ue+32*I-4,le,ue+32*I+12,4);for(I=-1;8>I;++I)r(me,ye+32*I-4,me,ye+32*I+4,4),r(Se,Te+32*I-4,Se,Te+32*I+4,4)}var Ae=w.Gd,Ee=w.Hd+F,Le=we.ad,Ne=we.Hc;if(0<G&&(r(le,ue-32,Ae[Ee].y,0,16),r(me,ye-32,Ae[Ee].f,0,8),r(Se,Te-32,Ae[Ee].ea,0,8)),we.Za){var Ie=le,je=ue-32+16;for(0<G&&(F>=w.za-1?i(Ie,je,Ae[Ee].y[15],4):r(Ie,je,Ae[Ee+1].y,0,4)),I=0;4>I;I++)Ie[je+128+I]=Ie[je+256+I]=Ie[je+384+I]=Ie[je+0+I];for(I=0;16>I;++I,Ne<<=2)Ie=le,je=ue+jx[I],as[we.Ob[I]](Ie,je),ap(Ne,Le,16*+I,Ie,je)}else if(Ie=Sc(F,G,we.Ob[0]),no[Ie](le,ue),Ne!=0)for(I=0;16>I;++I,Ne<<=2)ap(Ne,Le,16*+I,le,ue+jx[I]);for(I=we.Gc,Ie=Sc(F,G,we.Dd),_a[Ie](me,ye),_a[Ie](Se,Te),Ne=Le,Ie=me,je=ye,255&(we=0|I)&&(170&we?Us(Ne,256,Ie,je):mn(Ne,256,Ie,je)),we=Se,Ne=Te,255&(I>>=8)&&(170&I?Us(Le,320,we,Ne):mn(Le,320,we,Ne)),G<w.Ub-1&&(r(Ae[Ee].y,0,le,ue+480,16),r(Ae[Ee].f,0,me,ye+224,8),r(Ae[Ee].ea,0,Se,Te+224,8)),I=8*re*w.B,Ae=w.sa,Ee=w.ta+16*F+16*re*w.R,Le=w.qa,we=w.ra+8*F+I,Ne=w.Ha,Ie=w.Ia+8*F+I,I=0;16>I;++I)r(Ae,Ee+I*w.R,le,ue+32*I,16);for(I=0;8>I;++I)r(Le,we+I*w.B,me,ye+32*I,8),r(Ne,Ie+I*w.B,Se,Te+32*I,8)}}function yl(w,A,I,F,G,re,le,ue,me){var ye=[0],Se=[0],Te=0,we=me!=null?me.kd:0,Ae=me??new $e;if(w==null||12>I)return 7;Ae.data=w,Ae.w=A,Ae.ha=I,A=[A],I=[I],Ae.gb=[Ae.gb];e:{var Ee=A,Le=I,Ne=Ae.gb;if(t(w!=null),t(Le!=null),t(Ne!=null),Ne[0]=0,12<=Le[0]&&!n(w,Ee[0],"RIFF")){if(n(w,Ee[0]+8,"WEBP")){Ne=3;break e}var Ie=U(w,Ee[0]+4);if(12>Ie||4294967286<Ie){Ne=3;break e}if(we&&Ie>Le[0]-8){Ne=7;break e}Ne[0]=Ie,Ee[0]+=12,Le[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ie=0<Ae.gb[0],I=I[0];;){e:{var je=w;Le=A,Ne=I;var qe=ye,ze=Se,gt=Ee=[0];if((dt=Te=[Te])[0]=0,8>Ne[0])Ne=7;else{if(!n(je,Le[0],"VP8X")){if(U(je,Le[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var st=U(je,Le[0]+8),Ft=1+O(je,Le[0]+12);if(2147483648<=Ft*(je=1+O(je,Le[0]+15))){Ne=3;break e}gt!=null&&(gt[0]=st),qe!=null&&(qe[0]=Ft),ze!=null&&(ze[0]=je),Le[0]+=18,Ne[0]-=18,dt[0]=1}Ne=0}}if(Te=Te[0],Ee=Ee[0],Ne!=0)return Ne;if(Le=!!(2&Ee),!Ie&&Te)return 3;if(re!=null&&(re[0]=!!(16&Ee)),le!=null&&(le[0]=Le),ue!=null&&(ue[0]=0),le=ye[0],Ee=Se[0],Te&&Le&&me==null){Ne=0;break}if(4>I){Ne=7;break}if(Ie&&Te||!Ie&&!Te&&!n(w,A[0],"ALPH")){I=[I],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{st=w,Ne=A,Ie=I;var dt=Ae.gb;qe=Ae.na,ze=Ae.P,gt=Ae.Sa,Ft=22,t(st!=null),t(Ie!=null),je=Ne[0];var Gt=Ie[0];for(t(qe!=null),t(gt!=null),qe[0]=null,ze[0]=null,gt[0]=0;;){if(Ne[0]=je,Ie[0]=Gt,8>Gt){Ne=7;break e}var ar=U(st,je+4);if(4294967286<ar){Ne=3;break e}var Bt=8+ar+1&-2;if(Ft+=Bt,0<dt&&Ft>dt){Ne=3;break e}if(!n(st,je,"VP8 ")||!n(st,je,"VP8L")){Ne=0;break e}if(Gt[0]<Bt){Ne=7;break e}n(st,je,"ALPH")||(qe[0]=st,ze[0]=je+8,gt[0]=ar),je+=Bt,Gt-=Bt}}if(I=I[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],Ne!=0)break}I=[I],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(dt=w,Ne=A,Ie=I,qe=Ae.gb[0],ze=Ae.Ja,gt=Ae.xa,st=Ne[0],je=!n(dt,st,"VP8 "),Ft=!n(dt,st,"VP8L"),t(dt!=null),t(Ie!=null),t(ze!=null),t(gt!=null),8>Ie[0])Ne=7;else{if(je||Ft){if(dt=U(dt,st+4),12<=qe&&dt>qe-12){Ne=3;break e}if(we&&dt>Ie[0]-8){Ne=7;break e}ze[0]=dt,Ne[0]+=8,Ie[0]-=8,gt[0]=Ft}else gt[0]=5<=Ie[0]&&dt[st+0]==47&&!(dt[st+4]>>5),ze[0]=Ie[0];Ne=0}if(I=I[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],A=A[0],Ne!=0)break;if(4294967286<Ae.Ja)return 3;if(ue==null||Le||(ue[0]=Ae.xa?2:1),le=[le],Ee=[Ee],Ae.xa){if(5>I){Ne=7;break}ue=le,we=Ee,Le=re,w==null||5>I?w=0:5<=I&&w[A+0]==47&&!(w[A+4]>>5)?(Ie=[0],dt=[0],qe=[0],se(ze=new X,w,A,I),zt(ze,Ie,dt,qe)?(ue!=null&&(ue[0]=Ie[0]),we!=null&&(we[0]=dt[0]),Le!=null&&(Le[0]=qe[0]),w=1):w=0):w=0}else{if(10>I){Ne=7;break}ue=Ee,w==null||10>I||!Kf(w,A+3,I-3)?w=0:(we=w[A+0]|w[A+1]<<8|w[A+2]<<16,Le=16383&(w[A+7]<<8|w[A+6]),w=16383&(w[A+9]<<8|w[A+8]),1&we||3<(we>>1&7)||!(we>>4&1)||we>>5>=Ae.Ja||!Le||!w?w=0:(le&&(le[0]=Le),ue&&(ue[0]=w),w=1))}if(!w||(le=le[0],Ee=Ee[0],Te&&(ye[0]!=le||Se[0]!=Ee)))return 3;me!=null&&(me[0]=Ae,me.offset=A-me.w,t(4294967286>A-me.w),t(me.offset==me.ha-I));break}return Ne==0||Ne==7&&Te&&me==null?(re!=null&&(re[0]|=Ae.na!=null&&0<Ae.na.length),F!=null&&(F[0]=le),G!=null&&(G[0]=Ee),0):Ne}function yd(w,A,I){var F=A.width,G=A.height,re=0,le=0,ue=F,me=G;if(A.Da=w!=null&&0<w.Da,A.Da&&(ue=w.cd,me=w.bd,re=w.v,le=w.j,11>I||(re&=-2,le&=-2),0>re||0>le||0>=ue||0>=me||re+ue>F||le+me>G))return 0;if(A.v=re,A.j=le,A.va=re+ue,A.o=le+me,A.U=ue,A.T=me,A.da=w!=null&&0<w.da,A.da){if(!de(ue,me,I=[w.ib],re=[w.hb]))return 0;A.ib=I[0],A.hb=re[0]}return A.ob=w!=null&&w.ob,A.Kb=w==null||!w.Sd,A.da&&(A.ob=A.ib<3*F/4&&A.hb<3*G/4,A.Kb=0),1}function wd(w){if(w==null)return 2;if(11>w.S){var A=w.f.RGBA;A.fb+=(w.height-1)*A.A,A.A=-A.A}else A=w.f.kb,w=w.height,A.O+=(w-1)*A.fa,A.fa=-A.fa,A.N+=(w-1>>1)*A.Ab,A.Ab=-A.Ab,A.W+=(w-1>>1)*A.Db,A.Db=-A.Db,A.F!=null&&(A.J+=(w-1)*A.lb,A.lb=-A.lb);return 0}function Ka(w,A,I,F){if(F==null||0>=w||0>=A)return 2;if(I!=null){if(I.Da){var G=I.cd,re=I.bd,le=-2&I.v,ue=-2&I.j;if(0>le||0>ue||0>=G||0>=re||le+G>w||ue+re>A)return 2;w=G,A=re}if(I.da){if(!de(w,A,G=[I.ib],re=[I.hb]))return 2;w=G[0],A=re[0]}}F.width=w,F.height=A;e:{var me=F.width,ye=F.height;if(w=F.S,0>=me||0>=ye||!(w>=up&&13>w))w=2;else{if(0>=F.Rd&&F.sd==null){le=re=G=A=0;var Se=(ue=me*Dx[w])*ye;if(11>w||(re=(ye+1)/2*(A=(me+1)/2),w==12&&(le=(G=me)*ye)),(ye=s(Se+2*re+le))==null){w=1;break e}F.sd=ye,11>w?((me=F.f.RGBA).eb=ye,me.fb=0,me.A=ue,me.size=Se):((me=F.f.kb).y=ye,me.O=0,me.fa=ue,me.Fd=Se,me.f=ye,me.N=0+Se,me.Ab=A,me.Cd=re,me.ea=ye,me.W=0+Se+re,me.Db=A,me.Ed=re,w==12&&(me.F=ye,me.J=0+Se+2*re),me.Tc=le,me.lb=G)}if(A=1,G=F.S,re=F.width,le=F.height,G>=up&&13>G)if(11>G)w=F.f.RGBA,A&=(ue=Math.abs(w.A))*(le-1)+re<=w.size,A&=ue>=re*Dx[G],A&=w.eb!=null;else{w=F.f.kb,ue=(re+1)/2,Se=(le+1)/2,me=Math.abs(w.fa),ye=Math.abs(w.Ab);var Te=Math.abs(w.Db),we=Math.abs(w.lb),Ae=we*(le-1)+re;A&=me*(le-1)+re<=w.Fd,A&=ye*(Se-1)+ue<=w.Cd,A=(A&=Te*(Se-1)+ue<=w.Ed)&me>=re&ye>=ue&Te>=ue,A&=w.y!=null,A&=w.f!=null,A&=w.ea!=null,G==12&&(A&=we>=re,A&=Ae<=w.Tc,A&=w.F!=null)}else A=0;w=A?0:2}}return w!=0||I!=null&&I.fd&&(w=wd(F)),w}var wl=64,hi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],fi=24,Xa=32,ba=8,Za=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ve("Predictor0","PredictorAdd0"),z.Predictor0=function(){return 4278190080},z.Predictor1=function(w){return w},z.Predictor2=function(w,A,I){return A[I+0]},z.Predictor3=function(w,A,I){return A[I+1]},z.Predictor4=function(w,A,I){return A[I-1]},z.Predictor5=function(w,A,I){return ge(ge(w,A[I+1]),A[I+0])},z.Predictor6=function(w,A,I){return ge(w,A[I-1])},z.Predictor7=function(w,A,I){return ge(w,A[I+0])},z.Predictor8=function(w,A,I){return ge(A[I-1],A[I+0])},z.Predictor9=function(w,A,I){return ge(A[I+0],A[I+1])},z.Predictor10=function(w,A,I){return ge(ge(w,A[I-1]),ge(A[I+0],A[I+1]))},z.Predictor11=function(w,A,I){var F=A[I+0];return 0>=Re(F>>24&255,w>>24&255,(A=A[I-1])>>24&255)+Re(F>>16&255,w>>16&255,A>>16&255)+Re(F>>8&255,w>>8&255,A>>8&255)+Re(255&F,255&w,255&A)?F:w},z.Predictor12=function(w,A,I){var F=A[I+0];return(Pe((w>>24&255)+(F>>24&255)-((A=A[I-1])>>24&255))<<24|Pe((w>>16&255)+(F>>16&255)-(A>>16&255))<<16|Pe((w>>8&255)+(F>>8&255)-(A>>8&255))<<8|Pe((255&w)+(255&F)-(255&A)))>>>0},z.Predictor13=function(w,A,I){var F=A[I-1];return(ke((w=ge(w,A[I+0]))>>24&255,F>>24&255)<<24|ke(w>>16&255,F>>16&255)<<16|ke(w>>8&255,F>>8&255)<<8|ke(255&w,255&F))>>>0};var bd=z.PredictorAdd0;z.PredictorAdd1=Fe,ve("Predictor2","PredictorAdd2"),ve("Predictor3","PredictorAdd3"),ve("Predictor4","PredictorAdd4"),ve("Predictor5","PredictorAdd5"),ve("Predictor6","PredictorAdd6"),ve("Predictor7","PredictorAdd7"),ve("Predictor8","PredictorAdd8"),ve("Predictor9","PredictorAdd9"),ve("Predictor10","PredictorAdd10"),ve("Predictor11","PredictorAdd11"),ve("Predictor12","PredictorAdd12"),ve("Predictor13","PredictorAdd13");var Ac=z.PredictorAdd2;De("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),De("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var qn,op=z.ColorIndexInverseTransform,Fs=z.MapARGB,Bs=z.VP8LColorIndexInverseTransformAlpha,xd=z.MapAlpha,_d=z.VP8LPredictorsAdd=[];_d.length=16,(z.VP8LPredictors=[]).length=16,(z.VP8LPredictorsAdd_C=[]).length=16,(z.VP8LPredictors_C=[]).length=16;var Sd,Ad,Ja,Qa,eo,bl,to,xl,$i,Us,on,mn,Hn,sr,xa,kd,kc,lp,dx,hx,fx,px,mx,gx,Cd,vx,yx,wx,bx=s(511),xx=s(2041),_x=s(225),Sx=s(767),Ax=0,sv=xx,cp=_x,pi=Sx,zi=bx,up=0,dp=1,kx=2,hp=3,fp=4,av=5,Cx=6,ov=7,lv=8,pp=9,cv=10,dL=[2,3,7],hL=[3,3,11],Ex=[280,256,256,256,40],fL=[0,1,1,1,0],pL=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],mL=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],gL=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],vL=8,uv=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],dv=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ed=null,yL=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wL=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Nx=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],bL=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],xL=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_L=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],SL=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],no=[],as=[],_a=[],AL=1,Tx=2,ro=[],qi=[];ya("UpsampleRgbLinePair",Ya,3),ya("UpsampleBgrLinePair",_r,3),ya("UpsampleRgbaLinePair",zr,4),ya("UpsampleBgraLinePair",vd,4),ya("UpsampleArgbLinePair",gd,4),ya("UpsampleRgba4444LinePair",vl,2),ya("UpsampleRgb565LinePair",gl,2);var kL=z.UpsampleRgbLinePair,CL=z.UpsampleBgrLinePair,Px=z.UpsampleRgbaLinePair,Rx=z.UpsampleBgraLinePair,Lx=z.UpsampleArgbLinePair,Ix=z.UpsampleRgba4444LinePair,EL=z.UpsampleRgb565LinePair,mp=16,gp=1<<mp-1,Nd=-227,hv=482,Mx=6,NL=(256<<Mx)-1,Ox=0,TL=s(256),PL=s(256),RL=s(256),LL=s(256),IL=s(hv-Nd),ML=s(hv-Nd);wa("YuvToRgbRow",Ya,3),wa("YuvToBgrRow",_r,3),wa("YuvToRgbaRow",zr,4),wa("YuvToBgraRow",vd,4),wa("YuvToArgbRow",gd,4),wa("YuvToRgba4444Row",vl,2),wa("YuvToRgb565Row",gl,2);var jx=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],vp=[0,2,8],OL=[8,7,6,4,4,2,2,2,1,1,1,1],jL=1;this.WebPDecodeRGBA=function(w,A,I,F,G){var re=dp,le=new Oe,ue=new vt;le.ba=ue,ue.S=re,ue.width=[ue.width],ue.height=[ue.height];var me=ue.width,ye=ue.height,Se=new rt;if(Se==null||w==null)var Te=2;else t(Se!=null),Te=yl(w,A,I,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Te!=0?me=0:(me!=null&&(me[0]=Se.width[0]),ye!=null&&(ye[0]=Se.height[0]),me=1),me){ue.width=ue.width[0],ue.height=ue.height[0],F!=null&&(F[0]=ue.width),G!=null&&(G[0]=ue.height);e:{if(F=new vc,(G=new $e).data=w,G.w=A,G.ha=I,G.kd=1,A=[0],t(G!=null),((w=yl(G.data,G.w,G.ha,null,null,null,A,null,G))==0||w==7)&&A[0]&&(w=4),(A=w)==0){if(t(le!=null),F.data=G.data,F.w=G.w+G.offset,F.ha=G.ha-G.offset,F.put=et,F.ac=pn,F.bc=Sn,F.ma=le,G.xa){if((w=ol())==null){le=1;break e}if(function(we,Ae){var Ee=[0],Le=[0],Ne=[0];t:for(;;){if(we==null)return 0;if(Ae==null)return we.a=2,0;if(we.l=Ae,we.a=0,se(we.m,Ae.data,Ae.w,Ae.ha),!zt(we.m,Ee,Le,Ne)){we.a=3;break t}if(we.xb=Tx,Ae.width=Ee[0],Ae.height=Le[0],!Ms(Ee[0],Le[0],1,we,null))break t;return 1}return t(we.a!=0),0}(w,F)){if(F=(A=Ka(F.width,F.height,le.Oa,le.ba))==0){t:{F=w;n:for(;;){if(F==null){F=0;break t}if(t(F.s.yc!=null),t(F.s.Ya!=null),t(0<F.s.Wb),t((I=F.l)!=null),t((G=I.ma)!=null),F.xb!=0){if(F.ca=G.ba,F.tb=G.tb,t(F.ca!=null),!yd(G.Oa,I,hp)){F.a=2;break n}if(!ll(F,I.width)||I.da)break n;if((I.da||Ze(F.ca.S))&&ss(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&ss()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!M(F.s.vb,F.s.Wa.Xa)){F.a=1;break n}F.xb=0}if(!rs(F,F.V,F.Ba,F.c,F.i,I.o,Va))break n;G.Dc=F.Ma,F=1;break t}t(F.a!=0),F=0}F=!F}F&&(A=w.a)}else A=w.a}else{if((w=new H0)==null){le=1;break e}if(w.Fa=G.na,w.P=G.P,w.qc=G.Sa,js(w,F)){if((A=Ka(F.width,F.height,le.Oa,le.ba))==0){if(w.Aa=0,I=le.Oa,t((G=w)!=null),I!=null){if(0<(me=0>(me=I.Md)?0:100<me?255:255*me/100)){for(ye=Se=0;4>ye;++ye)12>(Te=G.pb[ye]).lc&&(Te.ia=me*OL[0>Te.lc?0:Te.lc]>>3),Se|=Te.ia;Se&&(alert("todo:VP8InitRandom"),G.ia=1)}G.Ga=I.Id,100<G.Ga?G.Ga=100:0>G.Ga&&(G.Ga=0)}(function(we,Ae){if(we==null)return 0;if(Ae==null)return Zn(we,2,"NULL VP8Io parameter in VP8Decode().");if(!we.cb&&!js(we,Ae))return 0;if(t(we.cb),Ae.ac==null||Ae.ac(Ae)){Ae.ob&&(we.L=0);var Ee=vp[we.L];if(we.L==2?(we.yb=0,we.zb=0):(we.yb=Ae.v-Ee>>4,we.zb=Ae.j-Ee>>4,0>we.yb&&(we.yb=0),0>we.zb&&(we.zb=0)),we.Va=Ae.o+15+Ee>>4,we.Hb=Ae.va+15+Ee>>4,we.Hb>we.za&&(we.Hb=we.za),we.Va>we.Ub&&(we.Va=we.Ub),0<we.L){var Le=we.ed;for(Ee=0;4>Ee;++Ee){var Ne;if(we.Qa.Cb){var Ie=we.Qa.Lb[Ee];we.Qa.Fb||(Ie+=Le.Tb)}else Ie=Le.Tb;for(Ne=0;1>=Ne;++Ne){var je=we.gd[Ee][Ne],qe=Ie;if(Le.Pc&&(qe+=Le.vd[0],Ne&&(qe+=Le.od[0])),0<(qe=0>qe?0:63<qe?63:qe)){var ze=qe;0<Le.wb&&(ze=4<Le.wb?ze>>2:ze>>1)>9-Le.wb&&(ze=9-Le.wb),1>ze&&(ze=1),je.dd=ze,je.tc=2*qe+ze,je.ld=40<=qe?2:15<=qe?1:0}else je.tc=0;je.La=Ne}}}Ee=0}else Zn(we,6,"Frame setup failed"),Ee=we.a;if(Ee=Ee==0){if(Ee){we.$c=0,0<we.Aa||(we.Ic=jL);t:{Ee=we.Ic,Le=4*(ze=we.za);var gt=32*ze,st=ze+1,Ft=0<we.L?ze*(0<we.Aa?2:1):0,dt=(we.Aa==2?2:1)*ze;if((je=Le+832+(Ne=3*(16*Ee+vp[we.L])/2*gt)+(Ie=we.Fa!=null&&0<we.Fa.length?we.Kc.c*we.Kc.i:0))!=je)Ee=0;else{if(je>we.Vb){if(we.Vb=0,we.Ec=s(je),we.Fc=0,we.Ec==null){Ee=Zn(we,1,"no memory during frame initialization.");break t}we.Vb=je}je=we.Ec,qe=we.Fc,we.Ac=je,we.Bc=qe,qe+=Le,we.Gd=a(gt,Gf),we.Hd=0,we.rb=a(st+1,sd),we.sb=1,we.wa=Ft?a(Ft,Fi):null,we.Y=0,we.D.Nb=0,we.D.wa=we.wa,we.D.Y=we.Y,0<we.Aa&&(we.D.Y+=ze),t(!0),we.oc=je,we.pc=qe,qe+=832,we.ya=a(dt,ad),we.aa=0,we.D.ya=we.ya,we.D.aa=we.aa,we.Aa==2&&(we.D.aa+=ze),we.R=16*ze,we.B=8*ze,ze=(gt=vp[we.L])*we.R,gt=gt/2*we.B,we.sa=je,we.ta=qe+ze,we.qa=we.sa,we.ra=we.ta+16*Ee*we.R+gt,we.Ha=we.qa,we.Ia=we.ra+8*Ee*we.B+gt,we.$c=0,qe+=Ne,we.mb=Ie?je:null,we.nb=Ie?qe:null,t(qe+Ie<=we.Fc+we.Vb),Xf(we),i(we.Ac,we.Bc,0,Le),Ee=1}}if(Ee){if(Ae.ka=0,Ae.y=we.sa,Ae.O=we.ta,Ae.f=we.qa,Ae.N=we.ra,Ae.ea=we.Ha,Ae.Vd=we.Ia,Ae.fa=we.R,Ae.Rc=we.B,Ae.F=null,Ae.J=0,!Ax){for(Ee=-255;255>=Ee;++Ee)bx[255+Ee]=0>Ee?-Ee:Ee;for(Ee=-1020;1020>=Ee;++Ee)xx[1020+Ee]=-128>Ee?-128:127<Ee?127:Ee;for(Ee=-112;112>=Ee;++Ee)_x[112+Ee]=-16>Ee?-16:15<Ee?15:Ee;for(Ee=-255;510>=Ee;++Ee)Sx[255+Ee]=0>Ee?0:255<Ee?255:Ee;Ax=1}to=wc,xl=V0,Us=Ds,on=Jf,mn=Qf,$i=W0,Hn=ip,sr=fl,xa=V,kd=be,kc=sp,lp=N,dx=_e,hx=Ce,fx=hl,px=pd,mx=np,gx=rp,as[0]=ev,as[1]=G0,as[2]=J0,as[3]=Q0,as[4]=da,as[5]=tv,as[6]=ha,as[7]=nv,as[8]=cd,as[9]=bc,no[0]=X0,no[1]=K0,no[2]=od,no[3]=ep,no[4]=ul,no[5]=ld,no[6]=Z0,_a[0]=iv,_a[1]=Y0,_a[2]=dl,_a[3]=rv,_a[4]=dd,_a[5]=ud,_a[6]=tp,Ee=1}else Ee=0}Ee&&(Ee=function(Gt,ar){for(Gt.M=0;Gt.M<Gt.Va;++Gt.M){var Bt,ht=Gt.Jc[Gt.M&Gt.Xb],Ye=Gt.m,Wn=Gt;for(Bt=0;Bt<Wn.za;++Bt){var jt=Ye,Kt=Wn,kn=Kt.Ac,Sr=Kt.Bc+4*Bt,qr=Kt.zc,Dn=Kt.ya[Kt.aa+Bt];if(Kt.Qa.Bb?Dn.$b=_(jt,Kt.Pa.jb[0])?2+_(jt,Kt.Pa.jb[2]):_(jt,Kt.Pa.jb[1]):Dn.$b=0,Kt.kc&&(Dn.Ad=_(jt,Kt.Bd)),Dn.Za=!_(jt,145)+0,Dn.Za){var Lr=Dn.Ob,Hr=0;for(Kt=0;4>Kt;++Kt){var or,Jt=qr[0+Kt];for(or=0;4>or;++or){Jt=xL[kn[Sr+or]][Jt];for(var cn=Nx[_(jt,Jt[0])];0<cn;)cn=Nx[2*cn+_(jt,Jt[cn])];Jt=-cn,kn[Sr+or]=Jt}r(Lr,Hr,kn,Sr,4),Hr+=4,qr[0+Kt]=Jt}}else Jt=_(jt,156)?_(jt,128)?1:3:_(jt,163)?2:0,Dn.Ob[0]=Jt,i(kn,Sr,Jt,4),i(qr,0,Jt,4);Dn.Dd=_(jt,142)?_(jt,114)?_(jt,183)?1:3:2:0}if(Wn.m.Ka)return Zn(Gt,7,"Premature end-of-partition0 encountered.");for(;Gt.ja<Gt.za;++Gt.ja){if(Wn=ht,jt=(Ye=Gt).rb[Ye.sb-1],kn=Ye.rb[Ye.sb+Ye.ja],Bt=Ye.ya[Ye.aa+Ye.ja],Sr=Ye.kc?Bt.Ad:0)jt.la=kn.la=0,Bt.Za||(jt.Na=kn.Na=0),Bt.Hc=0,Bt.Gc=0,Bt.ia=0;else{var Fn,un;if(jt=kn,kn=Wn,Sr=Ye.Pa.Xc,qr=Ye.ya[Ye.aa+Ye.ja],Dn=Ye.pb[qr.$b],Kt=qr.ad,Lr=0,Hr=Ye.rb[Ye.sb-1],Jt=or=0,i(Kt,Lr,0,384),qr.Za)var Ar=0,os=Sr[3];else{cn=s(16);var Vn=jt.Na+Hr.Na;if(Vn=Ed(kn,Sr[1],Vn,Dn.Eb,0,cn,0),jt.Na=Hr.Na=(0<Vn)+0,1<Vn)to(cn,0,Kt,Lr);else{var ei=cn[0]+3>>3;for(cn=0;256>cn;cn+=16)Kt[Lr+cn]=ei}Ar=1,os=Sr[0]}var gn=15&jt.la,lr=15&Hr.la;for(cn=0;4>cn;++cn){var mi=1&lr;for(ei=un=0;4>ei;++ei)gn=gn>>1|(mi=(Vn=Ed(kn,os,Vn=mi+(1&gn),Dn.Sc,Ar,Kt,Lr))>Ar)<<7,un=un<<2|(3<Vn?3:1<Vn?2:Kt[Lr+0]!=0),Lr+=16;gn>>=4,lr=lr>>1|mi<<7,or=(or<<8|un)>>>0}for(os=gn,Ar=lr>>4,Fn=0;4>Fn;Fn+=2){for(un=0,gn=jt.la>>4+Fn,lr=Hr.la>>4+Fn,cn=0;2>cn;++cn){for(mi=1&lr,ei=0;2>ei;++ei)Vn=mi+(1&gn),gn=gn>>1|(mi=0<(Vn=Ed(kn,Sr[2],Vn,Dn.Qc,0,Kt,Lr)))<<3,un=un<<2|(3<Vn?3:1<Vn?2:Kt[Lr+0]!=0),Lr+=16;gn>>=2,lr=lr>>1|mi<<5}Jt|=un<<4*Fn,os|=gn<<4<<Fn,Ar|=(240&lr)<<Fn}jt.la=os,Hr.la=Ar,qr.Hc=or,qr.Gc=Jt,qr.ia=43690&Jt?0:Dn.ia,Sr=!(or|Jt)}if(0<Ye.L&&(Ye.wa[Ye.Y+Ye.ja]=Ye.gd[Bt.$b][Bt.Za],Ye.wa[Ye.Y+Ye.ja].La|=!Sr),Wn.Ka)return Zn(Gt,7,"Premature end-of-file encountered.")}if(Xf(Gt),Ye=ar,Wn=1,Bt=(ht=Gt).D,jt=0<ht.L&&ht.M>=ht.zb&&ht.M<=ht.Va,ht.Aa==0)t:{if(Bt.M=ht.M,Bt.uc=jt,Ui(ht,Bt),Wn=1,Bt=(un=ht.D).Nb,jt=(Jt=vp[ht.L])*ht.R,kn=Jt/2*ht.B,cn=16*Bt*ht.R,ei=8*Bt*ht.B,Sr=ht.sa,qr=ht.ta-jt+cn,Dn=ht.qa,Kt=ht.ra-kn+ei,Lr=ht.Ha,Hr=ht.Ia-kn+ei,lr=(gn=un.M)==0,or=gn>=ht.Va-1,ht.Aa==2&&Ui(ht,un),un.uc)for(mi=(Vn=ht).D.M,t(Vn.D.uc),un=Vn.yb;un<Vn.Hb;++un){Ar=un,os=mi;var Wr=(gi=(kr=Vn).D).Nb;Fn=kr.R;var gi=gi.wa[gi.Y+Ar],vi=kr.sa,ti=kr.ta+16*Wr*Fn+16*Ar,yi=gi.dd,wn=gi.tc;if(wn!=0)if(t(3<=wn),kr.L==1)0<Ar&&px(vi,ti,Fn,wn+4),gi.La&&gx(vi,ti,Fn,wn),0<os&&fx(vi,ti,Fn,wn+4),gi.La&&mx(vi,ti,Fn,wn);else{var wi=kr.B,ls=kr.qa,_l=kr.ra+8*Wr*wi+8*Ar,Sa=kr.Ha,kr=kr.Ia+8*Wr*wi+8*Ar;Wr=gi.ld,0<Ar&&(sr(vi,ti,Fn,wn+4,yi,Wr),kd(ls,_l,Sa,kr,wi,wn+4,yi,Wr)),gi.La&&(lp(vi,ti,Fn,wn,yi,Wr),hx(ls,_l,Sa,kr,wi,wn,yi,Wr)),0<os&&(Hn(vi,ti,Fn,wn+4,yi,Wr),xa(ls,_l,Sa,kr,wi,wn+4,yi,Wr)),gi.La&&(kc(vi,ti,Fn,wn,yi,Wr),dx(ls,_l,Sa,kr,wi,wn,yi,Wr))}}if(ht.ia&&alert("todo:DitherRow"),Ye.put!=null){if(un=16*gn,gn=16*(gn+1),lr?(Ye.y=ht.sa,Ye.O=ht.ta+cn,Ye.f=ht.qa,Ye.N=ht.ra+ei,Ye.ea=ht.Ha,Ye.W=ht.Ia+ei):(un-=Jt,Ye.y=Sr,Ye.O=qr,Ye.f=Dn,Ye.N=Kt,Ye.ea=Lr,Ye.W=Hr),or||(gn-=Jt),gn>Ye.o&&(gn=Ye.o),Ye.F=null,Ye.J=null,ht.Fa!=null&&0<ht.Fa.length&&un<gn&&(Ye.J=yn(ht,Ye,un,gn-un),Ye.F=ht.mb,Ye.F==null&&Ye.F.length==0)){Wn=Zn(ht,3,"Could not decode alpha data.");break t}un<Ye.j&&(Jt=Ye.j-un,un=Ye.j,t(!(1&Jt)),Ye.O+=ht.R*Jt,Ye.N+=ht.B*(Jt>>1),Ye.W+=ht.B*(Jt>>1),Ye.F!=null&&(Ye.J+=Ye.width*Jt)),un<gn&&(Ye.O+=Ye.v,Ye.N+=Ye.v>>1,Ye.W+=Ye.v>>1,Ye.F!=null&&(Ye.J+=Ye.v),Ye.ka=un-Ye.j,Ye.U=Ye.va-Ye.v,Ye.T=gn-un,Wn=Ye.put(Ye))}Bt+1!=ht.Ic||or||(r(ht.sa,ht.ta-jt,Sr,qr+16*ht.R,jt),r(ht.qa,ht.ra-kn,Dn,Kt+8*ht.B,kn),r(ht.Ha,ht.Ia-kn,Lr,Hr+8*ht.B,kn))}if(!Wn)return Zn(Gt,6,"Output aborted.")}return 1}(we,Ae)),Ae.bc!=null&&Ae.bc(Ae),Ee&=1}return Ee?(we.cb=0,Ee):0})(w,F)||(A=w.a)}}else A=w.a}A==0&&le.Oa!=null&&le.Oa.fd&&(A=wd(le.ba))}le=A}re=le!=0?null:11>re?ue.f.RGBA.eb:ue.f.kb.y}else re=null;return re};var Dx=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(z,ee){for(var $="",H=0;H<4;H++)$+=String.fromCharCode(z[ee++]);return $}function u(z,ee){return z[ee+0]|z[ee+1]<<8}function f(z,ee){return(z[ee+0]|z[ee+1]<<8|z[ee+2]<<16)>>>0}function g(z,ee){return(z[ee+0]|z[ee+1]<<8|z[ee+2]<<16|z[ee+3]<<24)>>>0}new l;var d=[0],m=[0],v=[],h=new l,p=e,y=function(z,ee){var $={},H=0,ae=!1,Y=0,Q=0;if($.frames=[],!function(B,X){for(var ne=0;ne<4;ne++)if(B[X+ne]!="RIFF".charCodeAt(ne))return!0;return!1}(z,ee)){for(g(z,ee+=4),ee+=8;ee<z.length;){var ie=c(z,ee),fe=g(z,ee+=4);ee+=4;var W=fe+(1&fe);switch(ie){case"VP8 ":case"VP8L":$.frames[H]===void 0&&($.frames[H]={}),(K=$.frames[H]).src_off=ae?Q:ee-8,K.src_size=Y+fe+8,H++,ae&&(ae=!1,Y=0,Q=0);break;case"VP8X":(K=$.header={}).feature_flags=z[ee];var se=ee+4;K.canvas_width=1+f(z,se),se+=3,K.canvas_height=1+f(z,se),se+=3;break;case"ALPH":ae=!0,Y=W+8,Q=ee-8;break;case"ANIM":(K=$.header).bgcolor=g(z,ee),se=ee+4,K.loop_count=u(z,se),se+=2;break;case"ANMF":var oe,K;(K=$.frames[H]={}).offset_x=2*f(z,ee),ee+=3,K.offset_y=2*f(z,ee),ee+=3,K.width=1+f(z,ee),ee+=3,K.height=1+f(z,ee),ee+=3,K.duration=f(z,ee),ee+=3,oe=z[ee++],K.dispose=1&oe,K.blend=oe>>1&1}ie!="ANMF"&&(ee+=W)}return $}}(p,0);y.response=p,y.rgbaoutput=!0,y.dataurl=!1;var b=y.header?y.header:null,k=y.frames?y.frames:null;if(b){b.loop_counter=b.loop_count,d=[b.canvas_height],m=[b.canvas_width];for(var L=0;L<k.length&&k[L].blend!=0;L++);}var j=k[0],D=h.WebPDecodeRGBA(p,j.src_off,j.src_size,m,d);j.rgba=D,j.imgwidth=m[0],j.imgheight=d[0];for(var q=0;q<m[0]*d[0]*4;q++)v[q]=D[q];return this.width=m,this.height=d,this.data=v,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function kX(){var e,t=this.internal.__metadata__.metadata,n=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?n:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function CX(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,n,r,i,s,a,o,l,c,u=function(B){return B=B||{},this.isStrokeTransparent=B.isStrokeTransparent||!1,this.strokeOpacity=B.strokeOpacity||1,this.strokeStyle=B.strokeStyle||"#000000",this.fillStyle=B.fillStyle||"#000000",this.isFillTransparent=B.isFillTransparent||!1,this.fillOpacity=B.fillOpacity||1,this.font=B.font||"10px sans-serif",this.textBaseline=B.textBaseline||"alphabetic",this.textAlign=B.textAlign||"left",this.lineWidth=B.lineWidth||1,this.lineJoin=B.lineJoin||"miter",this.lineCap=B.lineCap||"butt",this.path=B.path||[],this.transform=B.transform!==void 0?B.transform.clone():new l,this.globalCompositeOperation=B.globalCompositeOperation||"normal",this.globalAlpha=B.globalAlpha||1,this.clip_path=B.clip_path||[],this.currentPoint=B.currentPoint||new a,this.miterLimit=B.miterLimit||10,this.lastPoint=B.lastPoint||new a,this.lineDashOffset=B.lineDashOffset||0,this.lineDash=B.lineDash||[],this.margin=B.margin||[0,0,0,0],this.prevPageLastElemOffset=B.prevPageLastElemOffset||0,this.ignoreClearRect=typeof B.ignoreClearRect!="boolean"||B.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var f=function(B){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=B;Object.defineProperty(this,"pdf",{get:function(){return X}});var ne=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ne},set:function(M){ne=!!M}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(M){Z=!!M}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(M){isNaN(M)||(te=M)}});var E=0;Object.defineProperty(this,"posY",{get:function(){return E},set:function(M){isNaN(M)||(E=M)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(M){var J;typeof M=="number"?J=[M,M,M,M]:((J=new Array(4))[0]=M[0],J[1]=M.length>=2?M[1]:J[0],J[2]=M.length>=3?M[2]:J[0],J[3]=M.length>=4?M[3]:J[1]),c.margin=J}});var T=!1;Object.defineProperty(this,"autoPaging",{get:function(){return T},set:function(M){T=M}});var S=0;Object.defineProperty(this,"lastBreak",{get:function(){return S},set:function(M){S=M}});var _=[];Object.defineProperty(this,"pageBreaks",{get:function(){return _},set:function(M){_=M}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(M){M instanceof u&&(c=M)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(M){c.path=M}});var C=[];Object.defineProperty(this,"ctxStack",{get:function(){return C},set:function(M){C=M}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(M){var J;J=g(M),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(M){var J=g(M);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(M){["butt","round","square"].indexOf(M)!==-1&&(this.ctx.lineCap=M,this.pdf.setLineCap(M))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(M){isNaN(M)||(this.ctx.lineWidth=M,this.pdf.setLineWidth(M))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(M){["bevel","round","miter"].indexOf(M)!==-1&&(this.ctx.lineJoin=M,this.pdf.setLineJoin(M))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(M){isNaN(M)||(this.ctx.miterLimit=M,this.pdf.setMiterLimit(M))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(M){this.ctx.textBaseline=M}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(M){["right","end","center","left","start"].indexOf(M)!==-1&&(this.ctx.textAlign=M)}});var P=null,O=null,U=null;Object.defineProperty(this,"fontFaces",{get:function(){return U},set:function(M){P=null,O=null,U=M}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(M){var J;if(this.ctx.font=M,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(M))!==null){var pe=J[1];J[2];var de=J[3],he=J[4];J[5];var xe=J[6],ve=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(he)[2];he=Math.floor(ve==="px"?parseFloat(he)*this.pdf.internal.scaleFactor:ve==="em"?parseFloat(he)*this.pdf.getFontSize():parseFloat(he)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(he);var ce=function(De){var lt,Je,Qe=[],We=De.trim();if(We==="")return Y1;if(We in GA)return[GA[We]];for(;We!=="";){switch(Je=null,lt=(We=KA(We)).charAt(0)){case'"':case"'":Je=wX(We.substring(1),lt);break;default:Je=bX(We)}if(Je===null||(Qe.push(Je[0]),(We=KA(Je[1]))!==""&&We.charAt(0)!==","))return Y1;We=We.replace(/^,/,"")}return Qe}(xe);if(this.fontFaces){var ge=function(De,lt){var Je=De.getFontList(),Qe=JSON.stringify(Je);if(P===null||O!==Qe){var We=function(Et){var Xe=[];return Object.keys(Et).forEach(function(Lt){Et[Lt].forEach(function(Ze){var nt=null;switch(Ze){case"bold":nt={family:Lt,weight:"bold"};break;case"italic":nt={family:Lt,style:"italic"};break;case"bolditalic":nt={family:Lt,weight:"bold",style:"italic"};break;case"":case"normal":nt={family:Lt}}nt!==null&&(nt.ref={name:Lt,style:Ze},Xe.push(nt))})}),Xe}(Je);P=function(Et){for(var Xe={},Lt=0;Lt<Et.length;++Lt){var Ze=G1(Et[Lt]),nt=Ze.family,_t=Ze.stretch,vt=Ze.style,rt=Ze.weight;Xe[nt]=Xe[nt]||{},Xe[nt][_t]=Xe[nt][_t]||{},Xe[nt][_t][vt]=Xe[nt][_t][vt]||{},Xe[nt][_t][vt][rt]=Ze}return Xe}(We.concat(lt)),O=Qe}return P}(this.pdf,this.fontFaces),Pe=ce.map(function(De){return{family:De,stretch:"normal",weight:de,style:pe}}),ke=function(De,lt,Je){for(var Qe=(Je=Je||{}).defaultFontFamily||"times",We=Object.assign({},yX,Je.genericFontFamilies||{}),Et=null,Xe=null,Lt=0;Lt<lt.length;++Lt)if(We[(Et=G1(lt[Lt])).family]&&(Et.family=We[Et.family]),De.hasOwnProperty(Et.family)){Xe=De[Et.family];break}if(!(Xe=Xe||De[Qe]))throw new Error("Could not find a font-family for the rule '"+YA(Et)+"' and default family '"+Qe+"'.");if(Xe=function(Ze,nt){if(nt[Ze])return nt[Ze];var _t=Ww[Ze],vt=_t<=Ww.normal?-1:1,rt=VA(nt,tL,_t,vt);if(!rt)throw new Error("Could not find a matching font-stretch value for "+Ze);return rt}(Et.stretch,Xe),Xe=function(Ze,nt){if(nt[Ze])return nt[Ze];for(var _t=eL[Ze],vt=0;vt<_t.length;++vt)if(nt[_t[vt]])return nt[_t[vt]];throw new Error("Could not find a matching font-style for "+Ze)}(Et.style,Xe),!(Xe=function(Ze,nt){if(nt[Ze])return nt[Ze];if(Ze===400&&nt[500])return nt[500];if(Ze===500&&nt[400])return nt[400];var _t=vX[Ze],vt=VA(nt,nL,_t,Ze<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+Ze);return vt}(Et.weight,Xe)))throw new Error("Failed to resolve a font for the rule '"+YA(Et)+"'.");return Xe}(ge,Pe);this.pdf.setFont(ke.ref.name,ke.ref.style)}else{var Re="";(de==="bold"||parseInt(de,10)>=700||pe==="bold")&&(Re="bold"),pe==="italic"&&(Re+="italic"),Re.length===0&&(Re="normal");for(var Fe="",Ue={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Me=0;Me<ce.length;Me++){if(this.pdf.internal.getFont(ce[Me],Re,{noFallback:!0,disableWarning:!0})!==void 0){Fe=ce[Me];break}if(Re==="bolditalic"&&this.pdf.internal.getFont(ce[Me],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fe=ce[Me],Re="bold";else if(this.pdf.internal.getFont(ce[Me],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fe=ce[Me],Re="normal";break}}if(Fe===""){for(var Be=0;Be<ce.length;Be++)if(Ue[ce[Be]]){Fe=Ue[ce[Be]];break}}Fe=Fe===""?"Times":Fe,this.pdf.setFont(Fe,Re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(M){this.ctx.globalCompositeOperation=M}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(M){this.ctx.globalAlpha=M}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(M){this.ctx.lineDashOffset=M,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(M){this.ctx.lineDash=M,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(M){this.ctx.ignoreClearRect=!!M}})};f.prototype.setLineDash=function(B){this.lineDash=B},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(B,X){if(isNaN(B)||isNaN(X))throw vn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ne=this.ctx.transform.applyToPoint(new a(B,X));this.path.push({type:"mt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(B,X)},f.prototype.closePath=function(){var B=new a(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&hn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){B=new a(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(B.x,B.y)},f.prototype.lineTo=function(B,X){if(isNaN(B)||isNaN(X))throw vn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ne=this.ctx.transform.applyToPoint(new a(B,X));this.path.push({type:"lt",x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(B,X,ne,Z){if(isNaN(ne)||isNaN(Z)||isNaN(B)||isNaN(X))throw vn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new a(ne,Z)),E=this.ctx.transform.applyToPoint(new a(B,X));this.path.push({type:"qct",x1:E.x,y1:E.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},f.prototype.bezierCurveTo=function(B,X,ne,Z,te,E){if(isNaN(te)||isNaN(E)||isNaN(B)||isNaN(X)||isNaN(ne)||isNaN(Z))throw vn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var T=this.ctx.transform.applyToPoint(new a(te,E)),S=this.ctx.transform.applyToPoint(new a(B,X)),_=this.ctx.transform.applyToPoint(new a(ne,Z));this.path.push({type:"bct",x1:S.x,y1:S.y,x2:_.x,y2:_.y,x:T.x,y:T.y}),this.ctx.lastPoint=new a(T.x,T.y)},f.prototype.arc=function(B,X,ne,Z,te,E){if(isNaN(B)||isNaN(X)||isNaN(ne)||isNaN(Z)||isNaN(te))throw vn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(E=!!E,!this.ctx.transform.isIdentity){var T=this.ctx.transform.applyToPoint(new a(B,X));B=T.x,X=T.y;var S=this.ctx.transform.applyToPoint(new a(0,ne)),_=this.ctx.transform.applyToPoint(new a(0,0));ne=Math.sqrt(Math.pow(S.x-_.x,2)+Math.pow(S.y-_.y,2))}Math.abs(te-Z)>=2*Math.PI&&(Z=0,te=2*Math.PI),this.path.push({type:"arc",x:B,y:X,radius:ne,startAngle:Z,endAngle:te,counterclockwise:E})},f.prototype.arcTo=function(B,X,ne,Z,te){throw new Error("arcTo not implemented.")},f.prototype.rect=function(B,X,ne,Z){if(isNaN(B)||isNaN(X)||isNaN(ne)||isNaN(Z))throw vn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(B,X),this.lineTo(B+ne,X),this.lineTo(B+ne,X+Z),this.lineTo(B,X+Z),this.lineTo(B,X),this.lineTo(B+ne,X),this.lineTo(B,X)},f.prototype.fillRect=function(B,X,ne,Z){if(isNaN(B)||isNaN(X)||isNaN(ne)||isNaN(Z))throw vn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(B,X,ne,Z),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},f.prototype.strokeRect=function(B,X,ne,Z){if(isNaN(B)||isNaN(X)||isNaN(ne)||isNaN(Z))throw vn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(B,X,ne,Z),this.stroke())},f.prototype.clearRect=function(B,X,ne,Z){if(isNaN(B)||isNaN(X)||isNaN(ne)||isNaN(Z))throw vn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(B,X,ne,Z))},f.prototype.save=function(B){B=typeof B!="boolean"||B;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),B){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},f.prototype.restore=function(B){B=typeof B!="boolean"||B;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,ne=0;ne<this.pdf.internal.getNumberOfPages();ne++)this.pdf.setPage(ne+1),this.pdf.internal.out("Q");this.pdf.setPage(X),B&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(B){var X,ne,Z,te;if(B.isCanvasGradient===!0&&(B=B.getColor()),!B)return{r:0,g:0,b:0,a:0,style:B};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(B))X=0,ne=0,Z=0,te=0;else{var E=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(B);if(E!==null)X=parseInt(E[1]),ne=parseInt(E[2]),Z=parseInt(E[3]),te=1;else if((E=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(B))!==null)X=parseInt(E[1]),ne=parseInt(E[2]),Z=parseInt(E[3]),te=parseFloat(E[4]);else{if(te=1,typeof B=="string"&&B.charAt(0)!=="#"){var T=new GR(B);B=T.ok?T.toHex():"#000000"}B.length===4?(X=B.substring(1,2),X+=X,ne=B.substring(2,3),ne+=ne,Z=B.substring(3,4),Z+=Z):(X=B.substring(1,3),ne=B.substring(3,5),Z=B.substring(5,7)),X=parseInt(X,16),ne=parseInt(ne,16),Z=parseInt(Z,16)}}return{r:X,g:ne,b:Z,a:te,style:B}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(B,X,ne,Z){if(isNaN(X)||isNaN(ne)||typeof B!="string")throw vn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!d.call(this)){var te=W(this.ctx.transform.rotation),E=this.ctx.transform.scaleX;H.call(this,{text:B,x:X,y:ne,scale:E,angle:te,align:this.textAlign,maxWidth:Z})}},f.prototype.strokeText=function(B,X,ne,Z){if(isNaN(X)||isNaN(ne)||typeof B!="string")throw vn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){Z=isNaN(Z)?void 0:Z;var te=W(this.ctx.transform.rotation),E=this.ctx.transform.scaleX;H.call(this,{text:B,x:X,y:ne,scale:E,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:Z})}},f.prototype.measureText=function(B){if(typeof B!="string")throw vn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,ne=this.pdf.internal.scaleFactor,Z=X.internal.getFontSize(),te=X.getStringUnitWidth(B)*Z/X.internal.scaleFactor;return new function(E){var T=(E=E||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return T}}),this}({width:te*=Math.round(96*ne/72*1e4)/1e4})},f.prototype.scale=function(B,X){if(isNaN(B)||isNaN(X))throw vn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ne=new l(B,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.rotate=function(B){if(isNaN(B))throw vn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new l(Math.cos(B),Math.sin(B),-Math.sin(B),Math.cos(B),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},f.prototype.translate=function(B,X){if(isNaN(B)||isNaN(X))throw vn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ne=new l(1,0,0,1,B,X);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.transform=function(B,X,ne,Z,te,E){if(isNaN(B)||isNaN(X)||isNaN(ne)||isNaN(Z)||isNaN(te)||isNaN(E))throw vn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var T=new l(B,X,ne,Z,te,E);this.ctx.transform=this.ctx.transform.multiply(T)},f.prototype.setTransform=function(B,X,ne,Z,te,E){B=isNaN(B)?1:B,X=isNaN(X)?0:X,ne=isNaN(ne)?0:ne,Z=isNaN(Z)?1:Z,te=isNaN(te)?0:te,E=isNaN(E)?0:E,this.ctx.transform=new l(B,X,ne,Z,te,E)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(B,X,ne,Z,te,E,T,S,_){var C=this.pdf.getImageProperties(B),P=1,O=1,U=1,M=1;Z!==void 0&&S!==void 0&&(U=S/Z,M=_/te,P=C.width/Z*S/Z,O=C.height/te*_/te),E===void 0&&(E=X,T=ne,X=0,ne=0),Z!==void 0&&S===void 0&&(S=Z,_=te),Z===void 0&&S===void 0&&(S=C.width,_=C.height);var J=this.ctx.transform.decompose(),pe=W(J.rotate.shx),de=new l,he=(de=(de=(de=de.multiply(J.translate)).multiply(J.skew)).multiply(J.scale)).applyToRectangle(new o(E-X*U,T-ne*M,Z*P,te*O));if(this.autoPaging){for(var xe,ve=h.call(this,he),ce=[],ge=0;ge<ve.length;ge+=1)ce.indexOf(ve[ge])===-1&&ce.push(ve[ge]);b(ce);for(var Pe=ce[0],ke=ce[ce.length-1],Re=Pe;Re<ke+1;Re++){this.pdf.setPage(Re);var Fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ue=Re===1?this.posY+this.margin[0]:this.margin[0],Me=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],De=Re===1?0:Me+(Re-2)*Be;if(this.ctx.clip_path.length!==0){var lt=this.path;xe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(xe,this.posX+this.margin[3],-De+Ue+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=lt}var Je=JSON.parse(JSON.stringify(he));Je=y([Je],this.posX+this.margin[3],-De+Ue+this.ctx.prevPageLastElemOffset)[0];var Qe=(Re>Pe||Re<ke)&&v.call(this);Qe&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Fe,Be,null).clip().discardPath()),this.pdf.addImage(B,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,pe),Qe&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(B,"JPEG",he.x,he.y,he.w,he.h,null,null,pe)};var h=function(B,X,ne){var Z=[];X=X||this.pdf.internal.pageSize.width,ne=ne||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(B.type){default:case"mt":case"lt":Z.push(Math.floor((B.y+te)/ne)+1);break;case"arc":Z.push(Math.floor((B.y+te-B.radius)/ne)+1),Z.push(Math.floor((B.y+te+B.radius)/ne)+1);break;case"qct":var E=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x,B.y);Z.push(Math.floor((E.y+te)/ne)+1),Z.push(Math.floor((E.y+E.h+te)/ne)+1);break;case"bct":var T=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,B.x1,B.y1,B.x2,B.y2,B.x,B.y);Z.push(Math.floor((T.y+te)/ne)+1),Z.push(Math.floor((T.y+T.h+te)/ne)+1);break;case"rect":Z.push(Math.floor((B.y+te)/ne)+1),Z.push(Math.floor((B.y+B.h+te)/ne)+1)}for(var S=0;S<Z.length;S+=1)for(;this.pdf.internal.getNumberOfPages()<Z[S];)p.call(this);return Z},p=function(){var B=this.fillStyle,X=this.strokeStyle,ne=this.font,Z=this.lineCap,te=this.lineWidth,E=this.lineJoin;this.pdf.addPage(),this.fillStyle=B,this.strokeStyle=X,this.font=ne,this.lineCap=Z,this.lineWidth=te,this.lineJoin=E},y=function(B,X,ne){for(var Z=0;Z<B.length;Z++)switch(B[Z].type){case"bct":B[Z].x2+=X,B[Z].y2+=ne;case"qct":B[Z].x1+=X,B[Z].y1+=ne;default:B[Z].x+=X,B[Z].y+=ne}return B},b=function(B){return B.sort(function(X,ne){return X-ne})},k=function(B,X){var ne=this.fillStyle,Z=this.strokeStyle,te=this.lineCap,E=this.lineWidth,T=Math.abs(E*this.ctx.transform.scaleX),S=this.lineJoin;if(this.autoPaging){for(var _,C,P=JSON.parse(JSON.stringify(this.path)),O=JSON.parse(JSON.stringify(this.path)),U=[],M=0;M<O.length;M++)if(O[M].x!==void 0)for(var J=h.call(this,O[M]),pe=0;pe<J.length;pe+=1)U.indexOf(J[pe])===-1&&U.push(J[pe]);for(var de=0;de<U.length;de++)for(;this.pdf.internal.getNumberOfPages()<U[de];)p.call(this);b(U);for(var he=U[0],xe=U[U.length-1],ve=he;ve<xe+1;ve++){this.pdf.setPage(ve),this.fillStyle=ne,this.strokeStyle=Z,this.lineCap=te,this.lineWidth=T,this.lineJoin=S;var ce=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ge=ve===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Re=ve===1?0:Pe+(ve-2)*ke;if(this.ctx.clip_path.length!==0){var Fe=this.path;_=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(_,this.posX+this.margin[3],-Re+ge+this.ctx.prevPageLastElemOffset),L.call(this,B,!0),this.path=Fe}if(C=JSON.parse(JSON.stringify(P)),this.path=y(C,this.posX+this.margin[3],-Re+ge+this.ctx.prevPageLastElemOffset),X===!1||ve===0){var Ue=(ve>he||ve<xe)&&v.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ce,ke,null).clip().discardPath()),L.call(this,B,X),Ue&&this.pdf.restoreGraphicsState()}this.lineWidth=E}this.path=P}else this.lineWidth=T,L.call(this,B,X),this.lineWidth=E},L=function(B,X){if((B!=="stroke"||X||!m.call(this))&&(B==="stroke"||X||!d.call(this))){for(var ne,Z,te=[],E=this.path,T=0;T<E.length;T++){var S=E[T];switch(S.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:S,deltas:[],abs:[]});break;case"lt":var _=te.length;if(E[T-1]&&!isNaN(E[T-1].x)&&(ne=[S.x-E[T-1].x,S.y-E[T-1].y],_>0)){for(;_>=0;_--)if(te[_-1].close!==!0&&te[_-1].begin!==!0){te[_-1].deltas.push(ne),te[_-1].abs.push(S);break}}break;case"bct":ne=[S.x1-E[T-1].x,S.y1-E[T-1].y,S.x2-E[T-1].x,S.y2-E[T-1].y,S.x-E[T-1].x,S.y-E[T-1].y],te[te.length-1].deltas.push(ne);break;case"qct":var C=E[T-1].x+2/3*(S.x1-E[T-1].x),P=E[T-1].y+2/3*(S.y1-E[T-1].y),O=S.x+2/3*(S.x1-S.x),U=S.y+2/3*(S.y1-S.y),M=S.x,J=S.y;ne=[C-E[T-1].x,P-E[T-1].y,O-E[T-1].x,U-E[T-1].y,M-E[T-1].x,J-E[T-1].y],te[te.length-1].deltas.push(ne);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(S)}}Z=X?null:B==="stroke"?"stroke":"fill";for(var pe=!1,de=0;de<te.length;de++)if(te[de].arc)for(var he=te[de].abs,xe=0;xe<he.length;xe++){var ve=he[xe];ve.type==="arc"?q.call(this,ve.x,ve.y,ve.radius,ve.startAngle,ve.endAngle,ve.counterclockwise,void 0,X,!pe):ae.call(this,ve.x,ve.y),pe=!0}else if(te[de].close===!0)this.pdf.internal.out("h"),pe=!1;else if(te[de].begin!==!0){var ce=te[de].start.x,ge=te[de].start.y;Y.call(this,te[de].deltas,ce,ge),pe=!0}Z&&z.call(this,Z),X&&ee.call(this)}},j=function(B){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ne=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return B-ne;case"top":return B+X-ne;case"hanging":return B+X-2*ne;case"middle":return B+X/2-ne;default:return B}},D=function(B){return B+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var B=function(){};return B.colorStops=[],B.addColorStop=function(X,ne){this.colorStops.push([X,ne])},B.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},B.isCanvasGradient=!0,B},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(B,X,ne,Z,te,E,T,S,_){for(var C=ie.call(this,ne,Z,te,E),P=0;P<C.length;P++){var O=C[P];P===0&&(_?$.call(this,O.x1+B,O.y1+X):ae.call(this,O.x1+B,O.y1+X)),Q.call(this,B,X,O.x2,O.y2,O.x3,O.y3,O.x4,O.y4)}S?ee.call(this):z.call(this,T)},z=function(B){switch(B){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ee=function(){this.pdf.clip(),this.pdf.discardPath()},$=function(B,X){this.pdf.internal.out(n(B)+" "+r(X)+" m")},H=function(B){var X;switch(B.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var ne,Z,te,E=this.pdf.getTextDimensions(B.text),T=j.call(this,B.y),S=D.call(this,T)-E.h,_=this.ctx.transform.applyToPoint(new a(B.x,T));if(this.autoPaging){var C=this.ctx.transform.decompose(),P=new l;P=(P=(P=P.multiply(C.translate)).multiply(C.skew)).multiply(C.scale);for(var O=this.ctx.transform.applyToRectangle(new o(B.x,T,E.w,E.h)),U=P.applyToRectangle(new o(B.x,S,E.w,E.h)),M=h.call(this,U),J=[],pe=0;pe<M.length;pe+=1)J.indexOf(M[pe])===-1&&J.push(M[pe]);b(J);for(var de=J[0],he=J[J.length-1],xe=de;xe<he+1;xe++){this.pdf.setPage(xe);var ve=xe===1?this.posY+this.margin[0]:this.margin[0],ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ge=this.pdf.internal.pageSize.height-this.margin[2],Pe=ge-this.margin[0],ke=this.pdf.internal.pageSize.width-this.margin[1],Re=ke-this.margin[3],Fe=xe===1?0:ce+(xe-2)*Pe;if(this.ctx.clip_path.length!==0){var Ue=this.path;ne=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=y(ne,this.posX+this.margin[3],-1*Fe+ve),L.call(this,"fill",!0),this.path=Ue}var Me=y([JSON.parse(JSON.stringify(U))],this.posX+this.margin[3],-Fe+ve+this.ctx.prevPageLastElemOffset)[0];B.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*B.scale),te=this.lineWidth,this.lineWidth=te*B.scale);var Be=this.autoPaging!=="text";if(Be||Me.y+Me.h<=ge){if(Be||Me.y>=ve&&Me.x<=ke){var De=Be?B.text:this.pdf.splitTextToSize(B.text,B.maxWidth||ke-Me.x)[0],lt=y([JSON.parse(JSON.stringify(O))],this.posX+this.margin[3],-Fe+ve+this.ctx.prevPageLastElemOffset)[0],Je=Be&&(xe>de||xe<he)&&v.call(this);Je&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Re,Pe,null).clip().discardPath()),this.pdf.text(De,lt.x,lt.y,{angle:B.angle,align:X,renderingMode:B.renderingMode}),Je&&this.pdf.restoreGraphicsState()}}else Me.y<ge&&(this.ctx.prevPageLastElemOffset+=ge-Me.y);B.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=te)}}else B.scale>=.01&&(Z=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Z*B.scale),te=this.lineWidth,this.lineWidth=te*B.scale),this.pdf.text(B.text,_.x+this.posX,_.y+this.posY,{angle:B.angle,align:X,renderingMode:B.renderingMode,maxWidth:B.maxWidth}),B.scale>=.01&&(this.pdf.setFontSize(Z),this.lineWidth=te)},ae=function(B,X,ne,Z){ne=ne||0,Z=Z||0,this.pdf.internal.out(n(B+ne)+" "+r(X+Z)+" l")},Y=function(B,X,ne){return this.pdf.lines(B,X,ne,null,null)},Q=function(B,X,ne,Z,te,E,T,S){this.pdf.internal.out([t(i(ne+B)),t(s(Z+X)),t(i(te+B)),t(s(E+X)),t(i(T+B)),t(s(S+X)),"c"].join(" "))},ie=function(B,X,ne,Z){for(var te=2*Math.PI,E=Math.PI/2;X>ne;)X-=te;var T=Math.abs(ne-X);T<te&&Z&&(T=te-T);for(var S=[],_=Z?-1:1,C=X;T>1e-5;){var P=C+_*Math.min(T,E);S.push(fe.call(this,B,C,P)),T-=Math.abs(P-C),C=P}return S},fe=function(B,X,ne){var Z=(ne-X)/2,te=B*Math.cos(Z),E=B*Math.sin(Z),T=te,S=-E,_=T*T+S*S,C=_+T*te+S*E,P=4/3*(Math.sqrt(2*_*C)-C)/(T*E-S*te),O=T-P*S,U=S+P*T,M=O,J=-U,pe=Z+X,de=Math.cos(pe),he=Math.sin(pe);return{x1:B*Math.cos(X),y1:B*Math.sin(X),x2:O*de-U*he,y2:O*he+U*de,x3:M*de-J*he,y3:M*he+J*de,x4:B*Math.cos(ne),y4:B*Math.sin(ne)}},W=function(B){return 180*B/Math.PI},se=function(B,X,ne,Z,te,E){var T=B+.5*(ne-B),S=X+.5*(Z-X),_=te+.5*(ne-te),C=E+.5*(Z-E),P=Math.min(B,te,T,_),O=Math.max(B,te,T,_),U=Math.min(X,E,S,C),M=Math.max(X,E,S,C);return new o(P,U,O-P,M-U)},oe=function(B,X,ne,Z,te,E,T,S){var _,C,P,O,U,M,J,pe,de,he,xe,ve,ce,ge,Pe=ne-B,ke=Z-X,Re=te-ne,Fe=E-Z,Ue=T-te,Me=S-E;for(C=0;C<41;C++)de=(J=(P=B+(_=C/40)*Pe)+_*((U=ne+_*Re)-P))+_*(U+_*(te+_*Ue-U)-J),he=(pe=(O=X+_*ke)+_*((M=Z+_*Fe)-O))+_*(M+_*(E+_*Me-M)-pe),C==0?(xe=de,ve=he,ce=de,ge=he):(xe=Math.min(xe,de),ve=Math.min(ve,he),ce=Math.max(ce,de),ge=Math.max(ge,he));return new o(Math.round(xe),Math.round(ve),Math.round(ce-xe),Math.round(ge-ve))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var B,X,ne=(B=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:B,lineDashOffset:X}));this.prevLineDash!==ne&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ne)}}})(yt.API),function(e){var t=function(a){var o,l,c,u,f,g,d,m,v,h;for(l=[],c=0,u=(a+=o="\0\0\0\0".slice(a.length%4||4)).length;u>c;c+=4)(f=(a.charCodeAt(c)<<24)+(a.charCodeAt(c+1)<<16)+(a.charCodeAt(c+2)<<8)+a.charCodeAt(c+3))!==0?(g=(f=((f=((f=((f=(f-(h=f%85))/85)-(v=f%85))/85)-(m=f%85))/85)-(d=f%85))/85)%85,l.push(g+33,d+33,m+33,v+33,h+33)):l.push(122);return function(p,y){for(var b=y;b>0;b--)p.pop()}(l,o.length),String.fromCharCode.apply(String,l)+"~>"},n=function(a){var o,l,c,u,f,g=String,d="length",m=255,v="charCodeAt",h="slice",p="replace";for(a[h](-2),a=a[h](0,-2)[p](/\s/g,"")[p]("z","!!!!!"),c=[],u=0,f=(a+=o="uuuuu"[h](a[d]%5||5))[d];f>u;u+=5)l=52200625*(a[v](u)-33)+614125*(a[v](u+1)-33)+7225*(a[v](u+2)-33)+85*(a[v](u+3)-33)+(a[v](u+4)-33),c.push(m&l>>24,m&l>>16,m&l>>8,m&l);return function(y,b){for(var k=b;k>0;k--)y.pop()}(c,o[d]),g.fromCharCode.apply(g,c)},r=function(a){return a.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(a){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),o.test(a)===!1)return"";for(var l="",c=0;c<a.length;c+=2)l+=String.fromCharCode("0x"+(a[c]+a[c+1]));return l},s=function(a){for(var o=new Uint8Array(a.length),l=a.length;l--;)o[l]=a.charCodeAt(l);return(o=Lw(o)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};e.processDataByFilters=function(a,o){var l=0,c=a||"",u=[];for(typeof(o=o||[])=="string"&&(o=[o]),l=0;l<o.length;l+=1)switch(o[l]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=i(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=r(c),u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=s(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(yt.API),function(e){e.loadFile=function(t,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var f=new XMLHttpRequest,g=0,d=function(m){var v=m.length,h=[],p=String.fromCharCode;for(g=0;g<v;g+=1)h.push(p(255&m.charCodeAt(g)));return h.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?u(d(this.responseText)):u(void 0)}),f.send(null),c&&f.status===200)return d(f.responseText)}(i,s,a)}catch{}return o}(t,n,r)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(yt.API),function(e){function t(){return(Nt.html2canvas?Promise.resolve(Nt.html2canvas):Ws(()=>import("./html2canvas.esm-BfxBtG_O.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Nt.DOMPurify?Promise.resolve(Nt.DOMPurify):Ws(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var l=hn(o);return l==="undefined"?"undefined":l==="string"||o instanceof String?"string":l==="number"||o instanceof Number?"number":l==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":l==="object"?"object":"unknown"},i=function(o,l){var c=document.createElement(o);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},s=function o(l,c){for(var u=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),f=l.firstChild;f;f=f.nextSibling)c!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||u.appendChild(o(f,c));return l.nodeType===1&&(l.nodeName==="CANVAS"?(u.width=l.width,u.height=l.height,u.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(u.value=l.value),u.addEventListener("load",function(){u.scrollTop=l.scrollTop,u.scrollLeft=l.scrollLeft},!0)),u},a=function o(l){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),u=o.convert(Promise.resolve(),c);return(u=u.setProgress(1,o,1,[o])).set(l)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(o,l){return o.__proto__=l||a.prototype,o},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(o,l){return this.then(function(){switch(l=l||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o),l){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},a.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(t).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var d=0;d<u.length;++d){var m=u[d],v=m.src.find(function(h){return h.format==="truetype"});v&&c.addFont(v.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),l(this.prop.container,g)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(o,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,l):this.outputPdf(o,l)},a.prototype.outputPdf=function(o,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,l)})},a.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},a.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(o){if(r(o)!=="object")return this;var l=Object.keys(o||{}).map(function(c){if(c in a.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(l)})},a.prototype.get=function(o,l){return this.then(function(){var c=o in a.template.prop?this.prop[o]:this.opt[o];return l?l(c):c})},a.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},a.prototype.setPageSize=function(o){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(o=o||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:l(o.inner.width,o.k),height:l(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},a.prototype.setProgress=function(o,l,c,u){return o!=null&&(this.progress.val=o),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(o,l,c,u){return this.setProgress(o?this.progress.val+o:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},a.prototype.then=function(o,l){var c=this;return this.thenCore(o,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,u),g}).then(u,f).then(function(g){return c.updateProgress(1),g})})},a.prototype.thenCore=function(o,l,c){c=c||Promise.prototype.then;var u=this;o&&(o=o.bind(u)),l&&(l=l.bind(u));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?u:a.convert(Object.assign({},u),Promise.prototype),g=c.call(f,o,l);return a.convert(g,u.__proto__)},a.prototype.thenExternal=function(o,l){return Promise.prototype.then.call(this,o,l)},a.prototype.thenList=function(o){var l=this;return o.forEach(function(c){l=l.thenCore(c)}),l},a.prototype.catch=function(o){o&&(o=o.bind(this));var l=Promise.prototype.catch.call(this,o);return a.convert(l,this)},a.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},a.prototype.error=function(o){return this.then(function(){throw new Error(o)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,yt.getPageSize=function(o,l,c){if(hn(o)==="object"){var u=o;o=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var f,g=(""+c).toLowerCase(),d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var m,v=0,h=0;if(d.hasOwnProperty(g))v=d[g][1]/f,h=d[g][0]/f;else try{v=c[1],h=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",h>v&&(m=h,h=v,v=m);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",v>h&&(m=h,h=v,v=m)}return{width:h,height:v,unit:l,k:f,orientation:o}},e.html=function(o,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(G1):null;var c=new a(l);return l.worker?c:c.from(o).doCallback()}}(yt.API),yt.API.addJS=function(e){var t,n,r=e;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),n=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+r+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&n!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var f=n.internal.newObject();u.push(f);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var n=this;n.outline.root.children.length>0&&(n.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&n.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(yt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,l=function(f){for(var g,d=256*f.charCodeAt(4)+f.charCodeAt(5),m=f.length,v={width:0,height:0,numcomponents:1},h=4;h<m;h+=2){if(h+=d,t.indexOf(f.charCodeAt(h+1))!==-1){g=256*f.charCodeAt(h+5)+f.charCodeAt(h+6),v={width:256*f.charCodeAt(h+7)+f.charCodeAt(h+8),height:g,numcomponents:f.charCodeAt(h+9)};break}d=256*f.charCodeAt(h+2)+f.charCodeAt(h+3)}return v}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n),l.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(yt.API),yt.API.processPNG=function(e,t,n,r){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var i,s=rX(e,{checkCrc:!0}),a=s.width,o=s.height,l=s.channels,c=s.palette,u=s.depth;i=c&&l===1?function(q){for(var z=q.width,ee=q.height,$=q.data,H=q.palette,ae=q.depth,Y=!1,Q=[],ie=[],fe=void 0,W=!1,se=0,oe=0;oe<H.length;oe++){var K=WS(H[oe],4),B=K[0],X=K[1],ne=K[2],Z=K[3];Q.push(B,X,ne),Z!=null&&(Z===0?(se++,ie.length<1&&ie.push(oe)):Z<255&&(W=!0))}if(W||se>1){Y=!0,ie=void 0;var te=z*ee;fe=new Uint8Array(te);for(var E=new DataView($.buffer),T=0;T<te;T++){var S=K1(E,T,ae),_=WS(H[S],4)[3];fe[T]=_}}else se===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Y?8:void 0,colorBytes:$,alphaBytes:fe,needSMask:Y,palette:Q,mask:ie}}(s):l===2||l===4?function(q){for(var z=q.data,ee=q.width,$=q.height,H=q.channels,ae=q.depth,Y=H===2?"DeviceGray":"DeviceRGB",Q=H-1,ie=ee*$,fe=Q,W=ie*fe,se=1*ie,oe=Math.ceil(W*ae/8),K=Math.ceil(se*ae/8),B=new Uint8Array(oe),X=new Uint8Array(K),ne=new DataView(z.buffer),Z=new DataView(B.buffer),te=new DataView(X.buffer),E=!1,T=0;T<ie;T++){for(var S=T*H,_=0;_<fe;_++)ik(Z,K1(ne,S+_,ae),T*fe+_,ae);var C=K1(ne,S+fe,ae);C<(1<<ae)-1&&(E=!0),ik(te,C,1*T,ae)}return{colorSpace:Y,colorsPerPixel:Q,sMaskBitsPerComponent:E?ae:void 0,colorBytes:B,alphaBytes:X,needSMask:E}}(s):function(q){var z=q.data,ee=q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ee,colorsPerPixel:ee==="DeviceGray"?1:3,colorBytes:z instanceof Uint16Array?function($){for(var H=$.length,ae=new Uint8Array(2*H),Y=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),Q=0;Q<H;Q++)Y.setUint16(2*Q,$[Q],!1);return ae}(z):z,needSMask:!1}}(s);var f,g,d,m=i,v=m.colorSpace,h=m.colorsPerPixel,p=m.sMaskBitsPerComponent,y=m.colorBytes,b=m.alphaBytes,k=m.needSMask,L=m.palette,j=m.mask,D=null;return r!==yt.API.image_compression.NONE&&typeof Lw=="function"?(D=function(q){var z;switch(q){case yt.API.image_compression.FAST:z=11;break;case yt.API.image_compression.MEDIUM:z=13;break;case yt.API.image_compression.SLOW:z=14;break;default:z=12}return z}(r),f=this.decode.FLATE_DECODE,g="/Predictor ".concat(D," /Colors ").concat(h," /BitsPerComponent ").concat(u," /Columns ").concat(a),e=QA(y,Math.ceil(a*h*u/8),h,u,r),k&&(d=QA(b,Math.ceil(a*p/8),1,p,r))):(f=void 0,g=void 0,e=y,k&&(d=b)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(d&&this.__addimage__.isArrayBuffer(d)||this.__addimage__.isArrayBufferView(d))&&(d=this.__addimage__.arrayBufferToBinaryString(d)),{alias:n,data:e,index:t,filter:f,decodeParameters:g,transparency:j,palette:L,sMask:d,predictor:D,width:a,height:o,bitsPerComponent:u,sMaskBitsPerComponent:p,colorSpace:v}}},function(e){e.processGIF89A=function(t,n,r,i){var s=new AX(t),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new X1(100).encode(c,100);return e.processJPEG.call(this,u,n,r,i)},e.processGIF87A=e.processGIF89A}(yt.API),ds.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ds.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(n){vn.log("bit decode error:"+n)}},ds.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,i=0;i<t;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},ds.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}t!==0&&(this.pos+=4-t)}},ds.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}e!==0&&(this.pos+=4-e)}},ds.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&t)/t*255|0,o=(s>>5&t)/t*255|0,l=(s>>10&t)/t*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=e}},ds.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&t)/t*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/t*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=e}},ds.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ds.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},ds.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,i){var s=new ds(t,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new X1(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(yt.API),ak.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,i){var s=new ak(t),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new X1(100).encode(l,100);return e.processJPEG.call(this,c,n,r,i)}}(yt.API),yt.API.processRGBA=function(e,t,n){for(var r=e.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],f=r[c+1],g=r[c+2],d=r[c+3];s[o++]=u,s[o++]=f,s[o++]=g,a[l++]=d}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:m,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},yt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},$c=yt.API,fm=$c.getCharWidthsArray=function(e,t){var n,r,i=(t=t||{}).font||this.internal.getFont(),s=t.fontSize||this.internal.getFontSize(),a=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=t.kerning?t.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,f=t.doKerning!==!1,g=0,d=e.length,m=0,v=o[0]||l,h=[];for(n=0;n<d;n++)r=e.charCodeAt(n),typeof i.metadata.widthOfString=="function"?h.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=f&&hn(c[r])==="object"&&!isNaN(parseInt(c[r][m],10))?c[r][m]/u:0,h.push((o[r]||v)/l+g)),m=r;return h},XA=$c.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),i=t.charSpace||this.internal.getCharSpace();return $c.processArabic&&(e=$c.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,i)/n:fm.apply(this,arguments).reduce(function(s,a){return s+a},0)},ZA=function(e,t,n,r){for(var i=[],s=0,a=e.length,o=0;s!==a&&o+t[s]<n;)o+=t[s],s++;i.push(e.slice(0,s));var l=s;for(o=0;s!==a;)o+t[s]>r&&(i.push(e.slice(l,s)),o=0,l=s),o+=t[s],s++;return l!==s&&i.push(e.slice(l,s)),i},JA=function(e,t,n){n||(n={});var r,i,s,a,o,l,c,u=[],f=[u],g=n.textIndent||0,d=0,m=0,v=e.split(" "),h=fm.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?v[0].length+2:n.lineIndent||0){var p=Array(l).join(" "),y=[];v.map(function(k){(k=k.split(/\s*\n/)).length>1?y=y.concat(k.map(function(L,j){return(j&&L.length?`
`:"")+L})):y.push(k[0])}),v=y,l=XA.apply(this,[p,n])}for(s=0,a=v.length;s<a;s++){var b=0;if(r=v[s],l&&r[0]==`
`&&(r=r.substr(1),b=1),g+d+(m=(i=fm.apply(this,[r,n])).reduce(function(k,L){return k+L},0))>t||b){if(m>t){for(o=ZA.apply(this,[r,i,t-(g+d),t]),u.push(o.shift()),u=[o.pop()];o.length;)f.push([o.shift()]);m=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(k,L){return k+L},0)}else u=[r];f.push(u),g=m+l,d=h}else u.push(r),g+=d+m,d=h}return c=l?function(k,L){return(L?p:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(c)},$c.splitTextToSize=function(e,t,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var f=this.internal.getFont(u.fontName,u.fontStyle),g="Unicode";return f.metadata[g]?{widths:f.metadata[g].widths||{0:1},kerning:f.metadata[g].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var a=1*this.internal.scaleFactor*t/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(JA.apply(this,[r[o],a,s]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[n[s]]=t[s],i[t[s]]=n[s];var a=function(g){return"0x"+parseInt(g,10).toString(16)},o=e.__fontmetrics__.compress=function(g){var d,m,v,h,p=["{"];for(var y in g){if(d=g[y],isNaN(parseInt(y,10))?m="'"+y+"'":(y=parseInt(y,10),m=(m=a(y).slice(2)).slice(0,-1)+i[m.slice(-1)]),typeof d=="number")d<0?(v=a(d).slice(3),h="-"):(v=a(d).slice(2),h=""),v=h+v.slice(0,-1)+i[v.slice(-1)];else{if(hn(d)!=="object")throw new Error("Don't know what to do with value type "+hn(d)+".");v=o(d)}p.push(m+v)}return p.push("}"),p.join("")},l=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var d,m,v,h,p={},y=1,b=p,k=[],L="",j="",D=g.length-1,q=1;q<D;q+=1)(h=g[q])=="'"?d?(v=d.join(""),d=void 0):d=[]:d?d.push(h):h=="{"?(k.push([b,v]),b={},v=void 0):h=="}"?((m=k.pop())[0][m[1]]=b,v=void 0,b=m[0]):h=="-"?y=-1:v===void 0?r.hasOwnProperty(h)?(L+=r[h],v=parseInt(L,16)*y,y=1,L=""):L+=h:r.hasOwnProperty(h)?(j+=r[h],b[v]=parseInt(j,16)*y,y=1,v=void 0,j=""):j+=h;return p},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var d=g.font,m=f.Unicode[d.postScriptName];m&&(d.metadata.Unicode={},d.metadata.Unicode.widths=m.widths,d.metadata.Unicode.kerning=m.kerning);var v=u.Unicode[d.postScriptName];v&&(d.metadata.Unicode.encoding=v,d.encoding=v.codePages[0])}])}(yt.API),function(e){var t=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};e.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(Om(o)),a.metadata=e.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(yt),yt.API.addSvgAsImage=function(e,t,n,r,i,s,a,o){if(isNaN(t)||isNaN(n))throw vn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw vn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var l=document.createElement("canvas");l.width=r,l.height=i;var c=l.getContext("2d");c.fillStyle="#fff",c.fillRect(0,0,l.width,l.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(Nt.canvg?Promise.resolve(Nt.canvg):Ws(()=>import("./index.es-C1Bh3HVX.js"),[])).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(c,e,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(u)}).then(function(){f.addImage(l.toDataURL("image/jpeg",1),t,n,r,i,a,o)})},yt.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(t,n);return this},yt.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,f=0;function g(m,v){var h,p=!1;for(h=0;h<m.length;h+=1)m[h]===v&&(p=!0);return p}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var d=o.length;for(f=0;f<d;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(hn(e)==="object"){for(i in e)if(s=e[i],g(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,v=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?v.push("/"+m+" /"+n[m].value):v.push("/"+m+" "+n[m].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},yt.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",CX),this.internal.events.subscribe("postPutResources",kX)),this},function(e){var t=e.API,n=t.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],f=0,g=s.length;f<g;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(s){var a,o,l,c,u,f,g;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,g=(o=Object.keys(s).sort(function(d,m){return d-m})).length;f<g;f++)a=o[f],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",m=0;m<g.length;m++)d+=String.fromCharCode(g[m]);var v=c();u({data:d,addLength1:!0,objectId:v}),l("endobj");var h=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:h}),l("endobj");var p=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Vc(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var y=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+Vc(o.fontName)),l("/FontDescriptor "+p+" 0 R"),l("/W "+e.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+h+" 0 R"),l("/BaseFont /"+Vc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+y+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),t.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,g="",d=0;d<f.length;d++)g+=String.fromCharCode(f[d]);var m=c();u({data:g,addLength1:!0,objectId:m}),l("endobj");var v=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var h=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+m+" 0 R"),l("/Flags 96"),l("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+Vc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var p=0;p<o.metadata.hmtx.widths.length;p++)o.metadata.hmtx.widths[p]=parseInt(o.metadata.hmtx.widths[p]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+Vc(o.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},f=s.mutex||{},g=f.pdfEscape,d=f.activeFontKey,m=f.fonts,v=d,h="",p=0,y="",b=m[v].encoding;if(m[v].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:f};for(y=o,v=d,Array.isArray(o)&&(y=o[0]),p=0;p<y.length;p+=1)m[v].metadata.hasOwnProperty("cmap")&&(a=m[v].metadata.cmap.unicode.codeMap[y[p].charCodeAt(0)]),a||y[p].charCodeAt(0)<256&&m[v].metadata.hasOwnProperty("Unicode")?h+=y[p]:h+="";var k="";return parseInt(v.slice(1))<14||b==="WinAnsiEncoding"?k=g(h,v).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):b==="Identity-H"&&(k=n(h,m[v])),f.isHex=!0,{text:k,x:l,y:c,options:u,mutex:f}};t.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(yt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(yt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,u,f=t,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},h=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],p=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),y=!1,b=0;this.__bidiEngine__={};var k=function($){var H=$.charCodeAt(),ae=H>>8,Y=v[ae];return Y!==void 0?f[256*Y+(255&H)]:ae===252||ae===253?"AL":p.test(ae)?"L":ae===8?"R":"N"},L=function($){for(var H,ae=0;ae<$.length;ae++){if((H=k($.charAt(ae)))==="L")return!1;if(H==="R")return!0}return!1},j=function($,H,ae,Y){var Q,ie,fe,W,se=H[Y];switch(se){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":y=!1;break;case"N":case"AN":break;case"EN":y&&(se="AN");break;case"AL":y=!0,se="R";break;case"WS":case"BN":se="N";break;case"CS":Y<1||Y+1>=H.length||(Q=ae[Y-1])!=="EN"&&Q!=="AN"||(ie=H[Y+1])!=="EN"&&ie!=="AN"?se="N":y&&(ie="AN"),se=ie===Q?ie:"N";break;case"ES":se=(Q=Y>0?ae[Y-1]:"B")==="EN"&&Y+1<H.length&&H[Y+1]==="EN"?"EN":"N";break;case"ET":if(Y>0&&ae[Y-1]==="EN"){se="EN";break}if(y){se="N";break}for(fe=Y+1,W=H.length;fe<W&&H[fe]==="ET";)fe++;se=fe<W&&H[fe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(W=H.length,fe=Y+1;fe<W&&H[fe]==="NSM";)fe++;if(fe<W){var oe=$[Y],K=oe>=1425&&oe<=2303||oe===64286;if(Q=H[fe],K&&(Q==="R"||Q==="AL")){se="R";break}}}se=Y<1||(Q=H[Y-1])==="B"?"N":ae[Y-1];break;case"B":y=!1,i=!0,se=b;break;case"S":s=!0,se="N"}return se},D=function($,H,ae){var Y=$.split("");return ae&&q(Y,ae,{hiLevel:b}),Y.reverse(),H&&H.reverse(),Y.join("")},q=function($,H,ae){var Y,Q,ie,fe,W,se=-1,oe=$.length,K=0,B=[],X=b?d:g,ne=[];for(y=!1,i=!1,s=!1,Q=0;Q<oe;Q++)ne[Q]=k($[Q]);for(ie=0;ie<oe;ie++){if(W=K,B[ie]=j($,ne,B,ie),Y=240&(K=X[W][m[B[ie]]]),K&=15,H[ie]=fe=X[K][5],Y>0)if(Y===16){for(Q=se;Q<ie;Q++)H[Q]=1;se=-1}else se=-1;if(X[K][6])se===-1&&(se=ie);else if(se>-1){for(Q=se;Q<ie;Q++)H[Q]=fe;se=-1}ne[ie]==="B"&&(H[ie]=0),ae.hiLevel|=fe}s&&function(Z,te,E){for(var T=0;T<E;T++)if(Z[T]==="S"){te[T]=b;for(var S=T-1;S>=0&&Z[S]==="WS";S--)te[S]=b}}(ne,H,oe)},z=function($,H,ae,Y,Q){if(!(Q.hiLevel<$)){if($===1&&b===1&&!i)return H.reverse(),void(ae&&ae.reverse());for(var ie,fe,W,se,oe=H.length,K=0;K<oe;){if(Y[K]>=$){for(W=K+1;W<oe&&Y[W]>=$;)W++;for(se=K,fe=W-1;se<fe;se++,fe--)ie=H[se],H[se]=H[fe],H[fe]=ie,ae&&(ie=ae[se],ae[se]=ae[fe],ae[fe]=ie);K=W}K++}}},ee=function($,H,ae){var Y=$.split(""),Q={hiLevel:b};return ae||(ae=[]),q(Y,ae,Q),function(ie,fe,W){if(W.hiLevel!==0&&u)for(var se,oe=0;oe<ie.length;oe++)fe[oe]===1&&(se=h.indexOf(ie[oe]))>=0&&(ie[oe]=h[se+1])}(Y,ae,Q),z(2,Y,H,ae,Q),z(1,Y,H,ae,Q),Y.join("")};return this.__bidiEngine__.doBidiReorder=function($,H,ae){if(function(Q,ie){if(ie)for(var fe=0;fe<Q.length;fe++)ie[fe]=fe;o===void 0&&(o=L(Q)),c===void 0&&(c=L(Q))}($,H),a||!l||c)if(a&&l&&o^c)b=o?1:0,$=D($,H,ae);else if(!a&&l&&c)b=o?1:0,$=ee($,H,ae),$=D($,H);else if(!a||o||l||c){if(a&&!l&&o^c)$=D($,H),o?(b=0,$=ee($,H,ae)):(b=1,$=ee($,H,ae),$=D($,H));else if(a&&o&&!l&&c)b=1,$=ee($,H,ae),$=D($,H);else if(!a&&!l&&o^c){var Y=u;o?(b=1,$=ee($,H,ae),b=0,u=!1,$=ee($,H,ae),u=Y):(b=0,$=ee($,H,ae),$=D($,H),b=1,u=!1,$=ee($,H,ae),u=Y,$=D($,H))}}else b=0,$=ee($,H,ae);else b=o?1:0,$=ee($,H,ae);return $},this.__bidiEngine__.setOptions=function($){$&&(a=$.isInputVisual,l=$.isOutputVisual,o=$.isInputRtl,c=$.isOutputRtl,u=$.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(yt),yt.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new Go(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new $X(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new EX(this.contents),this.head=new TX(this),this.name=new MX(this),this.cmap=new iL(this),this.toUnicode={},this.hhea=new PX(this),this.maxp=new OX(this),this.hmtx=new jX(this),this.post=new LX(this),this.os2=new RX(this),this.loca=new UX(this),this.glyf=new DX(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)t=l[a],c.push(Math.round(t*this.scaleFactor));return c}.call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var i,s,a,o;for(a=0,s=0,o=(t=""+t).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=t.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Ls,Go=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,i;for(i=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(t.charCodeAt(n)));return i},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,i,s,a,o,l;return t=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,i,s;for(s=[],r=0,i=t.length;r<i;r++)n=t[r],s.push(this.writeByte(n));return s},e}(),EX=function(){var e;function t(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,i,s,a,o,l,c,u,f,g,d,m,v;for(v in d=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),a=Math.floor(f/l),u=16*d-f,(i=new Go).writeInt(this.scalarType),i.writeShort(d),i.writeShort(f),i.writeShort(a),i.writeShort(u),s=16*d,c=i.pos+s,o=null,m=[],n)for(g=n[v],i.writeString(v),i.writeInt(e(g)),i.writeInt(c),i.writeInt(g.length),m=m.concat(g),v==="head"&&(o=c),c+=g.length;c%4;)m.push(0),c++;return i.write(m),r=2981146554-e(i.data),i.pos=o+8,i.writeUInt32(r),i.data},e=function(n){var r,i,s,a;for(n=sL.call(n);n.length%4;)n.push(0);for(s=new Go(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},t}(),NX={}.hasOwnProperty,ca=function(e,t){for(var n in t)NX.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Ls=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var TX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new Go).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),ok=function(){function e(t,n){var r,i,s,a,o,l,c,u,f,g,d,m,v,h,p,y,b;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=t.readByte();break;case 4:for(d=t.readUInt16(),g=d/2,t.pos+=6,s=function(){var k,L;for(L=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)L.push(t.readUInt16());return L}(),t.pos+=2,v=function(){var k,L;for(L=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)L.push(t.readUInt16());return L}(),c=function(){var k,L;for(L=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)L.push(t.readUInt16());return L}(),u=function(){var k,L;for(L=[],l=k=0;0<=g?k<g:k>g;l=0<=g?++k:--k)L.push(t.readUInt16());return L}(),i=(this.length-t.pos+this.offset)/2,o=function(){var k,L;for(L=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)L.push(t.readUInt16());return L}(),l=p=0,b=s.length;p<b;l=++p)for(h=s[l],r=y=m=v[l];m<=h?y<=h:y>=h;r=m<=h?++y:--y)u[l]===0?a=r+c[l]:(a=o[u[l]/2+(r-m)-(g-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}t.pos=f}return e.encode=function(t,n){var r,i,s,a,o,l,c,u,f,g,d,m,v,h,p,y,b,k,L,j,D,q,z,ee,$,H,ae,Y,Q,ie,fe,W,se,oe,K,B,X,ne,Z,te,E,T,S,_,C,P;switch(Y=new Go,a=Object.keys(t).sort(function(O,U){return O-U}),n){case"macroman":for(v=0,h=function(){var O=[];for(m=0;m<256;++m)O.push(0);return O}(),y={0:0},s={},Q=0,se=a.length;Q<se;Q++)y[S=t[i=a[Q]]]==null&&(y[S]=++v),s[i]={old:t[i],new:y[t[i]]},h[i]=y[t[i]];return Y.writeUInt16(1),Y.writeUInt16(0),Y.writeUInt32(12),Y.writeUInt16(0),Y.writeUInt16(262),Y.writeUInt16(0),Y.write(h),{charMap:s,subtable:Y.data,maxGlyphID:v+1};case"unicode":for(H=[],f=[],b=0,y={},r={},p=c=null,ie=0,oe=a.length;ie<oe;ie++)y[L=t[i=a[ie]]]==null&&(y[L]=++b),r[i]={old:L,new:y[L]},o=y[L]-i,p!=null&&o===c||(p&&f.push(p),H.push(i),c=o),p=i;for(p&&f.push(p),f.push(65535),H.push(65535),ee=2*(z=H.length),q=2*Math.pow(Math.log(z)/Math.LN2,2),g=Math.log(q/2)/Math.LN2,D=2*z-q,l=[],j=[],d=[],m=fe=0,K=H.length;fe<K;m=++fe){if($=H[m],u=f[m],$===65535){l.push(0),j.push(0);break}if($-(ae=r[$].new)>=32768)for(l.push(0),j.push(2*(d.length+z-m)),i=W=$;$<=u?W<=u:W>=u;i=$<=u?++W:--W)d.push(r[i].new);else l.push(ae-$),j.push(0)}for(Y.writeUInt16(3),Y.writeUInt16(1),Y.writeUInt32(12),Y.writeUInt16(4),Y.writeUInt16(16+8*z+2*d.length),Y.writeUInt16(0),Y.writeUInt16(ee),Y.writeUInt16(q),Y.writeUInt16(g),Y.writeUInt16(D),E=0,B=f.length;E<B;E++)i=f[E],Y.writeUInt16(i);for(Y.writeUInt16(0),T=0,X=H.length;T<X;T++)i=H[T],Y.writeUInt16(i);for(_=0,ne=l.length;_<ne;_++)o=l[_],Y.writeUInt16(o);for(C=0,Z=j.length;C<Z;C++)k=j[C],Y.writeUInt16(k);for(P=0,te=d.length;P<te;P++)v=d[P],Y.writeUInt16(v);return{charMap:r,subtable:Y.data,maxGlyphID:b+1}}},e}(),iL=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,r,i;for(t.pos=this.offset,this.version=t.readUInt16(),i=t.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)n=new ok(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var r,i;return n==null&&(n="macroman"),r=ok.encode(t,n),(i=new Go).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},e}(),PX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),RX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,r;for(r=[],n=0;n<10;++n)r.push(t.readByte());return r}(),this.charRange=function(){var n,r;for(r=[],n=0;n<4;++n)r.push(t.readInt());return r}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,r;for(r=[],n=0;n<2;n=++n)r.push(t.readInt());return r}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),LX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="post",e.prototype.parse=function(t){var n,r,i;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=t.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],i=[];t.pos<this.offset+this.length;)n=t.readByte(),i.push(this.names.push(t.readString(n)));return i;case 151552:return r=t.readUInt16(),this.offsets=t.read(r);case 262144:return this.map=function(){var a,o,l;for(l=[],s=a=0,o=this.file.maxp.numGlyphs;0<=o?a<o:a>o;s=0<=o?++a:--a)l.push(t.readUInt32());return l}.call(this)}},e}(),IX=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},MX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="name",e.prototype.parse=function(t){var n,r,i,s,a,o,l,c,u,f,g;for(t.pos=this.offset,t.readShort(),n=t.readShort(),o=t.readShort(),r=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)r.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+o+t.readShort()});for(l={},s=u=0,f=r.length;u<f;s=++u)i=r[s],t.pos=i.offset,c=t.readString(i.length),a=new IX(c,i),l[g=i.nameID]==null&&(l[g]=[]),l[i.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),OX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),jX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,r,i,s,a,o,l;for(t.pos=this.offset,this.metrics=[],n=0,o=this.file.hhea.numberOfMetrics;0<=o?n<o:n>o;n=0<=o?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)u.push(t.readInt16());return u}(),this.widths=function(){var c,u,f,g;for(g=[],c=0,u=(f=this.metrics).length;c<u;c++)s=f[c],g.push(s.advance);return g}.call(this),r=this.widths[this.widths.length-1],l=[],n=a=0;0<=i?a<i:a>i;n=0<=i?++a:--a)l.push(this.widths.push(r));return l},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),sL=[].slice,DX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,r,i,s,a,o,l,c,u,f;return t in this.cache?this.cache[t]:(s=this.file.loca,n=this.file.contents,r=s.indexOf(t),(i=s.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+r,a=(o=new Go(n.read(i))).readShort(),c=o.readShort(),f=o.readShort(),l=o.readShort(),u=o.readShort(),this.cache[t]=a===-1?new BX(o,c,f,l,u):new FX(o,a,c,f,l,u),this.cache[t]))},e.prototype.encode=function(t,n,r){var i,s,a,o,l;for(a=[],s=[],o=0,l=n.length;o<l;o++)i=t[n[o]],s.push(a.length),i&&(a=a.concat(i.encode(r)));return s.push(a.length),{table:a,offsets:s}},e}(),FX=function(){function e(t,n,r,i,s,a){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),BX=function(){function e(t,n,r,i,s){var a,o;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new Go(sL.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),UX=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return ca(e,Ls),e.prototype.tag="loca",e.prototype.parse=function(t){var n,r;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*t.readUInt16());return s}.call(this):function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(t.readUInt32());return s}.call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,a=0;a<r.length;++a)if(r[a]=i,s<n.length&&n[s]==a){++s,r[a]=i;var o=this.offsets[a],l=this.offsets[a+1]-o;l>0&&(i+=l)}for(var c=new Array(4*r.length),u=0;u<r.length;++u)c[4*u+3]=255&r[u],c[4*u+2]=(65280&r[u])>>8,c[4*u+1]=(16711680&r[u])>>16,c[4*u]=(4278190080&r[u])>>24;return c},e}(),$X=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,t={},s=this.subset)r=s[n],t[n]=i[r];return t},e.prototype.glyphsFor=function(t){var n,r,i,s,a,o,l;for(i={},a=0,o=t.length;a<o;a++)i[s=t[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},e.prototype.encode=function(t,n){var r,i,s,a,o,l,c,u,f,g,d,m,v,h,p;for(i in r=iL.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(t),d={0:0},p=r.charMap)d[(l=p[i]).old]=l.new;for(m in g=r.maxGlyphID,a)m in d||(d[m]=g++);return u=function(y){var b,k;for(b in k={},y)k[y[b]]=b;return k}(d),f=Object.keys(u).sort(function(y,b){return y-b}),v=function(){var y,b,k;for(k=[],y=0,b=f.length;y<b;y++)o=f[y],k.push(u[o]);return k}(),s=this.font.glyf.encode(a,v,d),c=this.font.loca.encode(s.offsets,v),h={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(h["OS/2"]=this.font.os2.raw()),this.font.directory.encode(h)},e}();yt.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(t.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n?.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+t.convert(a));return s.push(">>"),s.join(`
`)}return""+n},t}();function aL(){const[e,t]=R.useState([]),[n,r]=R.useState([]),[i,s]=R.useState(!0),{user:a}=tl(),{toast:o}=Qo(),l=R.useCallback(async()=>{if(!a){t([]),r([]),s(!1);return}try{const[m,v]=await Promise.all([Zh("notes",a.id),Zh("folders",a.id)]);if(m.length>0&&t(m),v.length>0&&r(v),navigator.onLine){const[h,p]=await Promise.all([Wt.from("notes").select("*").eq("user_id",a.id).order("updated_at",{ascending:!1}),Wt.from("folders").select("*").eq("user_id",a.id).order("name",{ascending:!0})]);if(h.data){for(const y of h.data)await Ys("notes",y);t(h.data)}if(p.data){for(const y of p.data)await Ys("folders",y);r(p.data)}}}catch(m){console.error("Error loading notes:",m)}finally{s(!1)}},[a]);R.useEffect(()=>{l()},[l]);const c=async(m,v)=>{if(!a)return null;const h={id:crypto.randomUUID(),user_id:a.id,name:m,parent_id:v||null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(r(p=>[...p,h]),await Ys("folders",h),navigator.onLine)try{const{error:p}=await Wt.from("folders").insert(h);if(p)throw p;o({title:"Folder created",description:m})}catch{await pr("create","folders",h.id,h),o({title:"Saved offline",description:"Folder will sync when online"})}else await pr("create","folders",h.id,h);return h},u=async(m,v)=>{if(!a)return null;const h={id:crypto.randomUUID(),user_id:a.id,folder_id:v||null,title:m,content:null,ai_generated_content:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};if(t(p=>[h,...p]),await Ys("notes",h),navigator.onLine)try{const{error:p}=await Wt.from("notes").insert(h);if(p)throw p;o({title:"Note created",description:m})}catch{await pr("create","notes",h.id,h),o({title:"Saved offline",description:"Note will sync when online"})}else await pr("create","notes",h.id,h);return h},f=async(m,v)=>{if(!a)return;const h=e.find(y=>y.id===m);if(!h)return;const p={...h,...v,updated_at:new Date().toISOString()};if(t(y=>y.map(b=>b.id===m?p:b)),await Ys("notes",p),navigator.onLine)try{const{error:y}=await Wt.from("notes").update({title:p.title,content:p.content,ai_generated_content:p.ai_generated_content,folder_id:p.folder_id}).eq("id",m).eq("user_id",a.id);if(y)throw y}catch{await pr("update","notes",m,p)}else await pr("update","notes",m,p)};return{notes:e,folders:n,loading:i,createFolder:c,createNote:u,updateNote:f,deleteNote:async m=>{if(a)if(t(v=>v.filter(h=>h.id!==m)),await gw("notes",m),navigator.onLine)try{await Wt.from("notes").delete().eq("id",m).eq("user_id",a.id),o({title:"Note deleted"})}catch{await pr("delete","notes",m,{})}else await pr("delete","notes",m,{})},deleteFolder:async m=>{if(!a)return;const v=e.filter(h=>h.folder_id===m);for(const h of v)await f(h.id,{folder_id:null});if(r(h=>h.filter(p=>p.id!==m)),await gw("folders",m),navigator.onLine)try{await Wt.from("folders").delete().eq("id",m).eq("user_id",a.id),o({title:"Folder deleted"})}catch{await pr("delete","folders",m,{})}else await pr("delete","folders",m,{})},reload:l}}const Yd=15,zX=()=>{const{user:e,signOut:t}=tl(),{toast:n}=Qo(),{createNote:r}=aL(),[i,s]=R.useState(!1),[a,o]=R.useState(""),[l,c]=R.useState(!1),[u,f]=R.useState(!0),[g,d]=R.useState(""),[m,v]=R.useState([]),[h,p]=R.useState(!1),[y,b]=R.useState(0),[k,L]=R.useState([]),[j,D]=R.useState([]),[q,z]=R.useState(!1),ee=R.useRef(null),$=R.useRef([]),H=R.useRef(null),ae=e?.id?`flowmate_${e.id}_`:"flowmate_";R.useEffect(()=>{(async()=>{if(!e){f(!1);return}try{const{data:te,error:E}=await Wt.from("user_settings").select("gemini_api_key").eq("user_id",e.id).single();E&&E.code!=="PGRST116"&&console.error("Error checking API key:",E);const T=!!te?.gemini_api_key;s(T),T||c(!0)}catch(te){console.error("Error checking API key:",te)}finally{f(!1)}})()},[e]),R.useEffect(()=>{if(!e)return;const Z=JSON.parse(localStorage.getItem(`${ae}saved_guides`)||"[]");D(Z)},[e,ae]);const Y=async()=>{if(!(!e||!a.trim()))try{const{data:Z}=await Wt.from("user_settings").select("id").eq("user_id",e.id).single();if(Z){const{error:te}=await Wt.from("user_settings").update({gemini_api_key:a.trim()}).eq("user_id",e.id);if(te)throw te}else{const{error:te}=await Wt.from("user_settings").insert({user_id:e.id,gemini_api_key:a.trim()});if(te)throw te}s(!0),o(""),c(!1),n({title:"API key saved securely!",description:"Your key is stored encrypted in the database"})}catch(Z){console.error("Error saving API key:",Z),n({title:"Failed to save API key",variant:"destructive"})}},Q=async()=>{if(e)try{const{error:Z}=await Wt.from("user_settings").update({gemini_api_key:null}).eq("user_id",e.id);if(Z)throw Z;s(!1),n({title:"API key removed"})}catch(Z){console.error("Error clearing API key:",Z),n({title:"Failed to clear API key",variant:"destructive"})}};R.useEffect(()=>{H.current&&(H.current.scrollTop=H.current.scrollHeight)},[m,h]);const ie=()=>{if(m.length===0){n({title:"No messages to export",variant:"destructive"});return}const Z=new yt;let te=20;const E=Z.internal.pageSize.getWidth(),T=15,S=E-T*2;Z.setFont("helvetica","bold"),Z.setFontSize(22),Z.setTextColor(67,56,202),Z.text("FLOWMATE STUDY GUIDE",T,te),te+=15,m.forEach(O=>{Z.setFont("helvetica","bold"),Z.setFontSize(10),Z.setTextColor(O.role==="user"?79:30,O.role==="user"?70:41,O.role==="user"?229:59),Z.text(O.role==="user"?"QUERY":"STUDY NOTE",T,te),te+=6,Z.setFont("helvetica","normal"),Z.setFontSize(11),Z.setTextColor(30,41,59),Z.splitTextToSize(O.content,S).forEach(M=>{te>280&&(Z.addPage(),te=20),Z.text(M,T,te),te+=6}),te+=6});const _=`Flowmate_Guide_${Date.now()}.pdf`;Z.save(_);const P=[{id:Date.now(),name:_,date:new Date().toLocaleString(),messages:[...m]},...j];D(P),localStorage.setItem(`${ae}saved_guides`,JSON.stringify(P)),n({title:"PDF exported!",description:_})},fe=y>=Yd,W=async()=>{if(m.length===0){n({title:"No conversation to save",variant:"destructive"});return}const Z=m.map(T=>`${T.role==="user"?"YOU":"FLOWMATE"}:
${T.content}`).join(`

---

`),te=`Flowmate Chat - ${new Date().toLocaleDateString()}`,E=await r(te);E&&(await Wt.from("notes").update({content:Z,ai_generated_content:m.filter(T=>T.role==="assistant").map(T=>T.content).join(`

---

`)}).eq("id",E.id),n({title:"Saved to Notes!",description:"Find it in your Notes tab"}))},se=async()=>{if(!(!g&&k.length===0)){if(!i){c(!0),n({title:"API key required",description:"Please enter your Gemini API key",variant:"destructive"});return}if(fe){n({title:"Daily limit reached",description:`You've used all ${Yd} requests for today. Try again tomorrow!`,variant:"destructive"});return}p(!0);try{const{data:Z,error:te}=await Wt.from("user_settings").select("gemini_api_key").eq("user_id",e.id).single();if(te||!Z?.gemini_api_key){s(!1),c(!0),n({title:"API key required",description:"Please enter your Gemini API key",variant:"destructive"});return}const E=Z.gemini_api_key,T=m.map(U=>({role:U.role==="user"?"user":"model",parts:[{text:U.content}]})),S=[{text:g||"Summarize the context."}];for(const U of k)U.type==="image"||U.type==="audio"?S.push({inlineData:{mimeType:U.mime,data:U.data}}):U.type==="pdf"&&S.push({text:`

[${U.name}]:
${U.data}`});const _=`You are Flowmate, a personalized student companion for ${e?.email||"the student"}. 

CRITICAL FORMATTING RULES (YOU MUST FOLLOW THESE EXACTLY):
 Provide ALL responses in PLAIN TEXT ONLY
 Do NOT use Markdown (no asterisks ** for bolding, no # for headings)
 Do NOT use LaTeX (no dollar signs $, no \\text blocks)
 Do NOT use HTML tags

FOR HEADINGS:
 Use ALL CAPS on a new line for main headings
 Add a blank line before and after headings

FOR LISTS:
 Use '' bullet points for all unordered lists
 Use '1.' '2.' '3.' for numbered lists
 Each list item on its own line

FOR CHEMICAL/MATH FORMULAS:
 Use standard text with Unicode subscripts: CO, HO, O, CHO
 Write equations in plain text: 6CO + 6HO + Light Energy  CHO + 6O
 Use  for arrows,   for superscripts,   for subscripts

FOR EMPHASIS:
 Use ALL CAPS for important terms instead of bold
 Use quotation marks for definitions

Be encouraging, academic, and helpful. Structure your responses clearly.`,P=await(await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${E}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[...T,{role:"user",parts:S}],systemInstruction:{parts:[{text:_}]}})})).json();if(P.error){if(P.error.code===400||P.error.message?.includes("API key")){s(!1),c(!0),n({title:"Invalid API key",description:"Please check your Gemini API key",variant:"destructive"});return}throw new Error(P.error.message||"AI service error")}const O=P.candidates?.[0]?.content?.parts?.[0]?.text||"No response generated";b(U=>U+1),v(U=>[...U,{role:"user",content:g||"Attachment analysis"},{role:"assistant",content:O}]),d(""),L([])}catch(Z){console.error("AI Error:",Z);const te=Z instanceof Error?Z.message:"Failed to get response";v(E=>[...E,{role:"user",content:g||"Attachment analysis"},{role:"assistant",content:`Error: ${te}`}]),n({title:"Error",description:te,variant:"destructive"})}finally{p(!1)}}},oe=async Z=>{const te=Z.target.files?.[0];if(te){if(te.type==="application/pdf"){try{n({title:"Processing PDF...",description:te.name});const E=await FV(te);L(T=>[...T,{type:"pdf",data:E.substring(0,3e4),name:te.name,mime:"text/plain"}]),n({title:"PDF processed",description:`Extracted ${E.length} characters`})}catch(E){console.error("PDF extraction failed:",E),n({title:"PDF extraction failed",variant:"destructive"})}return}if(te.type.startsWith("image/")){const E=new FileReader;E.onload=T=>{const S=(T.target?.result).split(",")[1];L(_=>[..._,{type:"image",data:S,name:te.name,mime:te.type}]),n({title:"Image added",description:te.name})},E.readAsDataURL(te)}Z.target.value=""}},K=async()=>{try{const Z=await navigator.mediaDevices.getUserMedia({audio:!0});ee.current=new MediaRecorder(Z),$.current=[],ee.current.ondataavailable=te=>$.current.push(te.data),ee.current.onstop=()=>{const te=new Blob($.current,{type:"audio/wav"}),E=new FileReader;E.onloadend=()=>{const T=E.result.split(",")[1];L(S=>[...S,{type:"audio",data:T,name:"Voice Note",mime:"audio/wav"}]),n({title:"Voice note added"})},E.readAsDataURL(te),Z.getTracks().forEach(T=>T.stop())},ee.current.start(),z(!0)}catch(Z){console.error("Recording failed:",Z),n({title:"Microphone access denied",variant:"destructive"})}},B=()=>{ee.current&&q&&(ee.current.stop(),z(!1))},X=Z=>{const te=j.filter(E=>E.id!==Z);D(te),localStorage.setItem(`${ae}saved_guides`,JSON.stringify(te))},ne=()=>{v([]),L([]),n({title:"Conversation cleared"})};return u?x.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-200px)] bg-background",children:x.jsx(sa,{className:"animate-spin text-primary",size:32})}):x.jsxs("div",{className:"flex flex-col h-[calc(100vh-200px)] bg-background text-foreground overflow-hidden rounded-2xl border border-border",children:[x.jsxs("nav",{className:"p-4 bg-card border-b border-border flex justify-between items-center shrink-0",children:[x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsx("div",{className:"p-2 bg-primary rounded-xl text-primary-foreground shadow-lg",children:x.jsx(m4,{size:22})}),x.jsxs("div",{children:[x.jsx("h1",{className:"font-bold text-foreground leading-none",children:"Flowmate AI"}),x.jsx("p",{className:"text-[10px] text-muted-foreground font-medium uppercase tracking-wider mt-1",children:"Student Companion"})]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[m.length>0&&x.jsxs(x.Fragment,{children:[x.jsx(Qt,{variant:"ghost",size:"icon",onClick:W,title:"Save to Notes",children:x.jsx(zO,{size:18})}),x.jsx(Qt,{variant:"ghost",size:"icon",onClick:ie,title:"Export PDF",children:x.jsx(AO,{size:20})}),x.jsx(Qt,{variant:"ghost",size:"icon",onClick:ne,title:"Clear",children:x.jsx(dg,{size:18})})]}),x.jsxs(Qt,{variant:"ghost",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2",children:[x.jsxs("div",{className:"text-right hidden sm:block",children:[x.jsx("p",{className:"text-xs font-bold text-foreground",children:e?.user_metadata?.full_name||e?.email?.split("@")[0]||"Guest"}),x.jsx("p",{className:"text-[10px] text-muted-foreground",children:"Settings & Logs"})]}),e?.user_metadata?.avatar_url?x.jsx("img",{src:e.user_metadata.avatar_url,className:"w-8 h-8 rounded-full border border-border",alt:"user"}):x.jsx("div",{className:"w-8 h-8 rounded-full bg-muted flex items-center justify-center text-muted-foreground border border-border",children:x.jsx(WO,{size:16})})]})]})]}),l&&x.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-md z-50 flex items-center justify-center p-4",children:x.jsxs("div",{className:"bg-card rounded-3xl shadow-2xl w-full max-w-md overflow-hidden animate-in fade-in zoom-in duration-200 border border-border",children:[x.jsxs("div",{className:"p-6 bg-primary text-primary-foreground flex justify-between items-center",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-lg font-bold",children:"Personal Portal"}),x.jsxs("p",{className:"text-xs opacity-80",children:["Synced with ",e?.email||"Local Account"]})]}),x.jsx(Qt,{variant:"ghost",size:"icon",onClick:()=>c(!1),className:"text-primary-foreground hover:bg-primary-foreground/10",children:x.jsx(Fh,{size:18})})]}),x.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[x.jsxs("div",{className:"p-4 bg-muted rounded-xl",children:[x.jsxs("div",{className:"flex justify-between items-center mb-2",children:[x.jsx("p",{className:"text-xs text-muted-foreground",children:"Today's Usage"}),x.jsxs("p",{className:"text-xs font-medium text-muted-foreground",children:[y," / ",Yd]})]}),x.jsx("div",{className:"w-full bg-border rounded-full h-2 mb-2",children:x.jsx("div",{className:`h-2 rounded-full transition-all ${fe?"bg-destructive":"bg-primary"}`,style:{width:`${Math.min(y/Yd*100,100)}%`}})}),x.jsx("p",{className:"text-xs text-muted-foreground",children:fe?" Daily limit reached. Resets at midnight.":`${Yd-y} requests remaining today`})]}),x.jsxs("div",{children:[x.jsxs("label",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest block mb-2",children:[x.jsx(b4,{size:12,className:"inline mr-1"}),"Saved Study Guides"]}),j.length===0?x.jsx("p",{className:"text-xs text-muted-foreground py-4 text-center border-2 border-dashed border-border rounded-2xl italic",children:"No study guides saved yet"}):x.jsx("div",{className:"space-y-2",children:j.map(Z=>x.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-xl border border-border group",children:[x.jsxs("div",{className:"overflow-hidden",children:[x.jsx("p",{className:"text-xs font-bold text-foreground truncate",children:Z.name}),x.jsx("p",{className:"text-[10px] text-muted-foreground",children:Z.date})]}),x.jsx(Qt,{variant:"ghost",size:"icon",onClick:()=>X(Z.id),className:"opacity-0 group-hover:opacity-100 transition-all text-muted-foreground hover:text-destructive",children:x.jsx(dg,{size:14})})]},Z.id))})]}),x.jsxs("div",{className:"pt-4 border-t border-border",children:[x.jsxs("label",{className:"text-[10px] font-bold text-muted-foreground uppercase tracking-widest block mb-2",children:[x.jsx(d_,{size:12,className:"inline mr-1"}),"Gemini API Key"]}),x.jsxs("p",{className:"text-xs text-muted-foreground mb-3",children:["Get your free API key from"," ",x.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline font-medium",children:"Google AI Studio"})]}),i?x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"p-3 bg-green-500/10 border border-green-500/20 rounded-xl",children:[x.jsx("p",{className:"text-xs text-green-600 font-medium",children:" API key configured securely"}),x.jsx("p",{className:"text-[10px] text-muted-foreground mt-1",children:"Your key is stored encrypted in the database"})]}),x.jsx(Qt,{variant:"destructive",onClick:Q,className:"w-full",children:"Remove API Key"})]}):x.jsxs(x.Fragment,{children:[x.jsx("input",{type:"password",value:a,onChange:Z=>o(Z.target.value),className:"w-full p-3 bg-muted border border-border rounded-xl text-sm focus:ring-2 focus:ring-primary focus:outline-none",placeholder:"Enter Gemini API Key"}),x.jsx(Qt,{onClick:Y,className:"w-full mt-3",disabled:!a.trim(),children:"Save Key Securely"})]})]}),x.jsxs(Qt,{variant:"ghost",onClick:t,className:"w-full text-destructive hover:bg-destructive/10",children:[x.jsx(x4,{size:16,className:"mr-2"})," Sign Out"]})]})]})}),x.jsxs("div",{ref:H,className:"flex-1 overflow-y-auto p-4 space-y-6",children:[m.length===0&&x.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center max-w-xs mx-auto animate-in fade-in slide-in-from-bottom-4",children:[x.jsx("div",{className:"w-16 h-16 bg-primary/10 text-primary rounded-3xl flex items-center justify-center mb-4",children:x.jsx(wO,{size:32})}),x.jsx("h3",{className:"font-bold text-foreground",children:"What are we studying today?"}),x.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Upload your lecture notes, record a voice memo, or just ask a question."}),!i&&x.jsxs(Qt,{variant:"outline",onClick:()=>c(!0),className:"mt-4",children:[x.jsx(d_,{size:16,className:"mr-2"})," Configure API Key to start"]})]}),m.map((Z,te)=>x.jsx("div",{className:`flex ${Z.role==="user"?"justify-end":"justify-start"}`,children:x.jsx("div",{className:`max-w-[88%] p-4 rounded-2xl shadow-sm ${Z.role==="user"?"bg-primary text-primary-foreground":"bg-card border border-border"}`,children:x.jsx("div",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:Z.content})})},te)),h&&x.jsxs("div",{className:"flex items-center gap-2 text-primary font-bold text-xs animate-pulse",children:[x.jsx(sa,{className:"animate-spin",size:14})," Thinking..."]})]}),x.jsx("div",{className:"p-4 bg-card border-t border-border shrink-0",children:x.jsxs("div",{className:"max-w-4xl mx-auto",children:[k.length>0&&x.jsx("div",{className:"flex gap-2 mb-3 overflow-x-auto py-1",children:k.map((Z,te)=>x.jsxs("div",{className:"flex items-center gap-2 bg-muted border border-border px-3 py-1 rounded-full shrink-0",children:[x.jsx("span",{className:"text-[10px] font-bold text-foreground truncate max-w-[100px]",children:Z.name}),x.jsx("button",{onClick:()=>L(E=>E.filter((T,S)=>S!==te)),children:x.jsx(Fh,{size:12})})]},te))}),x.jsxs("div",{className:"flex items-end gap-2 bg-muted rounded-[24px] p-2 pr-3 focus-within:bg-card focus-within:ring-2 focus-within:ring-primary/20 transition-all",children:[x.jsxs("label",{className:"p-2 text-muted-foreground hover:text-primary cursor-pointer",children:[x.jsx(CO,{size:20}),x.jsx("input",{type:"file",className:"hidden",onChange:oe,accept:"image/*,.pdf"})]}),x.jsx("button",{onMouseDown:K,onMouseUp:B,onMouseLeave:B,className:`p-2 rounded-full ${q?"text-destructive bg-destructive/10 animate-pulse":"text-muted-foreground hover:text-primary"}`,children:q?x.jsx($O,{size:20}):x.jsx(LO,{size:20})}),x.jsx("textarea",{className:"flex-1 bg-transparent border-none focus:ring-0 focus:outline-none text-sm py-2 max-h-32 resize-none text-foreground placeholder:text-muted-foreground",placeholder:"Message Flowmate...",rows:1,value:g,onChange:Z=>d(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&!Z.shiftKey&&(Z.preventDefault(),se())}}),x.jsx("button",{onClick:se,disabled:h||!g&&k.length===0||!i,className:"p-2 bg-primary text-primary-foreground rounded-full disabled:opacity-30 shadow-md",children:x.jsx(BO,{size:18})})]})]})})]})},qX=()=>x.jsx(zX,{}),HX=({selectedTask:e})=>{const[t,n]=R.useState(!1),[r,i]=R.useState(25*60),[s,a]=R.useState(25*60),{addXP:o,getXPPerEnergy:l}=E2(),{toggleTaskComplete:c}=rT(),{toast:u}=Qo();R.useEffect(()=>{if(e){const h=e.duration*60;i(h),a(h),n(!1)}},[e]),R.useEffect(()=>{let h=null;return t&&r>0?h=setInterval(()=>i(p=>p-1),1e3):r===0&&t&&(n(!1),f()),()=>{h&&clearInterval(h)}},[t,r]);const f=async()=>{if(e&&e.status!=="completed"){const{leveledUp:h,newLevel:p}=await o(e.energy);await c(e.id);const y=e.energy*l();u(h?{title:` Level Up! You're now Level ${p}!`,description:`+${y} XP earned from completing "${e.title}"`}:{title:"Task Complete! ",description:`+${y} XP earned`})}},g=async()=>{if(e&&e.status!=="completed"){const{leveledUp:h,newLevel:p}=await o(e.energy);await c(e.id);const y=e.energy*l();u(h?{title:` Level Up! You're now Level ${p}!`,description:`+${y} XP earned`}:{title:"Task Complete! ",description:`+${y} XP earned`}),n(!1)}},d=h=>{const p=Math.floor(h/60),y=h%60;return`${p}:${y.toString().padStart(2,"0")}`},m=()=>{i(s),n(!1)},v=s>0?(s-r)/s*100:0;return x.jsxs("div",{className:"flex flex-col items-center justify-center py-8 sm:py-12 space-y-6 sm:space-y-8 animate-zoom-in px-4 pb-28",children:[x.jsx("div",{className:"w-full max-w-xs",children:x.jsx(XP,{})}),x.jsxs("div",{className:"relative group",children:[x.jsx("div",{className:"absolute -inset-8 bg-primary/10 rounded-full blur-3xl group-hover:bg-primary/20 transition duration-1000"}),x.jsxs("div",{className:"relative text-center",children:[x.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.3em] text-primary opacity-60",children:"Focus Block"}),x.jsx("h2",{className:"text-6xl sm:text-8xl font-black text-foreground font-mono mt-4 tabular-nums tracking-tighter",children:d(r)}),x.jsx("div",{className:"mt-4 w-full max-w-xs mx-auto h-2 bg-secondary rounded-full overflow-hidden",children:x.jsx("div",{className:"h-full bg-primary transition-all duration-1000",style:{width:`${v}%`}})}),e&&x.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[e.duration," min session  ",e.energy," = ",e.energy*l()," XP"]})]})]}),e?x.jsxs("div",{className:"bg-card p-4 sm:p-5 rounded-pill shadow-elevated border border-border/50 w-full max-w-xs flex items-center gap-4 animate-slide-up",children:[x.jsx("div",{className:"bg-primary p-3 rounded-pill-sm text-primary-foreground shadow-glow flex-shrink-0",children:x.jsx(v4,{size:24})}),x.jsxs("div",{className:"min-w-0 flex-1",children:[x.jsx("p",{className:"text-[10px] text-muted-foreground font-black uppercase tracking-widest",children:"Active Task"}),x.jsx("p",{className:"font-bold text-foreground text-sm leading-tight mt-1 truncate",children:e.title}),x.jsxs("p",{className:"text-[10px] text-muted-foreground mt-0.5",children:[e.due,"  ",e.energy,""]})]})]}):x.jsx("div",{className:"bg-card/50 p-5 rounded-pill border border-dashed border-border w-full max-w-xs text-center",children:x.jsx("p",{className:"text-sm text-muted-foreground",children:"Tap a task from Dashboard to start focusing"})}),x.jsxs("div",{className:"flex gap-4 sm:gap-6 relative",children:[x.jsx("button",{onClick:()=>n(!t),disabled:!e,className:`w-16 h-16 sm:w-20 sm:h-20 rounded-pill flex items-center justify-center text-primary-foreground transition-all shadow-elevated ${e?t?"bg-amber-500 hover:bg-amber-600":"bg-primary hover:opacity-90 shadow-glow":"bg-muted cursor-not-allowed"}`,children:t?x.jsx(MO,{size:28,className:"sm:w-8 sm:h-8"}):x.jsx(OO,{size:28,className:"ml-1 sm:w-8 sm:h-8"})}),x.jsx("button",{onClick:m,disabled:!e,className:`w-16 h-16 sm:w-20 sm:h-20 rounded-pill flex items-center justify-center transition border shadow-soft ${e?"bg-card text-muted-foreground hover:bg-secondary border-border":"bg-muted cursor-not-allowed text-muted-foreground border-muted"}`,children:x.jsx(DO,{size:24,className:"sm:w-7 sm:h-7"})}),e&&e.status!=="completed"&&x.jsx("button",{onClick:g,className:"w-16 h-16 sm:w-20 sm:h-20 rounded-pill flex items-center justify-center transition border shadow-soft bg-green-500 hover:bg-green-600 text-white",title:"Mark as complete and earn XP",children:x.jsx(HO,{size:24,className:"sm:w-7 sm:h-7"})})]})]})};function WX(){const[e,t]=R.useState([]),[n,r]=R.useState(null),[i,s]=R.useState(!0),{user:a}=tl(),{toast:o}=Qo(),l=()=>new Date().toISOString().split("T")[0],c=R.useCallback(async()=>{if(!a){t([]),r(null),s(!1);return}try{const f=await Zh("dailySyncs",a.id);if(f.length>0){t(f.sort((d,m)=>new Date(m.sync_date).getTime()-new Date(d.sync_date).getTime()));const g=l();r(f.find(d=>d.sync_date===g)||null)}if(navigator.onLine){const{data:g,error:d}=await Wt.from("daily_syncs").select("*").eq("user_id",a.id).order("sync_date",{ascending:!1});if(d)throw d;const m=g||[];for(const h of m)await Ys("dailySyncs",h);t(m);const v=l();r(m.find(h=>h.sync_date===v)||null)}}catch(f){console.error("Error loading daily syncs:",f)}finally{s(!1)}},[a]);return R.useEffect(()=>{c()},[c]),{syncs:e,todaySync:n,loading:i,saveSync:async(f,g)=>{if(!a)return null;const d=l(),m={id:n?.id||crypto.randomUUID(),user_id:a.id,energy_level:f,reflection:g||null,sync_date:d,created_at:n?.created_at||new Date().toISOString()};if(r(m),t(v=>{const h=v.filter(p=>p.sync_date!==d);return[m,...h]}),await Ys("dailySyncs",m),navigator.onLine)try{if(n){const{error:v}=await Wt.from("daily_syncs").update({energy_level:f,reflection:g||null}).eq("id",m.id).eq("user_id",a.id);if(v)throw v}else{const{error:v}=await Wt.from("daily_syncs").insert({id:m.id,user_id:a.id,energy_level:f,reflection:g||null,sync_date:d});if(v)throw v}o({title:"Daily sync saved! ",description:"Your check-in has been recorded"})}catch(v){console.error("Error saving sync to server:",v),await pr(n?"update":"create","daily_syncs",m.id,m),o({title:"Saved offline",description:"Will sync when you're back online"})}else await pr(n?"update":"create","daily_syncs",m.id,m),o({title:"Saved offline",description:"Will sync when you're back online"});return m},reload:c}}const lk={1:["Rest is not a sign of weakness. It's preparation for greatness.","Even the smallest step forward is still progress.","Be gentle with yourself. You're doing the best you can.","Low energy days are part of the journey. Tomorrow is a new opportunity.","Take care of yourself first. Everything else can wait.","It's okay to slow down. The race isn't going anywhere."],2:["Small victories lead to big changes. Keep going.","You don't have to be perfect to be amazing.","One thing at a time. That's all it takes.","Your pace doesn't matter. Forward is forward.","Give yourself permission to take it easy today.","Progress isn't always visible, but it's always happening."],3:["You're right where you need to be. Trust the process.","Consistency beats intensity. Keep showing up.","Good things come to those who work for them.","Balance is the key to everything. You've got this.","Today's effort is tomorrow's strength.","Stay focused, stay humble, stay hungry."],4:["Your energy is contagious! Use it wisely.","Today is your day to make things happen!","Channel this energy into something incredible.","The only limit is the one you set for yourself.","Success is built on days like today. Maximize it!","You're unstoppable when you believe in yourself."],5:["You're operating at peak performance! Nothing can stop you!","This is your moment. Seize it with everything you have!","Legends are made on days like today. Go make history!","Your potential is limitless. Show the world what you're made of!","Peak energy, peak focus, peak results. Let's go!","Today you're not just reaching goalsyou're crushing them!"]};function VX(e){const t=lk[e]||lk[3],n=Math.floor(Math.random()*t.length);return t[n]}const GX=()=>{const{syncs:e,todaySync:t,loading:n,saveSync:r}=WX(),[i,s]=R.useState(3),[a,o]=R.useState(""),[l,c]=R.useState(!1),[u,f]=R.useState(!1),[g,d]=R.useState(!1),[m,v]=R.useState(null);R.useEffect(()=>{t&&(s(t.energy_level),o(t.reflection||""))},[t]);const h=async()=>{f(!0);try{await r(i,a),d(!0),v(VX(i)),window.dispatchEvent(new CustomEvent("energy-updated")),setTimeout(()=>d(!1),2e3)}finally{f(!1)}},p=k=>new Date(k).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),y=k=>["","Very Low","Low","Balanced","High","Peak"][k]||"",b=k=>["","","","","",""][k]||"";return n?x.jsx("div",{className:"max-w-md mx-auto flex items-center justify-center py-12",children:x.jsx(sa,{className:"animate-spin text-muted-foreground"})}):x.jsxs("div",{className:"max-w-md mx-auto space-y-6 sm:space-y-10 py-4 sm:py-6 animate-fade-in pb-28 px-2 sm:px-0",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-foreground",children:"Check-in"}),x.jsx("p",{className:"text-muted-foreground text-[9px] sm:text-[10px] font-bold mt-1 uppercase tracking-[0.2em] sm:tracking-[0.3em]",children:"Sync your energy state"})]}),x.jsxs("div",{className:"space-y-8",children:[x.jsxs("div",{children:[x.jsx("div",{className:"flex justify-between items-center gap-1.5 sm:gap-2",children:[1,2,3,4,5].map(k=>x.jsx("button",{onClick:()=>{s(k),v(null)},className:`w-12 h-12 sm:w-14 sm:h-14 rounded-full font-black text-base sm:text-lg transition-all min-h-[48px] ${i===k?"bg-primary text-primary-foreground scale-110 shadow-glow":"bg-card text-muted-foreground hover:text-foreground shadow-soft border border-border"}`,children:k},k))}),x.jsxs("div",{className:"flex justify-between text-[9px] sm:text-[10px] text-muted-foreground mt-4 sm:mt-6 px-1 font-bold uppercase tracking-widest opacity-60",children:[x.jsx("span",{children:"Low"}),x.jsx("span",{children:"Peak"})]}),x.jsxs("div",{className:"text-center mt-2",children:[x.jsx("span",{className:"text-2xl",children:b(i)}),x.jsx("span",{className:"ml-2 text-sm font-bold text-foreground",children:y(i)})]})]}),m&&x.jsx("div",{className:"bg-gradient-to-br from-primary/10 to-primary/5 p-6 rounded-pill border border-primary/20 animate-fade-in",children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"p-2 bg-primary/20 rounded-full",children:x.jsx(ug,{size:20,className:"text-primary"})}),x.jsxs("div",{children:[x.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-primary mb-2",children:"Your Daily Motivation"}),x.jsxs("blockquote",{className:"text-sm font-medium text-foreground italic leading-relaxed",children:['"',m,'"']})]})]})}),x.jsxs("div",{className:"bg-card p-8 rounded-pill shadow-elevated border border-border/50 space-y-6",children:[x.jsxs("div",{className:"space-y-2",children:[x.jsx("label",{className:"text-[10px] font-black text-muted-foreground uppercase tracking-widest block ml-1",children:"Today's Reflection"}),x.jsx("textarea",{className:"w-full bg-secondary/50 p-5 rounded-pill-sm border-none text-sm outline-none focus:ring-2 focus:ring-primary/20 placeholder:text-muted-foreground/50 resize-none h-32",placeholder:"Wins, challenges, or thoughts...",value:a,onChange:k=>o(k.target.value)})]}),x.jsxs(Qt,{onClick:h,disabled:u,className:"w-full py-4 rounded-pill font-black text-sm shadow-elevated",children:[u?x.jsx(sa,{className:"animate-spin mr-2",size:16}):g?x.jsx(_O,{className:"mr-2",size:16}):null,g?"Saved!":"Complete Daily Sync"]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("button",{onClick:()=>c(!l),className:"w-full flex items-center justify-between px-4 py-3 bg-card rounded-pill-sm border border-border/50 hover:border-primary/30 transition",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(b4,{size:16,className:"text-muted-foreground"}),x.jsx("span",{className:"text-sm font-bold",children:"Sync History"})]}),l?x.jsx(Qb,{size:16}):x.jsx(u0,{size:16})]}),l&&x.jsx("div",{className:"space-y-2 animate-fade-in",children:e.length===0?x.jsx("p",{className:"text-center text-muted-foreground text-sm py-4",children:"No syncs yet. Start your first check-in!"}):e.slice(0,7).map(k=>x.jsxs("div",{className:"flex items-center justify-between p-4 bg-secondary/30 rounded-lg",children:[x.jsxs("div",{children:[x.jsx("p",{className:"text-sm font-medium",children:p(k.sync_date)}),k.reflection&&x.jsx("p",{className:"text-xs text-muted-foreground line-clamp-1 mt-1",children:k.reflection})]}),x.jsx("div",{className:"flex items-center gap-1",children:[1,2,3,4,5].map(L=>x.jsx("div",{className:`w-2 h-2 rounded-full ${L<=k.energy_level?"bg-primary":"bg-muted"}`},L))})]},k.id))})]})]})]})},YX=()=>{const{notes:e,folders:t,loading:n,createFolder:r,createNote:i,updateNote:s,deleteNote:a,deleteFolder:o}=aL(),[l,c]=R.useState(null),[u,f]=R.useState(null),[g,d]=R.useState(!1),[m,v]=R.useState(!1),[h,p]=R.useState(""),[y,b]=R.useState(""),[k,L]=R.useState(""),[j,D]=R.useState(!1),q=async()=>{h.trim()&&(await r(h.trim()),p(""),d(!1))},z=async()=>{if(!y.trim())return;const ae=await i(y.trim(),u||void 0);ae&&(c(ae),L("")),b(""),v(!1)},ee=async()=>{l&&await s(l.id,{content:k})},$=ae=>{c(ae),L(ae.content||""),D(!1)},H=u?e.filter(ae=>ae.folder_id===u):e.filter(ae=>!ae.folder_id);return n?x.jsx("div",{className:"flex items-center justify-center py-12",children:x.jsx(sa,{className:"animate-spin text-muted-foreground"})}):x.jsxs("div",{className:"pb-28 animate-fade-in",children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Notes"}),x.jsx("p",{className:"text-xs text-muted-foreground font-medium tracking-tight",children:"Organize your thoughts"})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsxs(tf,{open:g,onOpenChange:d,children:[x.jsx(Cg,{asChild:!0,children:x.jsxs(Qt,{variant:"outline",size:"sm",className:"gap-1",children:[x.jsx(EO,{size:14}),x.jsx("span",{className:"hidden sm:inline",children:"Folder"})]})}),x.jsxs(Iu,{children:[x.jsx(Mu,{children:x.jsx(Ou,{children:"New Folder"})}),x.jsxs("div",{className:"space-y-4 mt-4",children:[x.jsx(Cs,{placeholder:"Folder name...",value:h,onChange:ae=>p(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&q()}),x.jsx(Qt,{onClick:q,className:"w-full",children:"Create Folder"})]})]})]}),x.jsxs(tf,{open:m,onOpenChange:v,children:[x.jsx(Cg,{asChild:!0,children:x.jsxs(Qt,{size:"sm",className:"gap-1",children:[x.jsx(kO,{size:14}),x.jsx("span",{className:"hidden sm:inline",children:"Note"})]})}),x.jsxs(Iu,{children:[x.jsx(Mu,{children:x.jsx(Ou,{children:"New Note"})}),x.jsxs("div",{className:"space-y-4 mt-4",children:[x.jsx(Cs,{placeholder:"Note title...",value:y,onChange:ae=>b(ae.target.value),onKeyDown:ae=>ae.key==="Enter"&&z()}),x.jsx(Qt,{onClick:z,className:"w-full",children:"Create Note"})]})]})]})]})]}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x.jsxs("div",{className:"space-y-3",children:[x.jsxs("button",{onClick:()=>{f(null),c(null)},className:`w-full flex items-center gap-2 p-3 rounded-lg transition ${!u&&!l?"bg-primary/10 text-primary":"bg-card hover:bg-secondary/50"}`,children:[x.jsx(Ky,{size:16}),x.jsx("span",{className:"text-sm font-medium",children:"All Notes"}),x.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:e.filter(ae=>!ae.folder_id).length})]}),t.map(ae=>x.jsx("div",{className:"group",children:x.jsxs("button",{onClick:()=>{f(ae.id),c(null)},className:`w-full flex items-center gap-2 p-3 rounded-lg transition ${u===ae.id?"bg-primary/10 text-primary":"bg-card hover:bg-secondary/50"}`,children:[x.jsx(NO,{size:16}),x.jsx("span",{className:"text-sm font-medium truncate",children:ae.name}),x.jsx("span",{className:"ml-auto text-xs text-muted-foreground",children:e.filter(Y=>Y.folder_id===ae.id).length}),x.jsx("button",{onClick:Y=>{Y.stopPropagation(),o(ae.id)},className:"opacity-0 group-hover:opacity-100 p-1 hover:text-destructive transition",children:x.jsx(dg,{size:12})})]})},ae.id)),x.jsx("div",{className:"border-t pt-3 space-y-1",children:H.map(ae=>x.jsxs("button",{onClick:()=>$(ae),className:`w-full flex items-center gap-2 p-2 rounded-lg text-left transition group ${l?.id===ae.id?"bg-primary text-primary-foreground":"hover:bg-secondary/50"}`,children:[x.jsx(Jb,{size:14,className:`transition ${l?.id===ae.id?"rotate-90":""}`}),x.jsx("span",{className:"text-sm truncate flex-1",children:ae.title}),ae.ai_generated_content&&x.jsx(h_,{size:12,className:"text-purple-500"})]},ae.id))})]}),x.jsx("div",{className:"md:col-span-2",children:l?x.jsxs("div",{className:"bg-card rounded-xl border p-4 space-y-4",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h3",{className:"font-bold text-lg",children:l.title}),x.jsxs("div",{className:"flex gap-2",children:[l.ai_generated_content&&x.jsxs(Qt,{variant:j?"default":"outline",size:"sm",onClick:()=>D(!j),className:"gap-1",children:[x.jsx(h_,{size:14}),"AI Output"]}),x.jsxs(Qt,{size:"sm",onClick:ee,className:"gap-1",children:[x.jsx(FO,{size:14}),"Save"]}),x.jsx(Qt,{variant:"ghost",size:"icon",onClick:()=>{a(l.id),c(null)},className:"text-muted-foreground hover:text-destructive",children:x.jsx(dg,{size:14})})]})]}),j&&l.ai_generated_content?x.jsxs("div",{className:"bg-purple-50 dark:bg-purple-950/20 p-4 rounded-lg border border-purple-200 dark:border-purple-900",children:[x.jsx("p",{className:"text-[10px] font-bold text-purple-600 uppercase tracking-widest mb-2",children:"AI Generated Content"}),x.jsx("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:l.ai_generated_content})]}):x.jsx("textarea",{value:k,onChange:ae=>L(ae.target.value),placeholder:"Start writing...",className:"w-full h-64 bg-secondary/30 rounded-lg p-4 resize-none outline-none focus:ring-2 focus:ring-primary/20"})]}):x.jsxs("div",{className:"bg-card rounded-xl border p-8 flex flex-col items-center justify-center text-center h-64",children:[x.jsx(Ky,{size:48,className:"text-muted-foreground/30 mb-4"}),x.jsx("p",{className:"text-muted-foreground",children:"Select a note or create a new one"})]})})]})]})};let Z1=!1;const ck=async()=>{if(!(Z1||!navigator.onLine)){Z1=!0;try{const e=await z3();for(const t of e)try{switch(t.operation){case"create":await KX(t.table_name,t.data);break;case"update":await XX(t.table_name,t.record_id,t.data);break;case"delete":await ZX(t.table_name,t.record_id);break}await qB(t.id)}catch(n){console.error(`Sync failed for operation ${t.id}:`,n)}await HB()}finally{Z1=!1}}},KX=async(e,t)=>{const{error:n}=await Wt.from(e).insert(t);if(n){if(n.code==="23505")return;throw n}},XX=async(e,t,n)=>{const{user_id:r,id:i,created_at:s,...a}=n,{error:o}=await Wt.from(e).update(a).eq("id",t);if(o)throw o},ZX=async(e,t)=>{const{error:n}=await Wt.from(e).delete().eq("id",t);if(n&&n.code!=="PGRST116")throw n},JX=()=>{const e=()=>{console.log("Back online, processing sync queue..."),ck()};return window.addEventListener("online",e),navigator.onLine&&ck(),()=>{window.removeEventListener("online",e)}},QX=()=>{const[e,t]=R.useState("dashboard"),[n,r]=R.useState(null);R.useEffect(()=>JX(),[]),R.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").catch(s=>{console.error("Service worker registration failed:",s)})},[]);const i=s=>{r(s),t("focus")};return x.jsx("div",{className:"min-h-screen bg-background text-foreground font-sans selection:bg-primary/10 selection:text-primary",children:x.jsxs("div",{className:"max-w-4xl mx-auto flex flex-col min-h-screen relative",children:[x.jsx(dz,{}),x.jsxs("main",{className:"flex-1 px-4 md:px-6 pt-8",children:[e==="dashboard"&&x.jsx(LV,{onTaskClick:i}),e==="ai"&&x.jsx(qX,{}),e==="focus"&&x.jsx(HX,{selectedTask:n}),e==="checkin"&&x.jsx(GX,{}),e==="notes"&&x.jsx(YX,{})]}),x.jsx(fz,{currentView:e,onViewChange:t})]})})};var eZ="authorization_response",tZ="/~oauth/initiate",nZ=["https://oauth.lovable.app"];function rZ(e){let t;const n=new Promise(s=>{t=s}),r=s=>{if(!e.some(l=>s.origin===l))return;const o=s.data;!o||typeof o!="object"||o.type===eZ&&t(o.response)},i=()=>{window.removeEventListener("message",r)};return window.addEventListener("message",r),{cleanup:i,messagePromise:n}}function iZ(e){const t=window.screenX!==0||window.screenY!==0||!e,n=t?window.outerWidth*.5:window.screen.width*.5,r=t?window.outerHeight*.5:window.screen.height*.5,i=t?window.screenX+(window.outerWidth-n)/2:(window.screen.width-n)/2,s=t?window.screenY+(window.outerHeight-r)/2:(window.screen.height-r)/2;return{width:n,height:r,left:i,top:s}}function sZ(){return typeof crypto<"u"&&crypto.getRandomValues?[...crypto.getRandomValues(new Uint8Array(16))].map(e=>e.toString(16).padStart(2,"0")).join(""):Math.random().toString(36).substring(2)+Date.now().toString(36)}function aZ(e={}){const t=e.oauthBrokerUrl??tZ,n=e.supportedOAuthOrigins??nZ;async function r(i,s={}){let a=!1;try{a=window.self!==window.top}catch{a=!0}const o=sZ(),l=s.redirect_uri??window.location.origin,c=new URLSearchParams({provider:i,redirect_uri:l,state:o,...s.extraParams});if(!a)return window.location.href=`${t}?${c.toString()}`,{error:null,redirected:!0};c.set("response_mode","web_message");const u=`${t}?${c.toString()}`,{messagePromise:f,cleanup:g}=rZ(n),d=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent);let m;if(d)m=window.open(u,"_blank");else{const{width:p,height:y,left:b,top:k}=iZ(a);m=window.open(u,"oauth",`width=${p},height=${y},left=${b},top=${k}`)}if(!m)return g(),{error:new Error("Popup was blocked")};let v;const h=new Promise((p,y)=>{v=setInterval(()=>{m.closed&&(clearInterval(v),y(new Error("Sign in was cancelled")))},500)});try{const p=await Promise.race([f,h]);return p.error?p.error==="legacy_flow"?{error:new Error("This flow is not supported in Preview mode. Please open the app in a new tab to sign in.")}:{error:new Error(p.error_description??"Sign in failed")}:p.state!==o?{error:new Error("State is invalid")}:!p.access_token||!p.refresh_token?{error:new Error("No tokens received")}:{tokens:{access_token:p.access_token,refresh_token:p.refresh_token},error:null}}catch(p){return{error:p instanceof Error?p:new Error(String(p))}}finally{clearInterval(v),g(),m?.close()}}return{signInWithOAuth:r}}function oZ(e){return aZ(e)}const lZ=oZ({}),cZ={auth:{signInWithOAuth:async(e,t)=>{const n=await lZ.signInWithOAuth(e,{...t});if(n.redirected||n.error)return n;try{await Wt.auth.setSession(n.tokens)}catch(r){return{error:r instanceof Error?r:new Error(String(r))}}return n}}};var rn;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(const a of i)if(s(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(rn||(rn={}));var uk;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(uk||(uk={}));const ct=rn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wo=e=>{switch(typeof e){case"undefined":return ct.undefined;case"string":return ct.string;case"number":return Number.isNaN(e)?ct.nan:ct.number;case"boolean":return ct.boolean;case"function":return ct.function;case"bigint":return ct.bigint;case"symbol":return ct.symbol;case"object":return Array.isArray(e)?ct.array:e===null?ct.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ct.promise:typeof Map<"u"&&e instanceof Map?ct.map:typeof Set<"u"&&e instanceof Set?ct.set:typeof Date<"u"&&e instanceof Date?ct.date:ct.object;default:return ct.unknown}},Ve=rn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ts extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(t){if(!(t instanceof Ts))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ts.create=e=>new Ts(e);const Vw=(e,t)=>{let n;switch(e.code){case Ve.invalid_type:e.received===ct.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case Ve.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,rn.jsonStringifyReplacer)}`;break;case Ve.unrecognized_keys:n=`Unrecognized key(s) in object: ${rn.joinValues(e.keys,", ")}`;break;case Ve.invalid_union:n="Invalid input";break;case Ve.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${rn.joinValues(e.options)}`;break;case Ve.invalid_enum_value:n=`Invalid enum value. Expected ${rn.joinValues(e.options)}, received '${e.received}'`;break;case Ve.invalid_arguments:n="Invalid function arguments";break;case Ve.invalid_return_type:n="Invalid function return type";break;case Ve.invalid_date:n="Invalid date";break;case Ve.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:rn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case Ve.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case Ve.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case Ve.custom:n="Invalid input";break;case Ve.invalid_intersection_types:n="Intersection results could not be merged";break;case Ve.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case Ve.not_finite:n="Number must be finite";break;default:n=t.defaultError,rn.assertNever(e)}return{message:n}};let uZ=Vw;function dZ(){return uZ}const hZ=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}};function tt(e,t){const n=dZ(),r=hZ({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Vw?void 0:Vw].filter(i=>!!i)});e.common.issues.push(r)}class Ii{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return Mt;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Ii.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return Mt;s.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:t.value,value:r}}}const Mt=Object.freeze({status:"aborted"}),ih=e=>({status:"dirty",value:e}),es=e=>({status:"valid",value:e}),dk=e=>e.status==="aborted",hk=e=>e.status==="dirty",Uu=e=>e.status==="valid",Bg=e=>typeof Promise<"u"&&e instanceof Promise;var ft;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(ft||(ft={}));class Yo{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fk=(e,t)=>{if(Uu(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ts(e.common.issues);return this._error=n,this._error}}};function qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(a,o)=>{const{message:l}=e;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:i}}class nn{get description(){return this._def.description}_getType(t){return wo(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:wo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ii,ctx:{common:t.parent.common,data:t.data,parsedType:wo(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Bg(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:n?.async??!1,contextualErrorMap:n?.errorMap},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wo(t)},i=this._parseSync({data:t,path:r.path,parent:r});return fk(r,i)}"~validate"(t){const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wo(t)};if(!this["~standard"].async)try{const r=this._parseSync({data:t,path:[],parent:n});return Uu(r)?{value:r.value}:{issues:n.common.issues}}catch(r){r?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(r=>Uu(r)?{value:r.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n?.errorMap,async:!0},path:n?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wo(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(Bg(i)?i:Promise.resolve(i));return fk(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=t(i),o=()=>s.addIssue({code:Ve.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new zu({schema:this,typeName:Ot.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return $o.create(this,this._def)}nullable(){return qu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ia.create(this)}promise(){return qg.create(this,this._def)}or(t){return $g.create([this,t],this._def)}and(t){return zg.create(this,t,this._def)}transform(t){return new zu({...qt(this._def),schema:this,typeName:Ot.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Yw({...qt(this._def),innerType:this,defaultValue:n,typeName:Ot.ZodDefault})}brand(){return new OZ({typeName:Ot.ZodBranded,type:this,...qt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Kw({...qt(this._def),innerType:this,catchValue:n,typeName:Ot.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return ux.create(this,t)}readonly(){return Xw.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const fZ=/^c[^\s-]{8,}$/i,pZ=/^[0-9a-z]+$/,mZ=/^[0-9A-HJKMNP-TV-Z]{26}$/i,gZ=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,vZ=/^[a-z0-9_-]{21}$/i,yZ=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,wZ=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,bZ=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xZ="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let J1;const _Z=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,SZ=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,AZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,kZ=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CZ=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,EZ=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,oL="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",NZ=new RegExp(`^${oL}$`);function lL(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function TZ(e){return new RegExp(`^${lL(e)}$`)}function PZ(e){let t=`${oL}T${lL(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function RZ(e,t){return!!((t==="v4"||!t)&&_Z.test(e)||(t==="v6"||!t)&&AZ.test(e))}function LZ(e,t){if(!yZ.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function IZ(e,t){return!!((t==="v4"||!t)&&SZ.test(e)||(t==="v6"||!t)&&kZ.test(e))}class To extends nn{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ct.string){const s=this._getOrReturnCtx(t);return tt(s,{code:Ve.invalid_type,expected:ct.string,received:s.parsedType}),Mt}const r=new Ii;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:Ve.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:Ve.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=t.data.length>s.value,o=t.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(t,i),a?tt(i,{code:Ve.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&tt(i,{code:Ve.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")bZ.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"email",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")J1||(J1=new RegExp(xZ,"u")),J1.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"emoji",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")gZ.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"uuid",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")vZ.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"nanoid",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")fZ.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"cuid",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")pZ.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"cuid2",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")mZ.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"ulid",code:Ve.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),tt(i,{validation:"url",code:Ve.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"regex",code:Ve.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),tt(i,{code:Ve.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),tt(i,{code:Ve.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),tt(i,{code:Ve.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?PZ(s).test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{code:Ve.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?NZ.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{code:Ve.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?TZ(s).test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{code:Ve.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?wZ.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"duration",code:Ve.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?RZ(t.data,s.version)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"ip",code:Ve.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?LZ(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"jwt",code:Ve.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?IZ(t.data,s.version)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"cidr",code:Ve.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?CZ.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"base64",code:Ve.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?EZ.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"base64url",code:Ve.invalid_string,message:s.message}),r.dirty()):rn.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:Ve.invalid_string,...ft.errToObj(r)})}_addCheck(t){return new To({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ft.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ft.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ft.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ft.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ft.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ft.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ft.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ft.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ft.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ft.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ft.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ft.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ft.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...ft.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...ft.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...ft.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ft.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n?.position,...ft.errToObj(n?.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ft.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ft.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ft.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ft.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ft.errToObj(n)})}nonempty(t){return this.min(1,ft.errToObj(t))}trim(){return new To({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new To({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new To({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}To.create=e=>new To({checks:[],typeName:Ot.ZodString,coerce:e?.coerce??!1,...qt(e)});function MZ(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(t.toFixed(i).replace(".",""));return s%a/10**i}class pf extends nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ct.number){const s=this._getOrReturnCtx(t);return tt(s,{code:Ve.invalid_type,expected:ct.number,received:s.parsedType}),Mt}let r;const i=new Ii;for(const s of this._def.checks)s.kind==="int"?rn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),tt(r,{code:Ve.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),tt(r,{code:Ve.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),tt(r,{code:Ve.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?MZ(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),tt(r,{code:Ve.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),tt(r,{code:Ve.not_finite,message:s.message}),i.dirty()):rn.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ft.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ft.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ft.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ft.toString(n))}setLimit(t,n,r,i){return new pf({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ft.toString(i)}]})}_addCheck(t){return new pf({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ft.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ft.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ft.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ft.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ft.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ft.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ft.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ft.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ft.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&rn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}pf.create=e=>new pf({checks:[],typeName:Ot.ZodNumber,coerce:e?.coerce||!1,...qt(e)});class mf extends nn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ct.bigint)return this._getInvalidInput(t);let r;const i=new Ii;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),tt(r,{code:Ve.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),tt(r,{code:Ve.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),tt(r,{code:Ve.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):rn.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return tt(n,{code:Ve.invalid_type,expected:ct.bigint,received:n.parsedType}),Mt}gte(t,n){return this.setLimit("min",t,!0,ft.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ft.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ft.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ft.toString(n))}setLimit(t,n,r,i){return new mf({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ft.toString(i)}]})}_addCheck(t){return new mf({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ft.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ft.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ft.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ft.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ft.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}mf.create=e=>new mf({checks:[],typeName:Ot.ZodBigInt,coerce:e?.coerce??!1,...qt(e)});class pk extends nn{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ct.boolean){const r=this._getOrReturnCtx(t);return tt(r,{code:Ve.invalid_type,expected:ct.boolean,received:r.parsedType}),Mt}return es(t.data)}}pk.create=e=>new pk({typeName:Ot.ZodBoolean,coerce:e?.coerce||!1,...qt(e)});class Ug extends nn{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ct.date){const s=this._getOrReturnCtx(t);return tt(s,{code:Ve.invalid_type,expected:ct.date,received:s.parsedType}),Mt}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return tt(s,{code:Ve.invalid_date}),Mt}const r=new Ii;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:Ve.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:Ve.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):rn.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Ug({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ft.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ft.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Ug.create=e=>new Ug({checks:[],coerce:e?.coerce||!1,typeName:Ot.ZodDate,...qt(e)});class mk extends nn{_parse(t){if(this._getType(t)!==ct.symbol){const r=this._getOrReturnCtx(t);return tt(r,{code:Ve.invalid_type,expected:ct.symbol,received:r.parsedType}),Mt}return es(t.data)}}mk.create=e=>new mk({typeName:Ot.ZodSymbol,...qt(e)});class gk extends nn{_parse(t){if(this._getType(t)!==ct.undefined){const r=this._getOrReturnCtx(t);return tt(r,{code:Ve.invalid_type,expected:ct.undefined,received:r.parsedType}),Mt}return es(t.data)}}gk.create=e=>new gk({typeName:Ot.ZodUndefined,...qt(e)});class vk extends nn{_parse(t){if(this._getType(t)!==ct.null){const r=this._getOrReturnCtx(t);return tt(r,{code:Ve.invalid_type,expected:ct.null,received:r.parsedType}),Mt}return es(t.data)}}vk.create=e=>new vk({typeName:Ot.ZodNull,...qt(e)});class yk extends nn{constructor(){super(...arguments),this._any=!0}_parse(t){return es(t.data)}}yk.create=e=>new yk({typeName:Ot.ZodAny,...qt(e)});class wk extends nn{constructor(){super(...arguments),this._unknown=!0}_parse(t){return es(t.data)}}wk.create=e=>new wk({typeName:Ot.ZodUnknown,...qt(e)});class Ko extends nn{_parse(t){const n=this._getOrReturnCtx(t);return tt(n,{code:Ve.invalid_type,expected:ct.never,received:n.parsedType}),Mt}}Ko.create=e=>new Ko({typeName:Ot.ZodNever,...qt(e)});class bk extends nn{_parse(t){if(this._getType(t)!==ct.undefined){const r=this._getOrReturnCtx(t);return tt(r,{code:Ve.invalid_type,expected:ct.void,received:r.parsedType}),Mt}return es(t.data)}}bk.create=e=>new bk({typeName:Ot.ZodVoid,...qt(e)});class ia extends nn{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==ct.array)return tt(n,{code:Ve.invalid_type,expected:ct.array,received:n.parsedType}),Mt;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(tt(n,{code:a?Ve.too_big:Ve.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(tt(n,{code:Ve.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(tt(n,{code:Ve.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new Yo(n,a,n.path,o)))).then(a=>Ii.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new Yo(n,a,n.path,o)));return Ii.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new ia({...this._def,minLength:{value:t,message:ft.toString(n)}})}max(t,n){return new ia({...this._def,maxLength:{value:t,message:ft.toString(n)}})}length(t,n){return new ia({...this._def,exactLength:{value:t,message:ft.toString(n)}})}nonempty(t){return this.min(1,t)}}ia.create=(e,t)=>new ia({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ot.ZodArray,...qt(t)});function Gc(e){if(e instanceof $n){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=$o.create(Gc(r))}return new $n({...e._def,shape:()=>t})}else return e instanceof ia?new ia({...e._def,type:Gc(e.element)}):e instanceof $o?$o.create(Gc(e.unwrap())):e instanceof qu?qu.create(Gc(e.unwrap())):e instanceof ic?ic.create(e.items.map(t=>Gc(t))):e}class $n extends nn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=rn.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==ct.object){const c=this._getOrReturnCtx(t);return tt(c,{code:Ve.invalid_type,expected:ct.object,received:c.parsedType}),Mt}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ko&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const u=s[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Yo(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ko){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(tt(i,{code:Ve.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Yo(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,g=await u.value;c.push({key:f,value:g,alwaysSet:u.alwaysSet})}return c}).then(c=>Ii.mergeObjectSync(r,c)):Ii.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return ft.errToObj,new $n({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{const i=this._def.errorMap?.(n,r).message??r.defaultError;return n.code==="unrecognized_keys"?{message:ft.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new $n({...this._def,unknownKeys:"strip"})}passthrough(){return new $n({...this._def,unknownKeys:"passthrough"})}extend(t){return new $n({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new $n({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ot.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new $n({...this._def,catchall:t})}pick(t){const n={};for(const r of rn.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new $n({...this._def,shape:()=>n})}omit(t){const n={};for(const r of rn.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new $n({...this._def,shape:()=>n})}deepPartial(){return Gc(this)}partial(t){const n={};for(const r of rn.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new $n({...this._def,shape:()=>n})}required(t){const n={};for(const r of rn.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof $o;)s=s._def.innerType;n[r]=s}return new $n({...this._def,shape:()=>n})}keyof(){return cL(rn.objectKeys(this.shape))}}$n.create=(e,t)=>new $n({shape:()=>e,unknownKeys:"strip",catchall:Ko.create(),typeName:Ot.ZodObject,...qt(t)});$n.strictCreate=(e,t)=>new $n({shape:()=>e,unknownKeys:"strict",catchall:Ko.create(),typeName:Ot.ZodObject,...qt(t)});$n.lazycreate=(e,t)=>new $n({shape:e,unknownKeys:"strip",catchall:Ko.create(),typeName:Ot.ZodObject,...qt(t)});class $g extends nn{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new Ts(o.ctx.common.issues));return tt(n,{code:Ve.invalid_union,unionErrors:a}),Mt}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new Ts(l));return tt(n,{code:Ve.invalid_union,unionErrors:o}),Mt}}get options(){return this._def.options}}$g.create=(e,t)=>new $g({options:e,typeName:Ot.ZodUnion,...qt(t)});function Gw(e,t){const n=wo(e),r=wo(t);if(e===t)return{valid:!0,data:e};if(n===ct.object&&r===ct.object){const i=rn.objectKeys(t),s=rn.objectKeys(e).filter(o=>i.indexOf(o)!==-1),a={...e,...t};for(const o of s){const l=Gw(e[o],t[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===ct.array&&r===ct.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const a=e[s],o=t[s],l=Gw(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===ct.date&&r===ct.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class zg extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,a)=>{if(dk(s)||dk(a))return Mt;const o=Gw(s.value,a.value);return o.valid?((hk(s)||hk(a))&&n.dirty(),{status:n.value,value:o.data}):(tt(r,{code:Ve.invalid_intersection_types}),Mt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}zg.create=(e,t,n)=>new zg({left:e,right:t,typeName:Ot.ZodIntersection,...qt(n)});class ic extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ct.array)return tt(r,{code:Ve.invalid_type,expected:ct.array,received:r.parsedType}),Mt;if(r.data.length<this._def.items.length)return tt(r,{code:Ve.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Mt;!this._def.rest&&r.data.length>this._def.items.length&&(tt(r,{code:Ve.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Yo(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Ii.mergeArray(n,a)):Ii.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new ic({...this._def,rest:t})}}ic.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ic({items:e,typeName:Ot.ZodTuple,rest:null,...qt(t)})};class xk extends nn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ct.map)return tt(r,{code:Ve.invalid_type,expected:ct.map,received:r.parsedType}),Mt;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new Yo(r,o,r.path,[c,"key"])),value:s._parse(new Yo(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Mt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Mt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}}}}xk.create=(e,t,n)=>new xk({valueType:t,keyType:e,typeName:Ot.ZodMap,...qt(n)});class gf extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==ct.set)return tt(r,{code:Ve.invalid_type,expected:ct.set,received:r.parsedType}),Mt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(tt(r,{code:Ve.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(tt(r,{code:Ve.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Mt;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>s._parse(new Yo(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(t,n){return new gf({...this._def,minSize:{value:t,message:ft.toString(n)}})}max(t,n){return new gf({...this._def,maxSize:{value:t,message:ft.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}gf.create=(e,t)=>new gf({valueType:e,minSize:null,maxSize:null,typeName:Ot.ZodSet,...qt(t)});class _k extends nn{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}_k.create=(e,t)=>new _k({getter:e,typeName:Ot.ZodLazy,...qt(t)});class Sk extends nn{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return tt(n,{received:n.data,code:Ve.invalid_literal,expected:this._def.value}),Mt}return{status:"valid",value:t.data}}get value(){return this._def.value}}Sk.create=(e,t)=>new Sk({value:e,typeName:Ot.ZodLiteral,...qt(t)});function cL(e,t){return new $u({values:e,typeName:Ot.ZodEnum,...qt(t)})}class $u extends nn{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return tt(n,{expected:rn.joinValues(r),received:n.parsedType,code:Ve.invalid_type}),Mt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return tt(n,{received:n.data,code:Ve.invalid_enum_value,options:r}),Mt}return es(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return $u.create(t,{...this._def,...n})}exclude(t,n=this._def){return $u.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}$u.create=cL;class Ak extends nn{_parse(t){const n=rn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==ct.string&&r.parsedType!==ct.number){const i=rn.objectValues(n);return tt(r,{expected:rn.joinValues(i),received:r.parsedType,code:Ve.invalid_type}),Mt}if(this._cache||(this._cache=new Set(rn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=rn.objectValues(n);return tt(r,{received:r.data,code:Ve.invalid_enum_value,options:i}),Mt}return es(t.data)}get enum(){return this._def.values}}Ak.create=(e,t)=>new Ak({values:e,typeName:Ot.ZodNativeEnum,...qt(t)});class qg extends nn{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==ct.promise&&n.common.async===!1)return tt(n,{code:Ve.invalid_type,expected:ct.promise,received:n.parsedType}),Mt;const r=n.parsedType===ct.promise?n.data:Promise.resolve(n.data);return es(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}qg.create=(e,t)=>new qg({type:e,typeName:Ot.ZodPromise,...qt(t)});class zu extends nn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ot.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:a=>{tt(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return Mt;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?Mt:l.status==="dirty"||n.value==="dirty"?ih(l.value):l});{if(n.value==="aborted")return Mt;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?Mt:o.status==="dirty"||n.value==="dirty"?ih(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Mt:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?Mt:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Uu(a))return Mt;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Uu(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):Mt);rn.assertNever(i)}}zu.create=(e,t,n)=>new zu({schema:e,typeName:Ot.ZodEffects,effect:t,...qt(n)});zu.createWithPreprocess=(e,t,n)=>new zu({schema:t,effect:{type:"preprocess",transform:e},typeName:Ot.ZodEffects,...qt(n)});class $o extends nn{_parse(t){return this._getType(t)===ct.undefined?es(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}$o.create=(e,t)=>new $o({innerType:e,typeName:Ot.ZodOptional,...qt(t)});class qu extends nn{_parse(t){return this._getType(t)===ct.null?es(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}qu.create=(e,t)=>new qu({innerType:e,typeName:Ot.ZodNullable,...qt(t)});class Yw extends nn{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===ct.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Yw.create=(e,t)=>new Yw({innerType:e,typeName:Ot.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qt(t)});class Kw extends nn{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Bg(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ts(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ts(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Kw.create=(e,t)=>new Kw({innerType:e,typeName:Ot.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qt(t)});class kk extends nn{_parse(t){if(this._getType(t)!==ct.nan){const r=this._getOrReturnCtx(t);return tt(r,{code:Ve.invalid_type,expected:ct.nan,received:r.parsedType}),Mt}return{status:"valid",value:t.data}}}kk.create=e=>new kk({typeName:Ot.ZodNaN,...qt(e)});class OZ extends nn{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ux extends nn{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Mt:s.status==="dirty"?(n.dirty(),ih(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Mt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new ux({in:t,out:n,typeName:Ot.ZodPipeline})}}class Xw extends nn{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Uu(i)&&(i.value=Object.freeze(i.value)),i);return Bg(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}Xw.create=(e,t)=>new Xw({innerType:e,typeName:Ot.ZodReadonly,...qt(t)});$n.lazycreate;var Ot;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ot||(Ot={}));const uL=To.create;Ko.create;ia.create;$n.create;$n.strictCreate;$g.create;zg.create;ic.create;$u.create;qg.create;$o.create;qu.create;const jZ=uL().email("Please enter a valid email"),DZ=uL().min(6,"Password must be at least 6 characters"),FZ=()=>{const[e,t]=R.useState(!0),[n,r]=R.useState(""),[i,s]=R.useState(""),[a,o]=R.useState(!1),[l,c]=R.useState(!1),[u,f]=R.useState({}),g=A3(),{toast:d}=Qo();R.useEffect(()=>{const{data:{subscription:p}}=Wt.auth.onAuthStateChange((y,b)=>{b?.user&&g("/",{replace:!0})});return Wt.auth.getSession().then(({data:{session:y}})=>{y?.user&&g("/",{replace:!0})}),()=>p.unsubscribe()},[g]);const m=()=>{const p={};try{jZ.parse(n)}catch(y){y instanceof Ts&&(p.email=y.errors[0].message)}try{DZ.parse(i)}catch(y){y instanceof Ts&&(p.password=y.errors[0].message)}return f(p),Object.keys(p).length===0},v=async p=>{if(p.preventDefault(),!!m()){o(!0);try{if(e){const{error:y}=await Wt.auth.signInWithPassword({email:n,password:i});y&&(y.message.includes("Invalid login credentials")?d({title:"Login Failed",description:"Invalid email or password",variant:"destructive"}):d({title:"Error",description:y.message,variant:"destructive"}))}else{const{error:y}=await Wt.auth.signUp({email:n,password:i,options:{emailRedirectTo:window.location.origin}});y?y.message.includes("already registered")?d({title:"Account Exists",description:"This email is already registered. Try logging in.",variant:"destructive"}):d({title:"Error",description:y.message,variant:"destructive"}):(d({title:"Account Created!",description:"You can now log in with your credentials."}),t(!0))}}catch{d({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{o(!1)}}},h=async()=>{c(!0);try{const{error:p}=await cZ.auth.signInWithOAuth("google",{redirect_uri:window.location.origin});p&&d({title:"Google Sign In Failed",description:p.message,variant:"destructive"})}catch{d({title:"Error",description:"Failed to connect to Google",variant:"destructive"})}finally{c(!1)}};return x.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-4",children:x.jsxs("div",{className:"w-full max-w-md",children:[x.jsxs("div",{className:"text-center mb-8",children:[x.jsx("div",{className:"inline-flex items-center gap-2 mb-4",children:x.jsx("div",{className:"w-12 h-12 bg-primary rounded-2xl flex items-center justify-center shadow-glow",children:x.jsx(ug,{className:"text-primary-foreground",size:24})})}),x.jsx("h1",{className:"text-2xl font-black text-foreground",children:"Welcome to StudySync"}),x.jsx("p",{className:"text-muted-foreground mt-1",children:e?"Sign in to continue":"Create your account"})]}),x.jsxs("div",{className:"bg-card p-8 rounded-pill shadow-elevated border border-border/50",children:[x.jsxs(Qt,{type:"button",variant:"outline",className:"w-full h-12 gap-3 mb-6",onClick:h,disabled:l,children:[l?x.jsx(sa,{className:"animate-spin",size:20}):x.jsxs("svg",{viewBox:"0 0 24 24",width:"20",height:"20",children:[x.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),x.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),x.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),x.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]}),x.jsxs("div",{className:"relative mb-6",children:[x.jsx("div",{className:"absolute inset-0 flex items-center",children:x.jsx("div",{className:"w-full border-t border-border"})}),x.jsx("div",{className:"relative flex justify-center",children:x.jsx("span",{className:"bg-card px-4 text-xs text-muted-foreground uppercase tracking-widest",children:"or continue with email"})})]}),x.jsxs("form",{onSubmit:v,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsxs("div",{className:"relative",children:[x.jsx(PO,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),x.jsx(Cs,{type:"email",placeholder:"Email address",value:n,onChange:p=>r(p.target.value),className:"pl-10 h-12"})]}),u.email&&x.jsx("p",{className:"text-xs text-destructive mt-1",children:u.email})]}),x.jsxs("div",{children:[x.jsxs("div",{className:"relative",children:[x.jsx(TO,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",size:18}),x.jsx(Cs,{type:"password",placeholder:"Password",value:i,onChange:p=>s(p.target.value),className:"pl-10 h-12"})]}),u.password&&x.jsx("p",{className:"text-xs text-destructive mt-1",children:u.password})]}),x.jsx(Qt,{type:"submit",className:"w-full h-12 gap-2 shadow-glow",disabled:a,children:a?x.jsx(sa,{className:"animate-spin",size:18}):x.jsxs(x.Fragment,{children:[e?"Sign In":"Create Account",x.jsx(p4,{size:18})]})})]}),x.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-6",children:[e?"Don't have an account?":"Already have an account?"," ",x.jsx("button",{type:"button",onClick:()=>{t(!e),f({})},className:"text-primary font-medium hover:underline",children:e?"Sign up":"Sign in"})]})]}),x.jsx("p",{className:"text-center text-xs text-muted-foreground mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})},BZ=()=>{const e=_0();return R.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),x.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:x.jsxs("div",{className:"text-center",children:[x.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),x.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),x.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},UZ=new mF;function $Z({children:e}){const{isAuthenticated:t,loading:n}=tl();return n?x.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:x.jsx("div",{className:"animate-pulse text-muted-foreground",children:"Loading..."})}):t?x.jsx(x.Fragment,{children:e}):x.jsx(i7,{to:"/auth",replace:!0})}const zZ=()=>x.jsx(vF,{client:UZ,children:x.jsxs(WD,{children:[x.jsx(N8,{}),x.jsx(aj,{}),x.jsx(c7,{children:x.jsxs(a7,{children:[x.jsx(Tm,{path:"/auth",element:x.jsx(FZ,{})}),x.jsx(Tm,{path:"/",element:x.jsx($Z,{children:x.jsx(QX,{})})}),x.jsx(Tm,{path:"*",element:x.jsx(BZ,{})})]})})]})});UE(document.getElementById("root")).render(x.jsx(zZ,{}));export{hn as _,qZ as c,Ck as g};
